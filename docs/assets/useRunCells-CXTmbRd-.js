import{s as b}from"./chunk-DZLz74EQ.js";import{d as g,l as k}from"./jotai-CqcPj6qO.js";import{Sn as v,it as y,lr as F,p as m,pr as x,w as D}from"./cells-CeDLVlyC.js";import{t as H}from"./compiler-runtime-bbSa6V1W.js";import{u as S}from"./hotkeys-BxvS_drY.js";import{r as V}from"./requests-oIXZIVkS.js";import{o as _}from"./dist-DYRcKBTi.js";import{n as i}from"./useEvent-Cf8AdHpz.js";var u=b(H(),1);const w=g(!1);function j(){let r=(0,u.c)(2),t=p(),n;return r[0]===t?n=r[1]:(n=()=>t(x(m())),r[0]=t,r[1]=n),i(n)}function q(r){let t=(0,u.c)(3),n=p(),o;return t[0]!==r||t[1]!==n?(o=()=>{r!==void 0&&n([r])},t[0]=r,t[1]=n,t[2]=o):o=t[2],i(o)}function z(){let r=(0,u.c)(2),t=p(),n;return r[0]===t?n=r[1]:(n=()=>t(F(m())),r[0]=t,r[1]=n),i(n)}function p(){let r=(0,u.c)(4),{prepareForRun:t}=D(),{sendRun:n}=V(),o=k(w),e;return r[0]!==t||r[1]!==n||r[2]!==o?(e=async s=>{if(s.length===0)return;let l=m();return o(!0),I({cellIds:s,sendRun:n,prepareForRun:t,notebook:l})},r[0]=t,r[1]=n,r[2]=o,r[3]=e):e=r[3],i(e)}async function I({cellIds:r,sendRun:t,prepareForRun:n,notebook:o}){var d,R,h;if(r.length===0)return;let{cellHandles:e,cellData:s}=o,l=[];for(let a of r){let c=(R=(d=e[a])==null?void 0:d.current)==null?void 0:R.editorView,f;c?(v(c)!=="markdown"&&_(c),f=y(c)):f=((h=s[a])==null?void 0:h.code)||"",l.push(f),n({cellId:a})}await t({cellIds:r,codes:l}).catch(a=>{S.error(a)})}export{p as a,q as i,I as n,j as o,z as r,w as t};
