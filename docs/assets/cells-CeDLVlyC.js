const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./esm-D9R3L5GH.js","./chunk-DZLz74EQ.js","./dist-DGVrZ2_h.js","./dist-DYRcKBTi.js","./dist-BhO6Skm7.js","./dist-BIwaxZLx.js","./dist-DN127eEP.js","./dist-CQqxjtPE.js","./dist-BTdDPbOv.js","./dist-hfg5F1cQ.js","./dist-BWV_7VoA.js","./dist-B0W-62VK.js","./dist-BxZZWGQm.js","./dist-4dBKvAyu.js","./dist-BzGULjtt.js","./dist-DLC_46KV.js","./dist-DA4REUWb.js","./dist-N_9BbTEn.js","./dist-CmmIA-QX.js","./dist-CoH002oE.js","./dist-CTnCzwDO.js","./dist-7pKKsqj9.js","./dist-BeLp8J28.js","./dist-BYXrDIOf.js","./dist-CT07wNjy.js","./dist-Sq3Blu5X.js","./dist-0fLgeFYh.js","./dist-BfVGBKVx.js","./dist-CcT9aH0f.js","./dist-BkE84fyB.js","./dist-Dg2hoRfc.js","./dist-BQIGq7aD.js","./dist-Cyd6BKf3.js","./dist-CsDa4NLB.js","./dist-D6YDRgIP.js","./dist-CNqcputB.js","./dist-D2OZ4af5.js","./dist-CF4lVcXK.js","./dist-Cep6eaBU.js","./dist-DJVr_TjI.js","./dist-CG6nuuxF.js","./apl-BayUfYiK.js","./apl-B3qFo22I.js","./asciiarmor-BbtZAjVH.js","./asciiarmor-BeSUfcJj.js","./asn1-BSX5WfCz.js","./asn1-Yuw4PYDQ.js","./brainfuck-YDi5Y1Tv.js","./brainfuck-ONQfYmGG.js","./cobol-CCruVrqL.js","./cobol-CTy-rAxC.js","./clike-BLGzyOUO.js","./clike-BYwnXoSp.js","./clojure-CPnn79Jp.js","./clojure-D0qS3s8l.js","./css-DNKEEr4_.js","./css-BWSZbBOG.js","./cmake-BzNHRrqF.js","./cmake-DrUW7k4w.js","./coffeescript-B-eOxUTQ.js","./coffeescript-DvX85jdj.js","./commonlisp-weoGbcKX.js","./commonlisp-rN2-4tA3.js","./cypher-BRnTuRqZ.js","./cypher-CN0hHtlQ.js","./python-17rwTUSb.js","./python-CV8UgSMV.js","./crystal-Bb4vf_8Q.js","./crystal-DH9HaNMr.js","./d-C5R5WYqB.js","./d-CfFhByTO.js","./diff-CAd1-acn.js","./diff-D5KX9jWB.js","./dockerfile-B5ZRTXzq.js","./simple-mode-iIH2XKLC.js","./dtd-CDwrKLCI.js","./dtd-CAOt54Lh.js","./dylan-BpGTwX28.js","./dylan-BRjSQyPa.js","./ecl-B8EdR_0a.js","./ecl-BFmhHLwk.js","./eiffel-KC-FuFcU.js","./eiffel-C-yEc4lk.js","./elm-BunIUFei.js","./elm-D-xosfDF.js","./erlang-4GgeW8M6.js","./erlang-DwS6VO1i.js","./factor-BdeQ51yB.js","./factor-BAvqFhQd.js","./forth-CNffzugU.js","./forth-M-b7RVCY.js","./fortran-jAWg0xpj.js","./fortran-BY42hR-9.js","./mllike-8ScnlWKP.js","./mllike-DSB5KObs.js","./gas-DlgbZm7R.js","./gas-DUer3zP4.js","./gherkin-BATtmvjp.js","./gherkin-BOmBFtxo.js","./groovy-CMCRYue4.js","./groovy-CYRk_Zq8.js","./haskell-CI4iJBv-.js","./haskell-fLeayyju.js","./haxe-E5nCf3WO.js","./haxe-DiJvQ3PF.js","./idl-CafLJRIT.js","./idl-D0PcccZ6.js","./javascript-CTBGtK-U.js","./javascript-oC9cmYGe.js","./julia-D_XPf6PQ.js","./julia-z0xq3uqV.js","./livescript-BcySDqVp.js","./livescript-BbVvVfSY.js","./lua-C2g4vKPW.js","./lua-CtEmKXsU.js","./mirc-m5tZSAj-.js","./mirc-Cyycx3am.js","./mathematica-CGC4E4mf.js","./mathematica-B-SjlQIm.js","./modelica-Df0Pzd3q.js","./modelica-DIZcE54y.js","./mumps-DIzXo46K.js","./mumps-Cnu1tNUa.js","./mbox-COMy3rAR.js","./mbox-BdnWvTJv.js","./nsis-4fAa2QjY.js","./nsis-BjqFSJO3.js","./ntriples-Di_qQuNU.js","./ntriples-2rre165b.js","./octave-d2UG6bxb.js","./octave-C7u5CeUZ.js","./oz-XuOfGqvG.js","./oz-D5aE2uST.js","./pascal-C_8pV97M.js","./pascal-DTApZM3o.js","./perl-D0yyvTB8.js","./perl-Ckgh9LJK.js","./pig-DdChm7J-.js","./pig-jAl9a1Kh.js","./powershell-BahaFAkM.js","./powershell-C_IKzlOl.js","./properties-B0UjS1mb.js","./properties-BdVxDpDJ.js","./protobuf-CIEUsgCC.js","./protobuf-DLu_SUI6.js","./pug-BSPSwOIU.js","./pug-B4oU-GIl.js","./puppet-CfWRrQAj.js","./puppet-CShRizHW.js","./q-BTop3Sb0.js","./q-D2OTJZH4.js","./r-Du4KfitP.js","./r-DRqIAgj1.js","./rpm-DVraFRLa.js","./rpm-BStFD27m.js","./ruby-CQkBK2a9.js","./ruby-C37hkPS4.js","./sas-DIYn6ybi.js","./sas-CCEIl8BG.js","./scheme-DQaXtNs_.js","./scheme-B0jflgrk.js","./shell-BKwxMNJ_.js","./shell-Cq7B0hFW.js","./sieve-BuFsd2gQ.js","./sieve-DS0lS4kt.js","./smalltalk-BRk1-XQy.js","./smalltalk-HHM53Uii.js","./sparql-DbKuGH6l.js","./sparql-BMqtnWzI.js","./stylus-CFOJzR7o.js","./stylus-Br2gMpMI.js","./swift-BUhTx6hv.js","./swift-BJ8qi_zI.js","./stex-avUMc9RY.js","./stex-p3EifZIQ.js","./verilog-BO-pDm62.js","./verilog-MmKxT9bW.js","./tcl-MP-B_vsS.js","./tcl-D0knbOX7.js","./textile-MTIaEDRe.js","./textile-DrRQSuh3.js","./toml-DY0cxrsl.js","./toml-C2kDGfZi.js","./troff-BIxIeW8s.js","./troff-2dFxqWQa.js","./ttcn-BE49dEYh.js","./ttcn-Cj4sIofh.js","./ttcn-cfg-BD8YYA5a.js","./ttcn-cfg-CBXajWEo.js","./turtle-BclFB0tn.js","./turtle-CDdPtp5F.js","./webidl-DHMC9GWF.js","./webidl-D9f20BkN.js","./vb-DsN-p1cU.js","./vb-CtEhAMYU.js","./vbscript-DCmHq9j7.js","./vbscript-B0nzdgzL.js","./velocity-DOhnCHS-.js","./velocity-DR7TSall.js","./vhdl-BN6ynKWP.js","./vhdl-0jJrpQNA.js","./xquery-P4k--790.js","./xquery-B0eSGN9q.js","./yacas-2Y6ARAKT.js","./yacas-BS613OH9.js","./z80-CoWNhP-u.js","./z80-CJYC52xh.js","./mscgen-ChgEFq6F.js","./mscgen-MISBZbzR.js","./dist-bZT0ArJL.js","./dist-D-fgvVNt.js","./dist-BemY0lMT.js"])))=>i.map(i=>d[i]);
var xT=Object.defineProperty;var kT=(Ni,Br,ya)=>Br in Ni?xT(Ni,Br,{enumerable:!0,configurable:!0,writable:!0,value:ya}):Ni[Br]=ya;var Te=(Ni,Br,ya)=>kT(Ni,typeof Br!="symbol"?Br+"":Br,ya);import{a as fu,n as Gb,r as CT,s as Qt,t as ke}from"./chunk-DZLz74EQ.js";import{a as ST,c as Kn,d as Be,n as ut,o as Jb,s as Xb,t as ET}from"./jotai-CqcPj6qO.js";import{t as pu}from"./react-cj45iF1i.js";import{t as TT}from"./react-dom-BjyRIiB0.js";import{A as RT,E as Yb,F as Zb,P as DT,V as OT,w as PT,z as NT}from"./zod-U2NFpcFA.js";import{t as Fr}from"./compiler-runtime-bbSa6V1W.js";import{f as LT}from"./_Uint8Array-D5Z9rM2X.js";import{n as MT}from"./toString-CSTolK5a.js";import{t as IT}from"./toInteger-Dibvs7y1.js";import{d as AT,t as qT}from"./isArrayLikeObject-JtDUKn_v.js";import{u as jT}from"./_baseIsEqual-DxkXZaQt.js";import{i as as,t as zT}from"./useLifecycle-Rh0PP8AP.js";import{a as FT,i as BT,n as HT,r as nh,t as VT}from"./type-CJyAPkYT.js";import{t as $T}from"./_baseProperty-CIKnF2iY.js";import{t as e2}from"./debounce-DEligtiB.js";import{a as ti,o as WT,u as Oe}from"./hotkeys-BxvS_drY.js";import{t as Ln}from"./invariant-L2NCWzlc.js";import{d as rh,t as UT}from"./utils-BaKzT0lw.js";import{_ as KT,r as QT}from"./config-BiJechkS.js";import{r as t2}from"./useEventListener-B585XJK6.js";import{t as GT}from"./jsx-runtime-srqCRIcI.js";import{t as n2}from"./button-C3DbbTE3.js";import{t as hu}from"./cn-BaXqCYqP.js";import{Bt as r2,C as JT,D as XT,Dt as ih,Et as os,F as i2,Gt as no,H as YT,It as mu,Jt as ss,K as gu,Kt as yu,Lt as fn,R as a2,Rt as vu,S as ZT,T as o2,Ut as s2,V as l2,Vt as bu,b as c2,bt as ro,ct as eR,et as u2,f as d2,ft as tR,k as nR,l as ce,nt as rR,ot as io,p as iR,qt as ao,rt as Tn,tt as Ri,u as f2,wt as p2,yt as h2,zt as Rl}from"./dist-BhO6Skm7.js";import{C as aR,O as oR,T as sR,_ as lR,a as cR,b as uR,d as dR,f as fR,g as pR,i as m2,m as hR,o as mR,p as gR,t as yR,u as ah,w as vR,x as bR,y as _R}from"./dist-nXbuW0eA.js";import{a as g2,i as wR,n as ni,o as y2,p as oh,s as Dl}from"./once-BumILI4b.js";import{t as xR}from"./capabilities-DYNQ6-Fr.js";import{t as kR}from"./cjs-Cm5h4Epc.js";import{t as Ol}from"./createReducer-Dmpo08fh.js";import{t as Di}from"./requests-oIXZIVkS.js";import{d as v2,l as b2,n as CR,o as _2,p as SR,r as _u}from"./dist-DYRcKBTi.js";import{a as ER,c as TR,d as RR,f as w2,i as DR,l as OR,n as PR,o as sh,r as NR,s as lh,t as LR,u as MR}from"./dist-BIwaxZLx.js";import{t as zn}from"./createLucideIcon-DjFD6uqw.js";import{t as IR}from"./check-qhKOrN4z.js";import{a as AR,c as qR,i as ch,m as jR,n as zR,o as x2,r as FR,s as BR,t as HR}from"./select-C3lT2mrt.js";import{t as VR,u as $R}from"./toDate-DvFyyQ0g.js";import{n as WR,t as wu}from"./DeferredRequestRegistry-Ccjmqswm.js";import{t as cr}from"./badge-Czo8nniw.js";import{t as ue}from"./preload-helper-DrOAYyMx.js";import{a as k2,s as UR}from"./dist-0fLgeFYh.js";import{a as KR,i as uh,n as QR,r as C2,t as GR}from"./dist-Dg2hoRfc.js";import{n as JR}from"./stex-p3EifZIQ.js";import{t as xu}from"./use-toast-CRhq8yNT.js";import{i as dh,r as fh}from"./main-CJaEi7_U.js";import{t as S2}from"./marked.esm-DI1fWf7x.js";import{a as XR,s as ri,t as Pl}from"./connection-9kD-dTJL.js";import{E as YR,S as ZR,_ as ph,w as E2,x as e4}from"./Combination-ChS5GBa2.js";import{l as t4}from"./dist-C8L1g4FL.js";import{i as n4,t as hh}from"./tooltip-DPrt9GJd.js";import{t as r4}from"./useNonce-DNmDtTkp.js";let ku,T2,R2,D2,Cu,ls,Su,O2,mh,P2,ii,N2,gh,Nl,L2,M2,I2,Eu,yh,A2,Tu,q2,vh,Sr,oo,Ru,Ll,Du,Ou,j2,bh,_h,wh,cs,Pu,Er,Nu,z2,Lu,F2,B2,xh,H2,kh,so,Ch,Ml,V2,Mu,$2,Il,W2,Al,U2,K2,Q2,lo,Iu,G2,J2,fa,us,X2,Y2,Sh,ql,Eh,Z2,e_,t_,Th,ds,Rh,pa,n_,Au,ha,qu,r_,i_,Dh,a_,Oh,Ph,ur,Nh,Lh,Mh,dr,ju,o_,s_,zu,Ih,Ah,Fu,Bu,qh,jh,l_,zh,Fh,c_,u_,d_,f_,p_,Hu,Bh,Vu,Hh,fs,ps,h_,ma,Vh,$u,m_,g_,$h,Tr,y_,v_,Wh,Uh,b_,__,Wu,w_,Uu,x_,Kh,k_,C_,co,Qh,S_,Ku,E_,T_,Qu,R_,Oi,ai,D_,O_,Fn,Gh,P_,N_,L_,M_,Jh,Gu,Xh,I_,A_,Yh,Ju,q_,Xu,jl,j_,Zh,z_,em,Dt,F_,Yu,Zu,tm,B_,nm,H_,V_,ed,$_,W_,U_,rm,K_,td,uo,Q_,G_,Pi,zl,J_,X_,Y_,Z_,nd,ew,tw,nw,Fl,rw,Bl,iw,aw,ow,sw,im,lw,ht,cw,am,fr,uw,om,ga,rd,i4=(async()=>{var Fi,uf,Sa;let Ni,Br,ya,cm;Ni=ke((e=>{function n(ie,le){var K=ie.length;ie.push(le);e:for(;0<K;){var Ne=K-1>>>1,Ue=ie[Ne];if(0<s(Ue,le))ie[Ne]=le,ie[K]=Ue,K=Ne;else break e}}function i(ie){return ie.length===0?null:ie[0]}function o(ie){if(ie.length===0)return null;var le=ie[0],K=ie.pop();if(K!==le){ie[0]=K;e:for(var Ne=0,Ue=ie.length,ot=Ue>>>1;Ne<ot;){var ze=2*(Ne+1)-1,He=ie[ze],De=ze+1,Le=ie[De];if(0>s(He,K))De<Ue&&0>s(Le,He)?(ie[Ne]=Le,ie[De]=K,Ne=De):(ie[Ne]=He,ie[ze]=K,Ne=ze);else if(De<Ue&&0>s(Le,K))ie[Ne]=Le,ie[De]=K,Ne=De;else break e}}return le}function s(ie,le){var K=ie.sortIndex-le.sortIndex;return K===0?ie.id-le.id:K}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();e.unstable_now=function(){return d.now()-p}}var m=[],v=[],_=1,w=null,C=3,E=!1,R=!1,M=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function G(ie){for(var le=i(v);le!==null;){if(le.callback===null)o(v);else if(le.startTime<=ie)o(v),le.sortIndex=le.expirationTime,n(m,le);else break;le=i(v)}}function me(ie){if(M=!1,G(ie),!R)if(i(m)!==null)R=!0,N||(N=!0,Z());else{var le=i(v);le!==null&&ne(me,le.startTime-ie)}}var N=!1,q=-1,V=5,de=-1;function fe(){return H?!0:!(e.unstable_now()-de<V)}function xe(){if(H=!1,N){var ie=e.unstable_now();de=ie;var le=!0;try{e:{R=!1,M&&(M=!1,U(q),q=-1),E=!0;var K=C;try{t:{for(G(ie),w=i(m);w!==null&&!(w.expirationTime>ie&&fe());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,C=w.priorityLevel;var Ue=Ne(w.expirationTime<=ie);if(ie=e.unstable_now(),typeof Ue=="function"){w.callback=Ue,G(ie),le=!0;break t}w===i(m)&&o(m),G(ie)}else o(m);w=i(m)}if(w!==null)le=!0;else{var ot=i(v);ot!==null&&ne(me,ot.startTime-ie),le=!1}}break e}finally{w=null,C=K,E=!1}le=void 0}}finally{le?Z():N=!1}}}var Z;if(typeof I=="function")Z=function(){I(xe)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Se=be.port2;be.port1.onmessage=xe,Z=function(){Se.postMessage(null)}}else Z=function(){W(xe,0)};function ne(ie,le){q=W(function(){ie(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_next=function(ie){switch(C){case 1:case 2:case 3:var le=3;break;default:le=C}var K=C;C=le;try{return ie()}finally{C=K}},e.unstable_requestPaint=function(){H=!0},e.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var K=C;C=ie;try{return le()}finally{C=K}},e.unstable_scheduleCallback=function(ie,le,K){var Ne=e.unstable_now();switch(typeof K=="object"&&K?(K=K.delay,K=typeof K=="number"&&0<K?Ne+K:Ne):K=Ne,ie){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=K+Ue,ie={id:_++,callback:le,priorityLevel:ie,startTime:K,expirationTime:Ue,sortIndex:-1},K>Ne?(ie.sortIndex=K,n(v,ie),i(m)===null&&ie===i(v)&&(M?(U(q),q=-1):M=!0,ne(me,K-Ne))):(ie.sortIndex=Ue,n(m,ie),R||E||(R=!0,N||(N=!0,Z()))),ie},e.unstable_shouldYield=fe,e.unstable_wrapCallback=function(ie){var le=C;return function(){var K=C;C=le;try{return ie.apply(this,arguments)}finally{C=K}}}})),Br=ke(((e,n)=>{n.exports=Ni()})),ya=ke((e=>{var n=Br(),i=pu(),o=TT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function p(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(d(t)!==t)throw Error(s(188))}function v(t){var r=t.alternate;if(!r){if(r=d(t),r===null)throw Error(s(188));return r===t?t:null}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return m(f),t;if(g===l)return m(f),r;g=g.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=g;else{for(var S=!1,D=f.child;D;){if(D===a){S=!0,a=f,l=g;break}if(D===l){S=!0,l=f,a=g;break}D=D.sibling}if(!S){for(D=g.child;D;){if(D===a){S=!0,a=g,l=f;break}if(D===l){S=!0,l=g,a=f;break}D=D.sibling}if(!S)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),G=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function be(t){return typeof t!="object"||!t?null:(t=Z&&t[Z]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Symbol.for("react.client.reference");function ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Se?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case W:return"Profiler";case H:return"StrictMode";case N:return"Suspense";case q:return"SuspenseList";case fe:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case G:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case me:var r=t.render;return t=t.displayName,t||(t=(t=r.displayName||r.name||"",t===""?"ForwardRef":"ForwardRef("+t+")")),t;case V:return r=t.displayName||null,r===null?ne(t.type)||"Memo":r;case de:r=t._payload,t=t._init;try{return ne(t(r))}catch{}}return null}var ie=Array.isArray,le=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne={pending:!1,data:null,method:null,action:null},Ue=[],ot=-1;function ze(t){return{current:t}}function He(t){0>ot||(t.current=Ue[ot],Ue[ot]=null,ot--)}function De(t,r){ot++,Ue[ot]=t.current,t.current=r}var Le=ze(null),mn=ze(null),qt=ze(null),Dn=ze(null);function ln(t,r){switch(De(qt,r),De(mn,t),De(Le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Sb(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Sb(r),t=Eb(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}He(Le),De(Le,t)}function Ke(){He(Le),He(mn),He(qt)}function nn(t){t.memoizedState!==null&&De(Dn,t);var r=Le.current,a=Eb(r,t.type);r!==a&&(De(mn,t),De(Le,a))}function gt(t){mn.current===t&&(He(Le),He(mn)),Dn.current===t&&(He(Dn),kl._currentValue=Ne)}var gn=Object.prototype.hasOwnProperty,Yn=n.unstable_scheduleCallback,kt=n.unstable_cancelCallback,si=n.unstable_shouldYield,yn=n.unstable_requestPaint,vn=n.unstable_now,In=n.unstable_getCurrentPriorityLevel,Nr=n.unstable_ImmediatePriority,An=n.unstable_UserBlockingPriority,rn=n.unstable_NormalPriority,Bi=n.unstable_LowPriority,Wr=n.unstable_IdlePriority,Lr=n.log,li=n.unstable_setDisableYieldValue,Vt=null,Gt=null;function yt(t){if(typeof Lr=="function"&&li(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Vt,t)}catch{}}var Bt=Math.clz32?Math.clz32:Hi,Ct=Math.log,ci=Math.LN2;function Hi(t){return t>>>=0,t===0?32:31-(Ct(t)/ci|0)|0}var Mr=256,pr=4194304;function Ge(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function $t(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,g=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var D=l&134217727;return D===0?(D=l&~g,D===0?S===0?a||(a=l&~t,a!==0&&(f=Ge(a))):f=Ge(S):f=Ge(D)):(l=D&~g,l===0?(S&=D,S===0?a||(a=D&~t,a!==0&&(f=Ge(a))):f=Ge(S)):f=Ge(l)),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,a=r&-r,g>=a||g===32&&a&4194048)?r:f}function lt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function vt(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function On(){var t=Mr;return Mr<<=1,!(Mr&4194048)&&(Mr=256),t}function Ur(){var t=pr;return pr<<=1,!(pr&62914560)&&(pr=4194304),t}function St(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Zn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Kr(t,r,a,l,f,g){var S=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var D=t.entanglements,F=t.expirationTimes,te=t.hiddenUpdates;for(a=S&~a;0<a;){var pe=31-Bt(a),ve=1<<pe;D[pe]=0,F[pe]=-1;var ae=te[pe];if(ae!==null)for(te[pe]=null,pe=0;pe<ae.length;pe++){var se=ae[pe];se!==null&&(se.lane&=-536870913)}a&=~ve}l!==0&&ui(t,l,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(S&~r))}function ui(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Bt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Bt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Hn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qr(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function di(){var t=K.p;return t===0?(t=window.event,t===void 0?32:Vb(t.type)):t}function er(t,r){var a=K.p;try{return K.p=t,r()}finally{K.p=a}}var Pn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Pn,jt="__reactProps$"+Pn,P="__reactContainer$"+Pn,Je="__reactEvents$"+Pn,j="__reactListeners$"+Pn,ee="__reactHandles$"+Pn,ye="__reactResources$"+Pn,Ce="__reactMarker$"+Pn;function ft(t){delete t[bt],delete t[jt],delete t[Je],delete t[j],delete t[ee]}function tt(t){var r=t[bt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[P]||a[bt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=Ob(t);t!==null;){if(a=t[bt])return a;t=Ob(t)}return r}t=a,a=t.parentNode}return null}function it(t){if(t=t[bt]||t[P]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function _t(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function We(t){var r=t[ye];return r||(r=t[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ve(t){t[Ce]=!0}var at=new Set,mt={};function Wt(t,r){tr(t,r),tr(t+"Capture",r)}function tr(t,r){for(mt[t]=r,t=0;t<r.length;t++)at.add(r[t])}var Ss=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hr={},rc={};function ic(t){return gn.call(rc,t)?!0:gn.call(hr,t)?!1:Ss.test(t)?rc[t]=!0:(hr[t]=!0,!1)}function Ea(t,r,a){if(ic(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Ro(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function mr(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Es,ac;function bn(t){if(Es===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Es=r&&r[1]||"",ac=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+ac}var Ts=!1;function Rs(t,r){if(!t||Ts)return"";Ts=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(se){var ae=se}Reflect.construct(t,[],ve)}else{try{ve.call()}catch(se){ae=se}t.call(ve.prototype)}}else{try{throw Error()}catch(se){ae=se}(ve=t())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(se){if(se&&ae&&typeof se.stack=="string")return[se.stack,ae.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=l.DetermineComponentFrameRoot(),S=g[0],D=g[1];if(S&&D){var F=S.split(`
`),te=D.split(`
`);for(f=l=0;l<F.length&&!F[l].includes("DetermineComponentFrameRoot");)l++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(l===F.length||f===te.length)for(l=F.length-1,f=te.length-1;1<=l&&0<=f&&F[l]!==te[f];)f--;for(;1<=l&&0<=f;l--,f--)if(F[l]!==te[f]){if(l!==1||f!==1)do if(l--,f--,0>f||F[l]!==te[f]){var pe=`
`+F[l].replace(" at new "," at ");return t.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",t.displayName)),pe}while(1<=l&&0<=f);break}}}finally{Ts=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bn(a):""}function oc(t){switch(t.tag){case 26:case 27:case 5:return bn(t.type);case 16:return bn("Lazy");case 13:return bn("Suspense");case 19:return bn("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return bn("Activity");default:return""}}function Ds(t){try{var r="";do r+=oc(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Vn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function df(t){var r=Os(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&a!==void 0&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ta(t){t._valueTracker||(t._valueTracker=df(t))}function sc(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Os(t)?t.checked?"true":"false":t.value),t=l,t===a?!1:(r.setValue(t),!0)}function Ra(t){if(t||(t=typeof document<"u"?document:void 0),t===void 0)return null;try{return t.activeElement||t.body}catch{return t.body}}var nr=/[\n"\\]/g;function $e(t){return t.replace(nr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ps(t,r,a,l,f,g,S,D){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),r==null?S!=="submit"&&S!=="reset"||t.removeAttribute("value"):S==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Vn(r)):t.value!==""+Vn(r)&&(t.value=""+Vn(r)),r==null?a==null?l!=null&&t.removeAttribute("value"):Ns(t,S,Vn(a)):Ns(t,S,Vn(r)),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?t.name=""+Vn(D):t.removeAttribute("name")}function Da(t,r,a,l,f,g,S,D){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),r!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;a=a==null?"":""+Vn(a),r=r==null?a:""+Vn(r),D||r===t.value||(t.value=r),t.defaultValue=r}l??(l=f),l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=D?t.checked:!!l,t.defaultChecked=!!l,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function Ns(t,r,a){r==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Vn(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function lc(t,r,a){if(r!=null&&(r=""+Vn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a==null?"":""+Vn(a)}function Vi(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ie(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a??(a=""),r=a}a=Vn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Gr(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uc(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||cc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function fi(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&uc(t,f,l)}else for(var g in r)r.hasOwnProperty(g)&&uc(t,g,r[g])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ms=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Do=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oa(t){return Do.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Is=null;function Oo(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jt=null,$i=null;function Ir(t){var r=it(t);if(r&&(t=r.stateNode)){var a=t[jt]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ps(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$e(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[jt]||null;if(!f)throw Error(s(90));Ps(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&sc(l)}break e;case"textarea":lc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&gr(t,!!a.multiple,r,!1)}}}var Pa=!1;function dc(t,r,a){if(Pa)return t(r,a);Pa=!0;try{return t(r)}finally{if(Pa=!1,(Jt!==null||$i!==null)&&(Uc(),Jt&&(r=Jt,t=$i,$i=Jt=null,Ir(r),t)))for(r=0;r<t.length;r++)Ir(t[r])}}function Na(t,r){var a=t.stateNode;if(a===null)return null;var l=a[jt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ar=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),As=!1;if(Ar)try{var La={};Object.defineProperty(La,"passive",{get:function(){As=!0}}),window.addEventListener("test",La,La),window.removeEventListener("test",La,La)}catch{As=!1}var Jr=null,qs=null,Ma=null;function js(){if(Ma)return Ma;var t,r=qs,a=r.length,l,f="value"in Jr?Jr.value:Jr.textContent,g=f.length;for(t=0;t<a&&r[t]===f[t];t++);var S=a-t;for(l=1;l<=S&&r[a-l]===f[g-l];l++);return Ma=f.slice(t,1<l?1-l:void 0)}function Ia(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Aa(){return!0}function zs(){return!1}function kn(t){function r(a,l,f,g,S){for(var D in this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=g,this.target=S,this.currentTarget=null,t)t.hasOwnProperty(D)&&(a=t[D],this[D]=a?a(g):g[D]);return this.isDefaultPrevented=(g.defaultPrevented==null?g.returnValue===!1:g.defaultPrevented)?Aa:zs,this.isPropagationStopped=zs,this}return w(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),r}var Xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=kn(Xr),qa=w({},Xr,{view:0,detail:0}),u=kn(qa),h,y,b,x=w({},qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_e,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==b&&(b&&t.type==="mousemove"?(h=t.screenX-b.screenX,y=t.screenY-b.screenY):y=h=0,b=t),h)},movementY:function(t){return"movementY"in t?t.movementY:y}}),k=kn(x),T=kn(w({},x,{dataTransfer:0})),O=kn(w({},qa,{relatedTarget:0})),L=kn(w({},Xr,{animationName:0,elapsedTime:0,pseudoElement:0})),z=kn(w({},Xr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),A=kn(w({},Xr,{data:0})),oe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},re={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=J[t])?!!r[t]:!1}function _e(){return X}var we=kn(w({},qa,{key:function(t){if(t.key){var r=oe[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ia(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?re[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_e,charCode:function(t){return t.type==="keypress"?Ia(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ia(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}})),qe=kn(w({},x,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ee=kn(w({},qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_e})),Ae=kn(w({},Xr,{propertyName:0,elapsedTime:0,pseudoElement:0})),ct=kn(w({},x,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Xe=kn(w({},Xr,{newState:0,oldState:0})),Ot=[9,13,27,32],Pt=Ar&&"CompositionEvent"in window,Fe=null;Ar&&"documentMode"in document&&(Fe=document.documentMode);var Qe=Ar&&"TextEvent"in window&&!Fe,Xt=Ar&&(!Pt||Fe&&8<Fe&&11>=Fe),Yt=" ",cn=!1;function ja(t,r){switch(t){case"keyup":return Ot.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ui=!1;function Fs(t,r){switch(t){case"compositionend":return fc(r);case"keypress":return r.which===32?(cn=!0,Yt):null;case"textInput":return t=r.data,t===Yt&&cn?null:t;default:return null}}function UE(t,r){if(Ui)return t==="compositionend"||!Pt&&ja(t,r)?(t=js(),Ma=qs=Jr=null,Ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xt&&r.locale!=="ko"?null:r.data;default:return null}}var KE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function By(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!KE[t.type]:r==="textarea"}function Hy(t,r,a,l){Jt?$i?$i.push(l):$i=[l]:Jt=l,r=Yc(r,"onChange"),0<r.length&&(a=new Wi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bs=null,Hs=null;function QE(t){bb(t,0)}function pc(t){if(sc(_t(t)))return t}function Vy(t,r){if(t==="change")return r}var $y=!1;if(Ar){var ff;if(Ar){var pf="oninput"in document;if(!pf){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),pf=typeof Wy.oninput=="function"}ff=pf}else ff=!1;$y=ff&&(!document.documentMode||9<document.documentMode)}function Uy(){Bs&&(Bs.detachEvent("onpropertychange",Ky),Hs=Bs=null)}function Ky(t){if(t.propertyName==="value"&&pc(Hs)){var r=[];Hy(r,Hs,t,Oo(t)),dc(QE,r)}}function GE(t,r,a){t==="focusin"?(Uy(),Bs=r,Hs=a,Bs.attachEvent("onpropertychange",Ky)):t==="focusout"&&Uy()}function JE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(Hs)}function XE(t,r){if(t==="click")return pc(r)}function YE(t,r){if(t==="input"||t==="change")return pc(r)}function ZE(t,r){return t===r&&(t!==0||1/t==1/r)||t!==t&&r!==r}var rr=typeof Object.is=="function"?Object.is:ZE;function Vs(t,r){if(rr(t,r))return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!gn.call(r,f)||!rr(t[f],r[f]))return!1}return!0}function Qy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gy(t,r){var a=Qy(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qy(a)}}function Jy(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jy(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Xy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ra(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ra(t.document)}return r}function hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var e3=Ar&&"documentMode"in document&&11>=document.documentMode,Po=null,mf=null,$s=null,gf=!1;function Yy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;gf||Po==null||Po!==Ra(l)||(l=Po,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$s&&Vs($s,l)||($s=l,l=Yc(mf,"onSelect"),0<l.length&&(r=new Wi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Po)))}function za(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var No={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},yf={},Zy={};Ar&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function Fa(t){if(yf[t])return yf[t];if(!No[t])return t;var r=No[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Zy)return yf[t]=r[a];return t}var ev=Fa("animationend"),tv=Fa("animationiteration"),nv=Fa("animationstart"),t3=Fa("transitionrun"),n3=Fa("transitionstart"),r3=Fa("transitioncancel"),rv=Fa("transitionend"),iv=new Map,vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vf.push("scrollEnd");function qr(t,r){iv.set(t,r),Wt(r,[t])}var av=new WeakMap;function yr(t,r){if(typeof t=="object"&&t){var a=av.get(t);return a===void 0?(r={value:t,source:r,stack:Ds(r)},av.set(t,r),r):a}return{value:t,source:r,stack:Ds(r)}}var vr=[],Lo=0,bf=0;function hc(){for(var t=Lo,r=bf=Lo=0;r<t;){var a=vr[r];vr[r++]=null;var l=vr[r];vr[r++]=null;var f=vr[r];vr[r++]=null;var g=vr[r];if(vr[r++]=null,l!==null&&f!==null){var S=l.pending;S===null?f.next=f:(f.next=S.next,S.next=f),l.pending=f}g!==0&&ov(a,f,g)}}function mc(t,r,a,l){vr[Lo++]=t,vr[Lo++]=r,vr[Lo++]=a,vr[Lo++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,r,a,l){return mc(t,r,a,l),gc(t)}function Mo(t,r){return mc(t,null,null,r),gc(t)}function ov(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,l=g.alternate,l!==null&&(l.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&r!==null&&(f=31-Bt(a),t=g.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),g):null}function gc(t){if(50<ml)throw ml=0,Ep=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Io={};function i3(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,r,a,l){return new i3(t,r,a,l)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pi(t,r){var a=t.alternate;return a===null?(a=ir(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sv(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function yc(t,r,a,l,f,g){var S=0;if(l=t,typeof t=="function")wf(t)&&(S=1);else if(typeof t=="string")S=sT(t,a,Le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case fe:return t=ir(31,a,r,f),t.elementType=fe,t.lanes=g,t;case M:return Ba(a.children,f,g,r);case H:S=8,f|=24;break;case W:return t=ir(12,a,r,f|2),t.elementType=W,t.lanes=g,t;case N:return t=ir(13,a,r,f),t.elementType=N,t.lanes=g,t;case q:return t=ir(19,a,r,f),t.elementType=q,t.lanes=g,t;default:if(typeof t=="object"&&t)switch(t.$$typeof){case U:case G:S=10;break e;case I:S=9;break e;case me:S=11;break e;case V:S=14;break e;case de:S=16,l=null;break e}S=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=ir(S,a,r,f),r.elementType=t,r.type=l,r.lanes=g,r}function Ba(t,r,a,l){return t=ir(7,t,l,r),t.lanes=a,t}function xf(t,r,a){return t=ir(6,t,null,r),t.lanes=a,t}function kf(t,r,a){return r=ir(4,t.children===null?[]:t.children,t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ao=[],qo=0,vc=null,bc=0,br=[],_r=0,Ha=null,hi=1,mi="";function Va(t,r){Ao[qo++]=bc,Ao[qo++]=vc,vc=t,bc=r}function lv(t,r,a){br[_r++]=hi,br[_r++]=mi,br[_r++]=Ha,Ha=t;var l=hi;t=mi;var f=32-Bt(l)-1;l&=~(1<<f),a+=1;var g=32-Bt(r)+f;if(30<g){var S=f-f%5;g=(l&(1<<S)-1).toString(32),l>>=S,f-=S,hi=1<<32-Bt(r)+f|a<<f|l,mi=g+t}else hi=1<<g|a<<f|l,mi=t}function Cf(t){t.return!==null&&(Va(t,1),lv(t,1,0))}function Sf(t){for(;t===vc;)vc=Ao[--qo],Ao[qo]=null,bc=Ao[--qo],Ao[qo]=null;for(;t===Ha;)Ha=br[--_r],br[_r]=null,mi=br[--_r],br[_r]=null,hi=br[--_r],br[_r]=null}var jn=null,Ut=null,pt=!1,$a=null,Yr=!1,Ef=Error(s(519));function Wa(t){throw Ks(yr(Error(s(418,"")),t)),Ef}function cv(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[bt]=t,r[jt]=l,a){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(a=0;a<yl.length;a++)rt(yl[a],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":rt("invalid",r),Da(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ta(r);break;case"select":rt("invalid",r);break;case"textarea":rt("invalid",r),Vi(r,l.value,l.defaultValue,l.children),Ta(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Cb(r.textContent,a)?(l.popover!=null&&(rt("beforetoggle",r),rt("toggle",r)),l.onScroll!=null&&rt("scroll",r),l.onScrollEnd!=null&&rt("scrollend",r),l.onClick!=null&&(r.onclick=Zc),r=!0):r=!1,r||Wa(t)}function uv(t){for(jn=t.return;jn;)switch(jn.tag){case 5:case 13:Yr=!1;return;case 27:case 3:Yr=!0;return;default:jn=jn.return}}function Ws(t){if(t!==jn)return!1;if(!pt)return uv(t),pt=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bp(t.type,t.memoizedProps)),a=!a),a&&Ut&&Wa(t),uv(t),r===13){if(t=t.memoizedState,t=t===null?null:t.dehydrated,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Ut=zr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Ut=null}}else r===27?(r=Ut,oa(t.type)?(t=Wp,Wp=null,Ut=t):Ut=r):Ut=jn?zr(t.stateNode.nextSibling):null;return!0}function Us(){Ut=jn=null,pt=!1}function dv(){var t=$a;return t!==null&&(Un===null?Un=t:Un.push.apply(Un,t),$a=null),t}function Ks(t){$a===null?$a=[t]:$a.push(t)}var Tf=ze(null),Ua=null,gi=null;function Ki(t,r,a){De(Tf,r._currentValue),r._currentValue=a}function yi(t){t._currentValue=Tf.current,He(Tf)}function Rf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)===r?l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r):(t.childLanes|=r,l!==null&&(l.childLanes|=r)),t===a)break;t=t.return}}function Df(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var S=f.child;g=g.firstContext;e:for(;g!==null;){var D=g;g=f;for(var F=0;F<r.length;F++)if(D.context===r[F]){g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Rf(g.return,a,t),l||(S=null);break e}g=D.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(s(341));S.lanes|=a,g=S.alternate,g!==null&&(g.lanes|=a),Rf(S,a,t),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===t){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Qs(t,r,a,l){t=null;for(var f=r,g=!1;f!==null;){if(!g){if(f.flags&524288)g=!0;else if(f.flags&262144)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var D=f.type;rr(f.pendingProps.value,S.value)||(t===null?t=[D]:t.push(D))}}else if(f===Dn.current){if(S=f.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t===null?t=[kl]:t.push(kl))}f=f.return}t!==null&&Df(r,t,a,l),r.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!rr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ka(t){Ua=t,gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return fv(Ua,t)}function wc(t,r){return Ua===null&&Ka(t),fv(t,r)}function fv(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},gi===null){if(t===null)throw Error(s(308));gi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else gi=gi.next=r;return a}var a3=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},o3=n.unstable_scheduleCallback,s3=n.unstable_NormalPriority,un={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new a3,data:new Map,refCount:0}}function Gs(t){t.refCount--,t.refCount===0&&o3(s3,function(){t.controller.abort()})}var Js=null,Pf=0,jo=0,zo=null;function l3(t,r){if(Js===null){var a=Js=[];Pf=0,jo=Lp(),zo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,r.then(pv,pv),r}function pv(){if(--Pf===0&&Js!==null){zo!==null&&(zo.status="fulfilled");var t=Js;Js=null,jo=0,zo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function c3(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var hv=le.S;le.S=function(t,r){typeof r=="object"&&r&&typeof r.then=="function"&&l3(t,r),hv!==null&&hv(t,r)};var Qa=ze(null);function Nf(){var t=Qa.current;return t===null?It.pooledCache:t}function xc(t,r){r===null?De(Qa,Qa.current):De(Qa,r.pool)}function mv(){var t=Nf();return t===null?null:{parent:un._currentValue,pool:t}}var Xs=Error(s(460)),gv=Error(s(474)),kc=Error(s(542)),Lf={then:function(){}};function yv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cc(){}function vv(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Cc,Cc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_v(t),t;default:if(typeof r.status=="string")r.then(Cc,Cc);else{if(t=It,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,_v(t),t}throw Ys=r,Xs}}var Ys=null;function bv(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function _v(t){if(t===Xs||t===kc)throw Error(s(483))}var Qi=!1;function Mf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,wt&2){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=gc(t),ov(t,null,a),r}return mc(t,l,r,a),gc(t)}function Zs(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,a&4194048)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,qn(t,a)}}function Af(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=S:g=g.next=S,a=a.next}while(a!==null);g===null?f=g=r:g=g.next=r}else f=g=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var qf=!1;function el(){if(qf){var t=zo;if(t!==null)throw t}}function tl(t,r,a,l){qf=!1;var f=t.updateQueue;Qi=!1;var g=f.firstBaseUpdate,S=f.lastBaseUpdate,D=f.shared.pending;if(D!==null){f.shared.pending=null;var F=D,te=F.next;F.next=null,S===null?g=te:S.next=te,S=F;var pe=t.alternate;pe!==null&&(pe=pe.updateQueue,D=pe.lastBaseUpdate,D!==S&&(D===null?pe.firstBaseUpdate=te:D.next=te,pe.lastBaseUpdate=F))}if(g!==null){var ve=f.baseState;S=0,pe=te=F=null,D=g;do{var ae=D.lane&-536870913,se=ae!==D.lane;if(se?(st&ae)===ae:(l&ae)===ae){ae!==0&&ae===jo&&(qf=!0),pe!==null&&(pe=pe.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var je=t,Me=D;ae=r;var Rt=a;switch(Me.tag){case 1:if(je=Me.payload,typeof je=="function"){ve=je.call(Rt,ve,ae);break e}ve=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Me.payload,ae=typeof je=="function"?je.call(Rt,ve,ae):je,ae==null)break e;ve=w({},ve,ae);break e;case 2:Qi=!0}}ae=D.callback,ae!==null&&(t.flags|=64,se&&(t.flags|=8192),se=f.callbacks,se===null?f.callbacks=[ae]:se.push(ae))}else se={lane:ae,tag:D.tag,payload:D.payload,callback:D.callback,next:null},pe===null?(te=pe=se,F=ve):pe=pe.next=se,S|=ae;if(D=D.next,D===null){if(D=f.shared.pending,D===null)break;se=D,D=se.next,se.next=null,f.lastBaseUpdate=se,f.shared.pending=null}}while(!0);pe===null&&(F=ve),f.baseState=F,f.firstBaseUpdate=te,f.lastBaseUpdate=pe,g===null&&(f.shared.lanes=0),na|=S,t.lanes=S,t.memoizedState=ve}}function wv(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function xv(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wv(a[t],r)}var Fo=ze(null),Sc=ze(0);function kv(t,r){t=Si,De(Sc,t),De(Fo,r),Si=t|r.baseLanes}function jf(){De(Sc,Si),De(Fo,Fo.current)}function zf(){Si=Sc.current,He(Fo),He(Sc)}var Gi=0,Ye=null,Et=null,an=null,Ec=!1,Bo=!1,Xa=!1,Tc=0,nl=0,Ho=null,u3=0;function Zt(){throw Error(s(321))}function Ff(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!rr(t[a],r[a]))return!1;return!0}function Bf(t,r,a,l,f,g){return Gi=g,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,le.H=t===null||t.memoizedState===null?o1:s1,Xa=!1,g=a(l,f),Xa=!1,Bo&&(g=Sv(r,a,l,f)),Cv(t),g}function Cv(t){le.H=Lc;var r=Et!==null&&Et.next!==null;if(Gi=0,an=Et=Ye=null,Ec=!1,nl=0,Ho=null,r)throw Error(s(300));t===null||_n||(t=t.dependencies,t!==null&&_c(t)&&(_n=!0))}function Sv(t,r,a,l){Ye=t;var f=0;do{if(Bo&&(Ho=null),nl=0,Bo=!1,25<=f)throw Error(s(301));if(f+=1,an=Et=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}le.H=y3,g=r(a,l)}while(Bo);return g}function d3(){var t=le.H,r=t.useState()[0];return r=typeof r.then=="function"?rl(r):r,t=t.useState()[0],(Et===null?null:Et.memoizedState)!==t&&(Ye.flags|=1024),r}function Hf(){var t=Tc!==0;return Tc=0,t}function Vf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function $f(t){if(Ec){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ec=!1}Gi=0,an=Et=Ye=null,Bo=!1,nl=Tc=0,Ho=null}function $n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ye.memoizedState=an=t:an=an.next=t,an}function on(){if(Et===null){var t=Ye.alternate;t=t===null?null:t.memoizedState}else t=Et.next;var r=an===null?Ye.memoizedState:an.next;if(r!==null)an=r,Et=t;else{if(t===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},an===null?Ye.memoizedState=an=t:an=an.next=t}return an}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var r=nl;return nl+=1,Ho===null&&(Ho=[]),t=vv(Ho,t,r),r=Ye,(an===null?r.memoizedState:an.next)===null&&(r=r.alternate,le.H=r===null||r.memoizedState===null?o1:s1),t}function Rc(t){if(typeof t=="object"&&t){if(typeof t.then=="function")return rl(t);if(t.$$typeof===G)return Nn(t)}throw Error(s(438,String(t)))}function Uf(t){var r=null,a=Ye.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r??(r={data:[],index:0}),a===null&&(a=Wf(),Ye.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=xe;return r.index++,a}function vi(t,r){return typeof r=="function"?r(t):r}function Dc(t){return Kf(on(),Et,t)}function Kf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,g=l.pending;if(g!==null){if(f!==null){var S=f.next;f.next=g.next,g.next=S}r.baseQueue=f=g,l.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{r=f.next;var D=S=null,F=null,te=r,pe=!1;do{var ve=te.lane&-536870913;if(ve===te.lane?(Gi&ve)===ve:(st&ve)===ve){var ae=te.revertLane;if(ae===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ve===jo&&(pe=!0);else if((Gi&ae)===ae){te=te.next,ae===jo&&(pe=!0);continue}else ve={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(D=F=ve,S=g):F=F.next=ve,Ye.lanes|=ae,na|=ae;ve=te.action,Xa&&a(g,ve),g=te.hasEagerState?te.eagerState:a(g,ve)}else ae={lane:ve,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},F===null?(D=F=ae,S=g):F=F.next=ae,Ye.lanes|=ve,na|=ve;te=te.next}while(te!==null&&te!==r);if(F===null?S=g:F.next=D,!rr(g,t.memoizedState)&&(_n=!0,pe&&(a=zo,a!==null)))throw a;t.memoizedState=g,t.baseState=S,t.baseQueue=F,l.lastRenderedState=g}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qf(t){var r=on(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,g=r.memoizedState;if(f!==null){a.pending=null;var S=f=f.next;do g=t(g,S.action),S=S.next;while(S!==f);rr(g,r.memoizedState)||(_n=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),a.lastRenderedState=g}return[g,l]}function Ev(t,r,a){var l=Ye,f=on(),g=pt;if(g){if(a===void 0)throw Error(s(407));a=a()}else a=r();var S=!rr((Et||f).memoizedState,a);if(S&&(f.memoizedState=a,_n=!0),f=f.queue,il(2048,8,Dv.bind(null,l,f,t),[t]),f.getSnapshot!==r||S||an!==null&&an.memoizedState.tag&1){if(l.flags|=2048,Vo(9,Oc(),Rv.bind(null,l,f,a,r),null),It===null)throw Error(s(349));g||Gi&124||Tv(l,r,a)}return a}function Tv(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ye.updateQueue,r===null?(r=Wf(),Ye.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Rv(t,r,a,l){r.value=a,r.getSnapshot=l,Ov(r)&&Pv(t)}function Dv(t,r,a){return a(function(){Ov(r)&&Pv(t)})}function Ov(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!rr(t,a)}catch{return!0}}function Pv(t){var r=Mo(t,2);r!==null&&lr(r,t,2)}function Gf(t){var r=$n();if(typeof t=="function"){var a=t;if(t=a(),Xa){yt(!0);try{a()}finally{yt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},r}function Nv(t,r,a,l){return t.baseState=a,Kf(t,Et,typeof l=="function"?l:vi)}function f3(t,r,a,l,f){if(Nc(t))throw Error(s(485));if(t=r.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};le.T===null?g.isTransition=!1:a(!0),l(g),a=r.pending,a===null?(g.next=r.pending=g,Lv(r,g)):(g.next=a.next,r.pending=a.next=g)}}function Lv(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var g=le.T,S={};le.T=S;try{var D=a(f,l),F=le.S;F!==null&&F(S,D),Mv(t,r,D)}catch(te){Jf(t,r,te)}finally{le.T=g}}else try{g=a(f,l),Mv(t,r,g)}catch(te){Jf(t,r,te)}}function Mv(t,r,a){typeof a=="object"&&a&&typeof a.then=="function"?a.then(function(l){Iv(t,r,l)},function(l){return Jf(t,r,l)}):Iv(t,r,a)}function Iv(t,r,a){r.status="fulfilled",r.value=a,Av(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Lv(t,a)))}function Jf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Av(r),r=r.next;while(r!==l)}t.action=null}function Av(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function qv(t,r){return r}function jv(t,r){if(pt){var a=It.formState;if(a!==null){e:{var l=Ye;if(pt){if(Ut){t:{for(var f=Ut,g=Yr;f.nodeType!==8;){if(!g){f=null;break t}if(f=zr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ut=zr(f.nextSibling),l=f.data==="F!";break e}}Wa(l)}l=!1}l&&(r=a[0])}}return a=$n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qv,lastRenderedState:r},a.queue=l,a=r1.bind(null,Ye,l),l.dispatch=a,l=Gf(!1),g=tp.bind(null,Ye,!1,l.queue),l=$n(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=f3.bind(null,Ye,f,g,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function zv(t){return Fv(on(),Et,t)}function Fv(t,r,a){if(r=Kf(t,r,qv)[0],t=Dc(vi)[0],typeof r=="object"&&r&&typeof r.then=="function")try{var l=rl(r)}catch(S){throw S===Xs?kc:S}else l=r;r=on();var f=r.queue,g=f.dispatch;return a!==r.memoizedState&&(Ye.flags|=2048,Vo(9,Oc(),p3.bind(null,f,a),null)),[l,g,t]}function p3(t,r){t.action=r}function Bv(t){var r=on(),a=Et;if(a!==null)return Fv(r,a,t);on(),r=r.memoizedState,a=on();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Vo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ye.updateQueue,r===null&&(r=Wf(),Ye.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Oc(){return{destroy:void 0,resource:void 0}}function Hv(){return on().memoizedState}function Pc(t,r,a,l){var f=$n();l=l===void 0?null:l,Ye.flags|=t,f.memoizedState=Vo(1|r,Oc(),a,l)}function il(t,r,a,l){var f=on();l=l===void 0?null:l;var g=f.memoizedState.inst;Et!==null&&l!==null&&Ff(l,Et.memoizedState.deps)?f.memoizedState=Vo(r,g,a,l):(Ye.flags|=t,f.memoizedState=Vo(1|r,g,a,l))}function Vv(t,r){Pc(8390656,8,t,r)}function $v(t,r){il(2048,8,t,r)}function Wv(t,r){return il(4,2,t,r)}function Uv(t,r){return il(4,4,t,r)}function Kv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qv(t,r,a){a=a==null?null:a.concat([t]),il(4,4,Kv.bind(null,r,t),a)}function Xf(){}function Gv(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Jv(t,r){var a=on();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=t(),Xa){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l}function Yf(t,r,a){return a===void 0||Gi&1073741824?t.memoizedState=r:(t.memoizedState=a,t=J1(),Ye.lanes|=t,na|=t,a)}function Xv(t,r,a,l){return rr(a,r)?a:Fo.current===null?Gi&42?(t=J1(),Ye.lanes|=t,na|=t,r):(_n=!0,t.memoizedState=a):(t=Yf(t,a,l),rr(t,r)||(_n=!0),t)}function Yv(t,r,a,l,f){var g=K.p;K.p=g!==0&&8>g?g:8;var S=le.T,D={};le.T=D,tp(t,!1,r,a);try{var F=f(),te=le.S;te!==null&&te(D,F),typeof F=="object"&&F&&typeof F.then=="function"?al(t,r,c3(F,l),kr(t)):al(t,r,l,kr(t))}catch(pe){al(t,r,{then:function(){},status:"rejected",reason:pe},kr())}finally{K.p=g,le.T=S}}function h3(){}function Zf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Zv(t).queue;Yv(t,f,r,Ne,a===null?h3:function(){return e1(t),a(l)})}function Zv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ne,baseState:Ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Ne},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function e1(t){var r=Zv(t).next.queue;al(t,r,{},kr())}function ep(){return Nn(kl)}function t1(){return on().memoizedState}function n1(){return on().memoizedState}function m3(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=kr();t=Ga(a);var l=Ja(r,t,a);l!==null&&(lr(l,r,a),Zs(l,r,a)),r={cache:Of()},t.payload=r;return}r=r.return}}function g3(t,r,a){var l=kr();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?i1(r,a):(a=_f(t,r,a,l),a!==null&&(lr(a,t,l),a1(a,r,l)))}function r1(t,r,a){al(t,r,a,kr())}function al(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))i1(r,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,D=g(S,a);if(f.hasEagerState=!0,f.eagerState=D,rr(D,S))return mc(t,r,f,0),It===null&&hc(),!1}catch{}if(a=_f(t,r,f,l),a!==null)return lr(a,t,l),a1(a,r,l),!0}return!1}function tp(t,r,a,l){if(l={lane:2,revertLane:Lp(),action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(r)throw Error(s(479))}else r=_f(t,a,l,2),r!==null&&lr(r,t,2)}function Nc(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function i1(t,r){Bo=Ec=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function a1(t,r,a){if(a&4194048){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,qn(t,a)}}var Lc={readContext:Nn,use:Rc,useCallback:Zt,useContext:Zt,useEffect:Zt,useImperativeHandle:Zt,useLayoutEffect:Zt,useInsertionEffect:Zt,useMemo:Zt,useReducer:Zt,useRef:Zt,useState:Zt,useDebugValue:Zt,useDeferredValue:Zt,useTransition:Zt,useSyncExternalStore:Zt,useId:Zt,useHostTransitionStatus:Zt,useFormState:Zt,useActionState:Zt,useOptimistic:Zt,useMemoCache:Zt,useCacheRefresh:Zt},o1={readContext:Nn,use:Rc,useCallback:function(t,r){return $n().memoizedState=[t,r===void 0?null:r],t},useContext:Nn,useEffect:Vv,useImperativeHandle:function(t,r,a){a=a==null?null:a.concat([t]),Pc(4194308,4,Kv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Pc(4194308,4,t,r)},useInsertionEffect:function(t,r){Pc(4,2,t,r)},useMemo:function(t,r){var a=$n();r=r===void 0?null:r;var l=t();if(Xa){yt(!0);try{t()}finally{yt(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=$n();if(a!==void 0){var f=a(r);if(Xa){yt(!0);try{a(r)}finally{yt(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=g3.bind(null,Ye,t),[l.memoizedState,t]},useRef:function(t){var r=$n();return t={current:t},r.memoizedState=t},useState:function(t){t=Gf(t);var r=t.queue,a=r1.bind(null,Ye,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Xf,useDeferredValue:function(t,r){return Yf($n(),t,r)},useTransition:function(){var t=Gf(!1);return t=Yv.bind(null,Ye,t.queue,!0,!1),$n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ye,f=$n();if(pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),It===null)throw Error(s(349));st&124||Tv(l,r,a)}f.memoizedState=a;var g={value:a,getSnapshot:r};return f.queue=g,Vv(Dv.bind(null,l,g,t),[t]),l.flags|=2048,Vo(9,Oc(),Rv.bind(null,l,g,a,r),null),a},useId:function(){var t=$n(),r=It.identifierPrefix;if(pt){var a=mi,l=hi;a=(l&~(1<<32-Bt(l)-1)).toString(32)+a,r="\xAB"+r+"R"+a,a=Tc++,0<a&&(r+="H"+a.toString(32)),r+="\xBB"}else a=u3++,r="\xAB"+r+"r"+a.toString(32)+"\xBB";return t.memoizedState=r},useHostTransitionStatus:ep,useFormState:jv,useActionState:jv,useOptimistic:function(t){var r=$n();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=tp.bind(null,Ye,!0,a),a.dispatch=r,[t,r]},useMemoCache:Uf,useCacheRefresh:function(){return $n().memoizedState=m3.bind(null,Ye)}},s1={readContext:Nn,use:Rc,useCallback:Gv,useContext:Nn,useEffect:$v,useImperativeHandle:Qv,useInsertionEffect:Wv,useLayoutEffect:Uv,useMemo:Jv,useReducer:Dc,useRef:Hv,useState:function(){return Dc(vi)},useDebugValue:Xf,useDeferredValue:function(t,r){return Xv(on(),Et.memoizedState,t,r)},useTransition:function(){var t=Dc(vi)[0],r=on().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Ev,useId:t1,useHostTransitionStatus:ep,useFormState:zv,useActionState:zv,useOptimistic:function(t,r){return Nv(on(),Et,t,r)},useMemoCache:Uf,useCacheRefresh:n1},y3={readContext:Nn,use:Rc,useCallback:Gv,useContext:Nn,useEffect:$v,useImperativeHandle:Qv,useInsertionEffect:Wv,useLayoutEffect:Uv,useMemo:Jv,useReducer:Qf,useRef:Hv,useState:function(){return Qf(vi)},useDebugValue:Xf,useDeferredValue:function(t,r){var a=on();return Et===null?Yf(a,t,r):Xv(a,Et.memoizedState,t,r)},useTransition:function(){var t=Qf(vi)[0],r=on().memoizedState;return[typeof t=="boolean"?t:rl(t),r]},useSyncExternalStore:Ev,useId:t1,useHostTransitionStatus:ep,useFormState:Bv,useActionState:Bv,useOptimistic:function(t,r){var a=on();return Et===null?(a.baseState=t,[t,a.queue.dispatch]):Nv(a,Et,t,r)},useMemoCache:Uf,useCacheRefresh:n1},$o=null,ol=0;function Mc(t){var r=ol;return ol+=1,$o===null&&($o=[]),vv($o,t,r)}function sl(t,r){r=r.props.ref,t.ref=r===void 0?null:r}function Ic(t,r){throw r.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function l1(t){var r=t._init;return r(t._payload)}function c1(t){function r(Q,$){if(t){var Y=Q.deletions;Y===null?(Q.deletions=[$],Q.flags|=16):Y.push($)}}function a(Q,$){if(!t)return null;for(;$!==null;)r(Q,$),$=$.sibling;return null}function l(Q){for(var $=new Map;Q!==null;)Q.key===null?$.set(Q.index,Q):$.set(Q.key,Q),Q=Q.sibling;return $}function f(Q,$){return Q=pi(Q,$),Q.index=0,Q.sibling=null,Q}function g(Q,$,Y){return Q.index=Y,t?(Y=Q.alternate,Y===null?(Q.flags|=67108866,$):(Y=Y.index,Y<$?(Q.flags|=67108866,$):Y)):(Q.flags|=1048576,$)}function S(Q){return t&&Q.alternate===null&&(Q.flags|=67108866),Q}function D(Q,$,Y,he){return $===null||$.tag!==6?($=xf(Y,Q.mode,he),$.return=Q,$):($=f($,Y),$.return=Q,$)}function F(Q,$,Y,he){var Re=Y.type;return Re===M?pe(Q,$,Y.props.children,he,Y.key):$!==null&&($.elementType===Re||typeof Re=="object"&&Re&&Re.$$typeof===de&&l1(Re)===$.type)?($=f($,Y.props),sl($,Y),$.return=Q,$):($=yc(Y.type,Y.key,Y.props,null,Q.mode,he),sl($,Y),$.return=Q,$)}function te(Q,$,Y,he){return $===null||$.tag!==4||$.stateNode.containerInfo!==Y.containerInfo||$.stateNode.implementation!==Y.implementation?($=kf(Y,Q.mode,he),$.return=Q,$):($=f($,Y.children||[]),$.return=Q,$)}function pe(Q,$,Y,he,Re){return $===null||$.tag!==7?($=Ba(Y,Q.mode,he,Re),$.return=Q,$):($=f($,Y),$.return=Q,$)}function ve(Q,$,Y){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=xf(""+$,Q.mode,Y),$.return=Q,$;if(typeof $=="object"&&$){switch($.$$typeof){case E:return Y=yc($.type,$.key,$.props,null,Q.mode,Y),sl(Y,$),Y.return=Q,Y;case R:return $=kf($,Q.mode,Y),$.return=Q,$;case de:var he=$._init;return $=he($._payload),ve(Q,$,Y)}if(ie($)||be($))return $=Ba($,Q.mode,Y,null),$.return=Q,$;if(typeof $.then=="function")return ve(Q,Mc($),Y);if($.$$typeof===G)return ve(Q,wc(Q,$),Y);Ic(Q,$)}return null}function ae(Q,$,Y,he){var Re=$===null?null:$.key;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Re===null?D(Q,$,""+Y,he):null;if(typeof Y=="object"&&Y){switch(Y.$$typeof){case E:return Y.key===Re?F(Q,$,Y,he):null;case R:return Y.key===Re?te(Q,$,Y,he):null;case de:return Re=Y._init,Y=Re(Y._payload),ae(Q,$,Y,he)}if(ie(Y)||be(Y))return Re===null?pe(Q,$,Y,he,null):null;if(typeof Y.then=="function")return ae(Q,$,Mc(Y),he);if(Y.$$typeof===G)return ae(Q,$,wc(Q,Y),he);Ic(Q,Y)}return null}function se(Q,$,Y,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(Y)||null,D($,Q,""+he,Re);if(typeof he=="object"&&he){switch(he.$$typeof){case E:return Q=Q.get(he.key===null?Y:he.key)||null,F($,Q,he,Re);case R:return Q=Q.get(he.key===null?Y:he.key)||null,te($,Q,he,Re);case de:var et=he._init;return he=et(he._payload),se(Q,$,Y,he,Re)}if(ie(he)||be(he))return Q=Q.get(Y)||null,pe($,Q,he,Re,null);if(typeof he.then=="function")return se(Q,$,Y,Mc(he),Re);if(he.$$typeof===G)return se(Q,$,Y,wc($,he),Re);Ic($,he)}return null}function je(Q,$,Y,he){for(var Re=null,et=null,Pe=$,Ie=$=0,xn=null;Pe!==null&&Ie<Y.length;Ie++){Pe.index>Ie?(xn=Pe,Pe=null):xn=Pe.sibling;var dt=ae(Q,Pe,Y[Ie],he);if(dt===null){Pe===null&&(Pe=xn);break}t&&Pe&&dt.alternate===null&&r(Q,Pe),$=g(dt,$,Ie),et===null?Re=dt:et.sibling=dt,et=dt,Pe=xn}if(Ie===Y.length)return a(Q,Pe),pt&&Va(Q,Ie),Re;if(Pe===null){for(;Ie<Y.length;Ie++)Pe=ve(Q,Y[Ie],he),Pe!==null&&($=g(Pe,$,Ie),et===null?Re=Pe:et.sibling=Pe,et=Pe);return pt&&Va(Q,Ie),Re}for(Pe=l(Pe);Ie<Y.length;Ie++)xn=se(Pe,Q,Ie,Y[Ie],he),xn!==null&&(t&&xn.alternate!==null&&Pe.delete(xn.key===null?Ie:xn.key),$=g(xn,$,Ie),et===null?Re=xn:et.sibling=xn,et=xn);return t&&Pe.forEach(function(da){return r(Q,da)}),pt&&Va(Q,Ie),Re}function Me(Q,$,Y,he){if(Y==null)throw Error(s(151));for(var Re=null,et=null,Pe=$,Ie=$=0,xn=null,dt=Y.next();Pe!==null&&!dt.done;Ie++,dt=Y.next()){Pe.index>Ie?(xn=Pe,Pe=null):xn=Pe.sibling;var da=ae(Q,Pe,dt.value,he);if(da===null){Pe===null&&(Pe=xn);break}t&&Pe&&da.alternate===null&&r(Q,Pe),$=g(da,$,Ie),et===null?Re=da:et.sibling=da,et=da,Pe=xn}if(dt.done)return a(Q,Pe),pt&&Va(Q,Ie),Re;if(Pe===null){for(;!dt.done;Ie++,dt=Y.next())dt=ve(Q,dt.value,he),dt!==null&&($=g(dt,$,Ie),et===null?Re=dt:et.sibling=dt,et=dt);return pt&&Va(Q,Ie),Re}for(Pe=l(Pe);!dt.done;Ie++,dt=Y.next())dt=se(Pe,Q,Ie,dt.value,he),dt!==null&&(t&&dt.alternate!==null&&Pe.delete(dt.key===null?Ie:dt.key),$=g(dt,$,Ie),et===null?Re=dt:et.sibling=dt,et=dt);return t&&Pe.forEach(function(wT){return r(Q,wT)}),pt&&Va(Q,Ie),Re}function Rt(Q,$,Y,he){if(typeof Y=="object"&&Y&&Y.type===M&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y){switch(Y.$$typeof){case E:e:{for(var Re=Y.key;$!==null;){if($.key===Re){if(Re=Y.type,Re===M){if($.tag===7){a(Q,$.sibling),he=f($,Y.props.children),he.return=Q,Q=he;break e}}else if($.elementType===Re||typeof Re=="object"&&Re&&Re.$$typeof===de&&l1(Re)===$.type){a(Q,$.sibling),he=f($,Y.props),sl(he,Y),he.return=Q,Q=he;break e}a(Q,$);break}else r(Q,$);$=$.sibling}Y.type===M?(he=Ba(Y.props.children,Q.mode,he,Y.key),he.return=Q,Q=he):(he=yc(Y.type,Y.key,Y.props,null,Q.mode,he),sl(he,Y),he.return=Q,Q=he)}return S(Q);case R:e:{for(Re=Y.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===Y.containerInfo&&$.stateNode.implementation===Y.implementation){a(Q,$.sibling),he=f($,Y.children||[]),he.return=Q,Q=he;break e}else{a(Q,$);break}else r(Q,$);$=$.sibling}he=kf(Y,Q.mode,he),he.return=Q,Q=he}return S(Q);case de:return Re=Y._init,Y=Re(Y._payload),Rt(Q,$,Y,he)}if(ie(Y))return je(Q,$,Y,he);if(be(Y)){if(Re=be(Y),typeof Re!="function")throw Error(s(150));return Y=Re.call(Y),Me(Q,$,Y,he)}if(typeof Y.then=="function")return Rt(Q,$,Mc(Y),he);if(Y.$$typeof===G)return Rt(Q,$,wc(Q,Y),he);Ic(Q,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,$!==null&&$.tag===6?(a(Q,$.sibling),he=f($,Y),he.return=Q,Q=he):(a(Q,$),he=xf(Y,Q.mode,he),he.return=Q,Q=he),S(Q)):a(Q,$)}return function(Q,$,Y,he){try{ol=0;var Re=Rt(Q,$,Y,he);return $o=null,Re}catch(Pe){if(Pe===Xs||Pe===kc)throw Pe;var et=ir(29,Pe,null,Q.mode);return et.lanes=he,et.return=Q,et}}}var Wo=c1(!0),u1=c1(!1),wr=ze(null),bi=null;function Ji(t){var r=t.alternate;De(dn,dn.current&1),De(wr,t),bi===null&&(r===null||Fo.current!==null||r.memoizedState!==null)&&(bi=t)}function d1(t){if(t.tag===22){if(De(dn,dn.current),De(wr,t),bi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(bi=t)}}else Xi(t)}function Xi(){De(dn,dn.current),De(wr,wr.current)}function _i(t){He(wr),bi===t&&(bi=null),He(dn)}var dn=ze(0);function Ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$p(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function np(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:w({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var rp={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=kr(),f=Ga(l);f.payload=r,a!=null&&(f.callback=a),r=Ja(t,f,l),r!==null&&(lr(r,t,l),Zs(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=kr(),f=Ga(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Ja(t,f,l),r!==null&&(lr(r,t,l),Zs(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=kr(),l=Ga(a);l.tag=2,r!=null&&(l.callback=r),r=Ja(t,l,a),r!==null&&(lr(r,t,a),Zs(r,t,a))}};function f1(t,r,a,l,f,g,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,g,S):r.prototype&&r.prototype.isPureReactComponent?!Vs(a,l)||!Vs(f,g):!0}function p1(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&rp.enqueueReplaceState(r,r.state,null)}function Ya(t,r){var a=r;if("ref"in r)for(var l in a={},r)l!=="ref"&&(a[l]=r[l]);if(t=t.defaultProps)for(var f in a===r&&(a=w({},a)),t)a[f]===void 0&&(a[f]=t[f]);return a}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function v3(t){qc(t)}function b3(t){console.error(t)}function _3(t){qc(t)}function jc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function h1(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ip(t,r,a){return a=Ga(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(t,r)},a}function m1(t){return t=Ga(t),t.tag=3,t}function g1(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=l.value;t.payload=function(){return f(g)},t.callback=function(){h1(r,a,l)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){h1(r,a,l),typeof f!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var D=l.stack;this.componentDidCatch(l.value,{componentStack:D===null?"":D})})}function w3(t,r,a,l,f){if(a.flags|=32768,typeof l=="object"&&l&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Qs(r,a,f,!0),a=wr.current,a!==null){switch(a.tag){case 13:return bi===null?Rp():a.alternate===null&&Kt===0&&(Kt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Op(t,l,f)),!1;case 22:return a.flags|=65536,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Op(t,l,f)),!1}throw Error(s(435,a.tag))}return Op(t,l,f),Rp(),!1}if(pt)return r=wr.current,r===null?(l!==Ef&&(r=Error(s(423),{cause:l}),Ks(yr(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=yr(l,a),f=ip(t.stateNode,l,f),Af(t,f),Kt!==4&&(Kt=2)):(!(r.flags&65536)&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ef&&(t=Error(s(422),{cause:l}),Ks(yr(t,a)))),!1;var g=Error(s(520),{cause:l});if(g=yr(g,a),hl===null?hl=[g]:hl.push(g),Kt!==4&&(Kt=2),r===null)return!0;l=yr(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=ip(a.stateNode,l,t),Af(a,t),!1;case 1:if(r=a.type,g=a.stateNode,!(a.flags&128)&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ra===null||!ra.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=m1(f),g1(f,t,a,l),Af(a,f),!1}a=a.return}while(a!==null);return!1}var y1=Error(s(461)),_n=!1;function Cn(t,r,a,l){r.child=t===null?u1(r,null,a,l):Wo(r,t.child,a,l)}function v1(t,r,a,l,f){a=a.render;var g=r.ref;if("ref"in l){var S={};for(var D in l)D!=="ref"&&(S[D]=l[D])}else S=l;return Ka(r),l=Bf(t,r,a,S,g,f),D=Hf(),t!==null&&!_n?(Vf(t,r,f),wi(t,r,f)):(pt&&D&&Cf(r),r.flags|=1,Cn(t,r,l,f),r.child)}function b1(t,r,a,l,f){if(t===null){var g=a.type;return typeof g=="function"&&!wf(g)&&g.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=g,_1(t,r,g,l,f)):(t=yc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(g=t.child,!fp(t,f)){var S=g.memoizedProps;if(a=a.compare,a=a===null?Vs:a,a(S,l)&&t.ref===r.ref)return wi(t,r,f)}return r.flags|=1,t=pi(g,l),t.ref=r.ref,t.return=r,r.child=t}function _1(t,r,a,l,f){if(t!==null){var g=t.memoizedProps;if(Vs(g,l)&&t.ref===r.ref)if(_n=!1,r.pendingProps=l=g,fp(t,f))t.flags&131072&&(_n=!0);else return r.lanes=t.lanes,wi(t,r,f)}return ap(t,r,a,l,f)}function w1(t,r,a){var l=r.pendingProps,f=l.children,g=t===null?null:t.memoizedState;if(l.mode==="hidden"){if(r.flags&128){if(l=g===null?a:g.baseLanes|a,t!==null){for(f=r.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;r.childLanes=g&~l}else r.childLanes=0,r.child=null;return x1(t,r,l,a)}if(a&536870912)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,g===null?null:g.cachePool),g===null?jf():kv(r,g),d1(r);else return r.lanes=r.childLanes=536870912,x1(t,r,g===null?a:g.baseLanes|a,a)}else g===null?(t!==null&&xc(r,null),jf(),Xi(r)):(xc(r,g.cachePool),kv(r,g),Xi(r),r.memoizedState=null);return Cn(t,r,f,a),r.child}function x1(t,r,a,l){var f=Nf();return f=f===null?null:{parent:un._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&xc(r,null),jf(),d1(r),t!==null&&Qs(t,r,l,!0),null}function zc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ap(t,r,a,l,f){return Ka(r),a=Bf(t,r,a,l,void 0,f),l=Hf(),t!==null&&!_n?(Vf(t,r,f),wi(t,r,f)):(pt&&l&&Cf(r),r.flags|=1,Cn(t,r,a,f),r.child)}function k1(t,r,a,l,f,g){return Ka(r),r.updateQueue=null,a=Sv(r,l,a,f),Cv(t),l=Hf(),t!==null&&!_n?(Vf(t,r,g),wi(t,r,g)):(pt&&l&&Cf(r),r.flags|=1,Cn(t,r,a,g),r.child)}function C1(t,r,a,l,f){if(Ka(r),r.stateNode===null){var g=Io,S=a.contextType;typeof S=="object"&&S&&(g=Nn(S)),g=new a(l,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=rp,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=l,g.state=r.memoizedState,g.refs={},Mf(r),S=a.contextType,g.context=typeof S=="object"&&S?Nn(S):Io,g.state=r.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(np(r,a,S,l),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&rp.enqueueReplaceState(g,g.state,null),tl(r,l,g,f),el(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){g=r.stateNode;var D=r.memoizedProps,F=Ya(a,D);g.props=F;var te=g.context,pe=a.contextType;S=Io,typeof pe=="object"&&pe&&(S=Nn(pe));var ve=a.getDerivedStateFromProps;pe=typeof ve=="function"||typeof g.getSnapshotBeforeUpdate=="function",D=r.pendingProps!==D,pe||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(D||te!==S)&&p1(r,g,l,S),Qi=!1;var ae=r.memoizedState;g.state=ae,tl(r,l,g,f),el(),te=r.memoizedState,D||ae!==te||Qi?(typeof ve=="function"&&(np(r,a,ve,l),te=r.memoizedState),(F=Qi||f1(r,a,F,l,ae,te,S))?(pe||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=te),g.props=l,g.state=te,g.context=S,l=F):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{g=r.stateNode,If(t,r),S=r.memoizedProps,pe=Ya(a,S),g.props=pe,ve=r.pendingProps,ae=g.context,te=a.contextType,F=Io,typeof te=="object"&&te&&(F=Nn(te)),D=a.getDerivedStateFromProps,(te=typeof D=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ve||ae!==F)&&p1(r,g,l,F),Qi=!1,ae=r.memoizedState,g.state=ae,tl(r,l,g,f),el();var se=r.memoizedState;S!==ve||ae!==se||Qi||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof D=="function"&&(np(r,a,D,l),se=r.memoizedState),(pe=Qi||f1(r,a,pe,l,ae,se,F)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,se,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,se,F)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&ae===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&ae===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=se),g.props=l,g.state=se,g.context=F,l=pe):(typeof g.componentDidUpdate!="function"||S===t.memoizedProps&&ae===t.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&ae===t.memoizedState||(r.flags|=1024),l=!1)}return g=l,zc(t,r),l=(r.flags&128)!=0,g||l?(g=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,t!==null&&l?(r.child=Wo(r,t.child,null,f),r.child=Wo(r,null,a,f)):Cn(t,r,a,f),r.memoizedState=g.state,t=r.child):t=wi(t,r,f),t}function S1(t,r,a,l){return Us(),r.flags|=256,Cn(t,r,a,l),r.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sp(t){return{baseLanes:t,cachePool:mv()}}function lp(t,r,a){return t=t===null?0:t.childLanes&~a,r&&(t|=xr),t}function E1(t,r,a){var l=r.pendingProps,f=!1,g=(r.flags&128)!=0,S;if((S=g)||(S=t!==null&&t.memoizedState===null?!1:(dn.current&2)!=0),S&&(f=!0,r.flags&=-129),S=(r.flags&32)!=0,r.flags&=-33,t===null){if(pt){if(f?Ji(r):Xi(r),pt){var D=Ut,F;if(F=D){e:{for(F=D,D=Yr;F.nodeType!==8;){if(!D){D=null;break e}if(F=zr(F.nextSibling),F===null){D=null;break e}}D=F}D===null?F=!1:(r.memoizedState={dehydrated:D,treeContext:Ha===null?null:{id:hi,overflow:mi},retryLane:536870912,hydrationErrors:null},F=ir(18,null,null,0),F.stateNode=D,F.return=r,r.child=F,jn=r,Ut=null,F=!0)}F||Wa(r)}if(D=r.memoizedState,D!==null&&(D=D.dehydrated,D!==null))return $p(D)?r.lanes=32:r.lanes=536870912,null;_i(r)}return D=l.children,l=l.fallback,f?(Xi(r),f=r.mode,D=Fc({mode:"hidden",children:D},f),l=Ba(l,f,a,null),D.return=r,l.return=r,D.sibling=l,r.child=D,f=r.child,f.memoizedState=sp(a),f.childLanes=lp(t,S,a),r.memoizedState=op,l):(Ji(r),cp(r,D))}if(F=t.memoizedState,F!==null&&(D=F.dehydrated,D!==null)){if(g)r.flags&256?(Ji(r),r.flags&=-257,r=up(t,r,a)):r.memoizedState===null?(Xi(r),f=l.fallback,D=r.mode,l=Fc({mode:"visible",children:l.children},D),f=Ba(f,D,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Wo(r,t.child,null,a),l=r.child,l.memoizedState=sp(a),l.childLanes=lp(t,S,a),r.memoizedState=op,r=f):(Xi(r),r.child=t.child,r.flags|=128,r=null);else if(Ji(r),$p(D)){if(S=D.nextSibling&&D.nextSibling.dataset,S)var te=S.dgst;S=te,l=Error(s(419)),l.stack="",l.digest=S,Ks({value:l,source:null,stack:null}),r=up(t,r,a)}else if(_n||Qs(t,r,a,!1),S=(a&t.childLanes)!==0,_n||S){if(S=It,S!==null&&(l=a&-a,l=l&42?1:Hn(l),l=(l&(S.suspendedLanes|a))===0?l:0,l!==0&&l!==F.retryLane))throw F.retryLane=l,Mo(t,l),lr(S,t,l),y1;D.data==="$?"||Rp(),r=up(t,r,a)}else D.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=F.treeContext,Ut=zr(D.nextSibling),jn=r,pt=!0,$a=null,Yr=!1,t!==null&&(br[_r++]=hi,br[_r++]=mi,br[_r++]=Ha,hi=t.id,mi=t.overflow,Ha=r),r=cp(r,l.children),r.flags|=4096);return r}return f?(Xi(r),f=l.fallback,D=r.mode,F=t.child,te=F.sibling,l=pi(F,{mode:"hidden",children:l.children}),l.subtreeFlags=F.subtreeFlags&65011712,te===null?(f=Ba(f,D,a,null),f.flags|=2):f=pi(te,f),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,D=t.child.memoizedState,D===null?D=sp(a):(F=D.cachePool,F===null?F=mv():(te=un._currentValue,F=F.parent===te?F:{parent:te,pool:te}),D={baseLanes:D.baseLanes|a,cachePool:F}),f.memoizedState=D,f.childLanes=lp(t,S,a),r.memoizedState=op,l):(Ji(r),a=t.child,t=a.sibling,a=pi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(S=r.deletions,S===null?(r.deletions=[t],r.flags|=16):S.push(t)),r.child=a,r.memoizedState=null,a)}function cp(t,r){return r=Fc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Fc(t,r){return t=ir(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function up(t,r,a){return Wo(r,t.child,null,a),t=cp(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function T1(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Rf(t.return,r,a)}function dp(t,r,a,l,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=f)}function R1(t,r,a){var l=r.pendingProps,f=l.revealOrder,g=l.tail;if(Cn(t,r,l.children,a),l=dn.current,l&2)l=l&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T1(t,a,r);else if(t.tag===19)T1(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(De(dn,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Ac(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),dp(r,!1,f,a,g);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Ac(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}dp(r,!0,a,null,g);break;case"together":dp(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function wi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),na|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Qs(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=pi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=pi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function fp(t,r){return(t.lanes&r)===0?(t=t.dependencies,!!(t!==null&&_c(t))):!0}function x3(t,r,a){switch(r.tag){case 3:ln(r,r.stateNode.containerInfo),Ki(r,un,t.memoizedState.cache),Us();break;case 27:case 5:nn(r);break;case 4:ln(r,r.stateNode.containerInfo);break;case 10:Ki(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated===null?(a&r.child.childLanes)===0?(Ji(r),t=wi(t,r,a),t===null?null:t.sibling):E1(t,r,a):(Ji(r),r.flags|=128,null);Ji(r);break;case 19:var f=(t.flags&128)!=0;if(l=(a&r.childLanes)!==0,l||(l=(Qs(t,r,a,!1),(a&r.childLanes)!==0)),f){if(l)return R1(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),De(dn,dn.current),l)break;return null;case 22:case 23:return r.lanes=0,w1(t,r,a);case 24:Ki(r,un,t.memoizedState.cache)}return wi(t,r,a)}function D1(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)_n=!0;else{if(!fp(t,a)&&!(r.flags&128))return _n=!1,x3(t,r,a);_n=!!(t.flags&131072)}else _n=!1,pt&&r.flags&1048576&&lv(r,bc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")wf(l)?(t=Ya(l,t),r.tag=1,r=C1(null,r,l,t,a)):(r.tag=0,r=ap(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===me){r.tag=11,r=v1(null,r,l,t,a);break e}else if(f===V){r.tag=14,r=b1(null,r,l,t,a);break e}}throw r=ne(l)||l,Error(s(306,r,""))}}return r;case 0:return ap(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ya(l,r.pendingProps),C1(t,r,l,f,a);case 3:e:{if(ln(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var g=r.memoizedState;f=g.element,If(t,r),tl(r,l,null,a);var S=r.memoizedState;if(l=S.cache,Ki(r,un,l),l!==g.cache&&Df(r,[un],a,!0),el(),l=S.element,g.isDehydrated)if(g={element:l,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=S1(t,r,l,a);break e}else if(l!==f){f=yr(Error(s(424)),r),Ks(f),r=S1(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ut=zr(t.firstChild),jn=r,pt=!0,$a=null,Yr=!0,a=u1(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Us(),l===f){r=wi(t,r,a);break e}Cn(t,r,l,a)}r=r.child}return r;case 26:return zc(t,r),t===null?(a=Mb(r.type,null,r.pendingProps,null))?r.memoizedState=a:pt||(a=r.type,t=r.pendingProps,l=eu(qt.current).createElement(a),l[bt]=r,l[jt]=t,En(l,a,t),Ve(l),r.stateNode=l):r.memoizedState=Mb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return nn(r),t===null&&pt&&(l=r.stateNode=Pb(r.type,r.pendingProps,qt.current),jn=r,Yr=!0,f=Ut,oa(r.type)?(Wp=f,Ut=zr(l.firstChild)):Ut=f),Cn(t,r,r.pendingProps.children,a),zc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&pt&&((f=l=Ut)&&(l=Q3(l,r.type,r.pendingProps,Yr),l===null?f=!1:(r.stateNode=l,jn=r,Ut=zr(l.firstChild),Yr=!1,f=!0)),f||Wa(r)),nn(r),f=r.type,g=r.pendingProps,S=t===null?null:t.memoizedProps,l=g.children,Bp(f,g)?l=null:S!==null&&Bp(f,S)&&(r.flags|=32),r.memoizedState!==null&&(f=Bf(t,r,d3,null,null,a),kl._currentValue=f),zc(t,r),Cn(t,r,l,a),r.child;case 6:return t===null&&pt&&((t=a=Ut)&&(a=G3(a,r.pendingProps,Yr),a===null?t=!1:(r.stateNode=a,jn=r,Ut=null,t=!0)),t||Wa(r)),null;case 13:return E1(t,r,a);case 4:return ln(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Wo(r,null,l,a):Cn(t,r,l,a),r.child;case 11:return v1(t,r,r.type,r.pendingProps,a);case 7:return Cn(t,r,r.pendingProps,a),r.child;case 8:return Cn(t,r,r.pendingProps.children,a),r.child;case 12:return Cn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ki(r,r.type,l.value),Cn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ka(r),f=Nn(f),l=l(f),r.flags|=1,Cn(t,r,l,a),r.child;case 14:return b1(t,r,r.type,r.pendingProps,a);case 15:return _1(t,r,r.type,r.pendingProps,a);case 19:return R1(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Fc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=pi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return w1(t,r,a);case 24:return Ka(r),l=Nn(un),t===null?(f=Nf(),f===null&&(f=It,g=Of(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),r.memoizedState={parent:l,cache:f},Mf(r),Ki(r,un,f)):((t.lanes&a)!==0&&(If(t,r),tl(r,null,null,a),el()),f=t.memoizedState,g=r.memoizedState,f.parent===l?(l=g.cache,Ki(r,un,l),l!==f.cache&&Df(r,[un],a,!0)):(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ki(r,un,l))),Cn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function xi(t){t.flags|=4}function O1(t,r){if(r.type!=="stylesheet"||r.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!zb(r)){if(r=wr.current,r!==null&&((st&4194048)===st?bi!==null:(st&62914560)!==st&&!(st&536870912)||r!==bi))throw Ys=Lf,gv;t.flags|=8192}}function Bc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag===22?536870912:Ur(),t.lanes|=r,Go|=r)}function ll(t,r){if(!pt)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ht(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function k3(t,r,a){var l=r.pendingProps;switch(Sf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(r),null;case 1:return Ht(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),yi(un),Ke(),a.pendingContext&&(a.pendingContext=(a.context=a.pendingContext,null)),(t===null||t.child===null)&&(Ws(r)?xi(r):t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,dv())),Ht(r),null;case 26:return a=r.memoizedState,t===null?(xi(r),a===null?(Ht(r),r.flags&=-16777217):(Ht(r),O1(r,a))):a?a===t.memoizedState?(Ht(r),r.flags&=-16777217):(xi(r),Ht(r),O1(r,a)):(t.memoizedProps!==l&&xi(r),Ht(r),r.flags&=-16777217),null;case 27:gt(r),a=qt.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ht(r),null}t=Le.current,Ws(r)?cv(r,t):(t=Pb(f,l,a),r.stateNode=t,xi(r))}return Ht(r),null;case 5:if(gt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return Ht(r),null}if(t=Le.current,Ws(r))cv(r,t);else{switch(f=eu(qt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[bt]=r,t[jt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(En(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&xi(r)}}return Ht(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=qt.current,Ws(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=jn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cb(t.nodeValue,a)),t||Wa(r)}else t=eu(t).createTextNode(l),t[bt]=r,r.stateNode=t}return Ht(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ws(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f===null?null:f.dehydrated,!f)throw Error(s(317));f[bt]=r}else Us(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ht(r),f=!1}else f=dv(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(_i(r),r):(_i(r),null)}if(_i(r),r.flags&128)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var g=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Bc(r,r.updateQueue),Ht(r),null;case 4:return Ke(),t===null&&_b(r.stateNode.containerInfo),Ht(r),null;case 10:return yi(r.type),Ht(r),null;case 19:if(He(dn),f=r.memoizedState,f===null)return Ht(r),null;if(l=(r.flags&128)!=0,g=f.rendering,g===null)if(l)ll(f,!1);else{if(Kt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(g=Ac(t),g!==null){for(r.flags|=128,ll(f,!1),t=g.updateQueue,r.updateQueue=t,Bc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)sv(a,t),a=a.sibling;return De(dn,dn.current&1|2),r.child}t=t.sibling}f.tail!==null&&vn()>$c&&(r.flags|=128,l=!0,ll(f,!1),r.lanes=4194304)}else{if(!l)if(t=Ac(g),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Bc(r,t),ll(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!pt)return Ht(r),null}else 2*vn()-f.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,l=!0,ll(f,!1),r.lanes=4194304);f.isBackwards?(g.sibling=r.child,r.child=g):(t=f.last,t===null?r.child=g:t.sibling=g,f.last=g)}return f.tail===null?(Ht(r),null):(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=vn(),r.sibling=null,t=dn.current,De(dn,l?t&1|2:t&1),r);case 22:case 23:return _i(r),zf(),l=r.memoizedState!==null,t===null?l&&(r.flags|=8192):t.memoizedState!==null!==l&&(r.flags|=8192),l?a&536870912&&!(r.flags&128)&&(Ht(r),r.subtreeFlags&6&&(r.flags|=8192)):Ht(r),a=r.updateQueue,a!==null&&Bc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&He(Qa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),yi(un),Ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function C3(t,r){switch(Sf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return yi(un),Ke(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return gt(r),null;case 13:if(_i(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Us()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(dn),null;case 4:return Ke(),null;case 10:return yi(r.type),null;case 22:case 23:return _i(r),zf(),t!==null&&He(Qa),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return yi(un),null;case 25:return null;default:return null}}function P1(t,r){switch(Sf(r),r.tag){case 3:yi(un),Ke();break;case 26:case 27:case 5:gt(r);break;case 4:Ke();break;case 13:_i(r);break;case 19:He(dn);break;case 10:yi(r.type);break;case 22:case 23:_i(r),zf(),t!==null&&He(Qa);break;case 24:yi(un)}}function cl(t,r){try{var a=r.updateQueue,l=a===null?null:a.lastEffect;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var g=a.create,S=a.inst;l=g(),S.destroy=l}a=a.next}while(a!==f)}}catch(D){Nt(r,r.return,D)}}function Yi(t,r,a){try{var l=r.updateQueue,f=l===null?null:l.lastEffect;if(f!==null){var g=f.next;l=g;do{if((l.tag&t)===t){var S=l.inst,D=S.destroy;if(D!==void 0){S.destroy=void 0,f=r;var F=a,te=D;try{te()}catch(pe){Nt(f,F,pe)}}}l=l.next}while(l!==g)}}catch(pe){Nt(r,r.return,pe)}}function N1(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{xv(r,a)}catch(l){Nt(t,t.return,l)}}}function L1(t,r,a){a.props=Ya(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Nt(t,r,l)}}function ul(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Nt(t,r,f)}}function Zr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Nt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Nt(t,r,f)}else a.current=null}function M1(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Nt(t,t.return,f)}}function pp(t,r,a){try{var l=t.stateNode;V3(l,t.type,a,r),l[jt]=r}catch(f){Nt(t,t.return,f)}}function I1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oa(t.type)||t.tag===4}function hp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||I1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Zc));else if(l!==4&&(l===27&&oa(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(mp(t,r,a),t=t.sibling;t!==null;)mp(t,r,a),t=t.sibling}function Hc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&oa(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Hc(t,r,a),t=t.sibling;t!==null;)Hc(t,r,a),t=t.sibling}function A1(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);En(r,l,a),r[bt]=t,r[jt]=a}catch(g){Nt(t,t.return,g)}}var ki=!1,en=!1,gp=!1,q1=typeof WeakSet=="function"?WeakSet:Set,wn=null;function S3(t,r){if(t=t.containerInfo,zp=ou,t=Xy(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,g=l.focusNode;l=l.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var S=0,D=-1,F=-1,te=0,pe=0,ve=t,ae=null;t:for(;;){for(var se;ve!==a||f!==0&&ve.nodeType!==3||(D=S+f),ve!==g||l!==0&&ve.nodeType!==3||(F=S+l),ve.nodeType===3&&(S+=ve.nodeValue.length),(se=ve.firstChild)!==null;)ae=ve,ve=se;for(;;){if(ve===t)break t;if(ae===a&&++te===f&&(D=S),ae===g&&++pe===l&&(F=S),(se=ve.nextSibling)!==null)break;ve=ae,ae=ve.parentNode}ve=se}a=D===-1||F===-1?null:{start:D,end:F}}else a=null}a||(a={start:0,end:0})}else a=null;for(Fp={focusedElem:t,selectionRange:a},ou=!1,wn=r;wn!==null;)if(r=wn,t=r.child,r.subtreeFlags&1024&&t!==null)t.return=r,wn=t;else for(;wn!==null;){switch(r=wn,g=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&g!==null){t=void 0,a=r,f=g.memoizedProps,g=g.memoizedState,l=a.stateNode;try{var je=Ya(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(je,g),l.__reactInternalSnapshotBeforeUpdate=t}catch(Me){Nt(a,a.return,Me)}}break;case 3:if(t&1024){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Vp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,wn=t;break}wn=r.return}}function j1(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&cl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(S){Nt(a,a.return,S)}else{var f=Ya(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Nt(a,a.return,S)}}l&64&&N1(a),l&512&&ul(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{xv(t,r)}catch(S){Nt(a,a.return,S)}}break;case 27:r===null&&l&4&&A1(a);case 26:case 5:Zi(t,a),r===null&&l&4&&M1(a),l&512&&ul(a,a.return);break;case 12:Zi(t,a);break;case 13:Zi(t,a),l&4&&B1(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=M3.bind(null,a),J3(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){r=r!==null&&r.memoizedState!==null||en,f=ki;var g=en;ki=l,(en=r)&&!g?ea(t,a,(a.subtreeFlags&8772)!=0):Zi(t,a),ki=f,en=g}break;case 30:break;default:Zi(t,a)}}function z1(t){var r=t.alternate;r!==null&&(t.alternate=null,z1(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ft(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ft=null,Wn=!1;function Ci(t,r,a){for(a=a.child;a!==null;)F1(t,r,a),a=a.sibling}function F1(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Vt,a)}catch{}switch(a.tag){case 26:en||Zr(a,r),Ci(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:en||Zr(a,r);var l=Ft,f=Wn;oa(a.type)&&(Ft=a.stateNode,Wn=!1),Ci(t,r,a),bl(a.stateNode),Ft=l,Wn=f;break;case 5:en||Zr(a,r);case 6:if(l=Ft,f=Wn,Ft=null,Ci(t,r,a),Ft=l,Wn=f,Ft!==null)if(Wn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(a.stateNode)}catch(g){Nt(a,r,g)}else try{Ft.removeChild(a.stateNode)}catch(g){Nt(a,r,g)}break;case 18:Ft!==null&&(Wn?(t=Ft,Db(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):Db(Ft,a.stateNode));break;case 4:l=Ft,f=Wn,Ft=a.stateNode.containerInfo,Wn=!0,Ci(t,r,a),Ft=l,Wn=f;break;case 0:case 11:case 14:case 15:en||Yi(2,a,r),en||Yi(4,a,r),Ci(t,r,a);break;case 1:en||(Zr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L1(a,r,l)),Ci(t,r,a);break;case 21:Ci(t,r,a);break;case 22:en=(l=en)||a.memoizedState!==null,Ci(t,r,a),en=l;break;default:Ci(t,r,a)}}function B1(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){Nt(r,r.return,a)}}function E3(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new q1),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new q1),r;default:throw Error(s(435,t.tag))}}function yp(t,r){var a=E3(t);r.forEach(function(l){var f=I3.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function ar(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],g=t,S=r,D=S;e:for(;D!==null;){switch(D.tag){case 27:if(oa(D.type)){Ft=D.stateNode,Wn=!1;break e}break;case 5:Ft=D.stateNode,Wn=!1;break e;case 3:case 4:Ft=D.stateNode.containerInfo,Wn=!0;break e}D=D.return}if(Ft===null)throw Error(s(160));F1(g,S,f),Ft=null,Wn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)H1(r,t),r=r.sibling}var jr=null;function H1(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ar(r,t),or(t),l&4&&(Yi(3,t,t.return),cl(3,t),Yi(5,t,t.return));break;case 1:ar(r,t),or(t),l&512&&(en||a===null||Zr(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=jr;if(ar(r,t),or(t),l&512&&(en||a===null||Zr(a,a.return)),l&4){var g=a===null?null:a.memoizedState;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ce]||g[bt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(l),f.head.insertBefore(g,f.querySelector("head > title"))),En(g,l,a),g[bt]=t,Ve(g),l=g;break e;case"link":var S=qb("link","href",f).get(l+(a.href||""));if(S){for(var D=0;D<S.length;D++)if(g=S[D],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(D,1);break t}}g=f.createElement(l),En(g,l,a),f.head.appendChild(g);break;case"meta":if(S=qb("meta","content",f).get(l+(a.content||""))){for(D=0;D<S.length;D++)if(g=S[D],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(D,1);break t}}g=f.createElement(l),En(g,l,a),f.head.appendChild(g);break;default:throw Error(s(468,l))}g[bt]=t,Ve(g),l=g}t.stateNode=l}else jb(f,t.type,t.stateNode);else t.stateNode=Ab(f,l,t.memoizedProps);else g===l?l===null&&t.stateNode!==null&&pp(t,t.memoizedProps,a.memoizedProps):(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,l===null?jb(f,t.type,t.stateNode):Ab(f,l,t.memoizedProps))}break;case 27:ar(r,t),or(t),l&512&&(en||a===null||Zr(a,a.return)),a!==null&&l&4&&pp(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ar(r,t),or(t),l&512&&(en||a===null||Zr(a,a.return)),t.flags&32){f=t.stateNode;try{Gr(f,"")}catch(se){Nt(t,t.return,se)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,pp(t,f,a===null?f:a.memoizedProps)),l&1024&&(gp=!0);break;case 6:if(ar(r,t),or(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(se){Nt(t,t.return,se)}}break;case 3:if(ru=null,f=jr,jr=tu(r.containerInfo),ar(r,t),jr=f,or(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(r.containerInfo)}catch(se){Nt(t,t.return,se)}gp&&(gp=!1,V1(t));break;case 4:l=jr,jr=tu(t.stateNode.containerInfo),ar(r,t),or(t),jr=l;break;case 12:ar(r,t),or(t);break;case 13:ar(r,t),or(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kp=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yp(t,l)));break;case 22:f=t.memoizedState!==null;var F=a!==null&&a.memoizedState!==null,te=ki,pe=en;if(ki=te||f,en=pe||F,ar(r,t),en=pe,ki=te,or(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||F||ki||en||Za(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){F=a=r;try{if(g=F.stateNode,f)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{D=F.stateNode;var ve=F.memoizedProps.style,ae=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;D.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(se){Nt(F,F.return,se)}}}else if(r.tag===6){if(a===null){F=r;try{F.stateNode.nodeValue=f?"":F.memoizedProps}catch(se){Nt(F,F.return,se)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yp(t,a))));break;case 19:ar(r,t),or(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yp(t,l)));break;case 30:break;case 21:break;default:ar(r,t),or(t)}}function or(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(I1(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode;Hc(t,hp(t),f);break;case 5:var g=a.stateNode;a.flags&32&&(Gr(g,""),a.flags&=-33),Hc(t,hp(t),g);break;case 3:case 4:var S=a.stateNode.containerInfo;mp(t,hp(t),S);break;default:throw Error(s(161))}}catch(D){Nt(t,t.return,D)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function V1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;V1(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Zi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)j1(t,r.alternate,r),r=r.sibling}function Za(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Yi(4,r,r.return),Za(r);break;case 1:Zr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&L1(r,r.return,a),Za(r);break;case 27:bl(r.stateNode);case 26:case 5:Zr(r,r.return),Za(r);break;case 22:r.memoizedState===null&&Za(r);break;case 30:Za(r);break;default:Za(r)}t=t.sibling}}function ea(t,r,a){for(a&&(a=(r.subtreeFlags&8772)!=0),r=r.child;r!==null;){var l=r.alternate,f=t,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:ea(f,g,a),cl(4,g);break;case 1:if(ea(f,g,a),l=g,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){Nt(l,l.return,te)}if(l=g,f=l.updateQueue,f!==null){var D=l.stateNode;try{var F=f.shared.hiddenCallbacks;if(F!==null)for(f.shared.hiddenCallbacks=null,f=0;f<F.length;f++)wv(F[f],D)}catch(te){Nt(l,l.return,te)}}a&&S&64&&N1(g),ul(g,g.return);break;case 27:A1(g);case 26:case 5:ea(f,g,a),a&&l===null&&S&4&&M1(g),ul(g,g.return);break;case 12:ea(f,g,a);break;case 13:ea(f,g,a),a&&S&4&&B1(f,g);break;case 22:g.memoizedState===null&&ea(f,g,a),ul(g,g.return);break;case 30:break;default:ea(f,g,a)}r=r.sibling}}function vp(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Gs(a))}function bp(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Gs(t))}function ei(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$1(t,r,a,l),r=r.sibling}function $1(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ei(t,r,a,l),f&2048&&cl(9,r);break;case 1:ei(t,r,a,l);break;case 3:ei(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Gs(t)));break;case 12:if(f&2048){ei(t,r,a,l),t=r.stateNode;try{var g=r.memoizedProps,S=g.id,D=g.onPostCommit;typeof D=="function"&&D(S,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(F){Nt(r,r.return,F)}}else ei(t,r,a,l);break;case 13:ei(t,r,a,l);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState===null?g._visibility&2?ei(t,r,a,l):(g._visibility|=2,Uo(t,r,a,l,(r.subtreeFlags&10256)!=0)):g._visibility&2?ei(t,r,a,l):dl(t,r),f&2048&&vp(S,r);break;case 24:ei(t,r,a,l),f&2048&&bp(r.alternate,r);break;default:ei(t,r,a,l)}}function Uo(t,r,a,l,f){for(f&&(f=(r.subtreeFlags&10256)!=0),r=r.child;r!==null;){var g=t,S=r,D=a,F=l,te=S.flags;switch(S.tag){case 0:case 11:case 15:Uo(g,S,D,F,f),cl(8,S);break;case 23:break;case 22:var pe=S.stateNode;S.memoizedState===null?(pe._visibility|=2,Uo(g,S,D,F,f)):pe._visibility&2?Uo(g,S,D,F,f):dl(g,S),f&&te&2048&&vp(S.alternate,S);break;case 24:Uo(g,S,D,F,f),f&&te&2048&&bp(S.alternate,S);break;default:Uo(g,S,D,F,f)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:dl(a,l),f&2048&&vp(l.alternate,l);break;case 24:dl(a,l),f&2048&&bp(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var fl=8192;function Ko(t){if(t.subtreeFlags&fl)for(t=t.child;t!==null;)W1(t),t=t.sibling}function W1(t){switch(t.tag){case 26:Ko(t),t.flags&fl&&t.memoizedState!==null&&cT(jr,t.memoizedState,t.memoizedProps);break;case 5:Ko(t);break;case 3:case 4:var r=jr;jr=tu(t.stateNode.containerInfo),Ko(t),jr=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=fl,fl=16777216,Ko(t),fl=r):Ko(t));break;default:Ko(t)}}function U1(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];wn=l,Q1(l,t)}U1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K1(t),t=t.sibling}function K1(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Vc(t)):pl(t);break;default:pl(t)}}function Vc(t){var r=t.deletions;if(t.flags&16){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];wn=l,Q1(l,t)}U1(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Yi(8,r,r.return),Vc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Vc(r));break;default:Vc(r)}t=t.sibling}}function Q1(t,r){for(;wn!==null;){var a=wn;switch(a.tag){case 0:case 11:case 15:Yi(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,wn=l;else e:for(a=t;wn!==null;){l=wn;var f=l.sibling,g=l.return;if(z1(l),l===a){wn=null;break e}if(f!==null){f.return=g,wn=f;break e}wn=g}}}var T3={getCacheForType:function(t){var r=Nn(un),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},R3=typeof WeakMap=="function"?WeakMap:Map,wt=0,It=null,nt=null,st=0,xt=0,sr=null,ta=!1,Qo=!1,_p=!1,Si=0,Kt=0,na=0,eo=0,wp=0,xr=0,Go=0,hl=null,Un=null,xp=!1,kp=0,$c=1/0,Wc=null,ra=null,Sn=0,ia=null,Jo=null,Xo=0,Cp=0,Sp=null,G1=null,ml=0,Ep=null;function kr(){if(wt&2&&st!==0)return st&-st;if(le.T!==null){var t=jo;return t===0?Lp():t}return di()}function J1(){xr===0&&(xr=!(st&536870912)||pt?On():536870912);var t=wr.current;return t!==null&&(t.flags|=32),xr}function lr(t,r,a){(t===It&&(xt===2||xt===9)||t.cancelPendingCommit!==null)&&(Yo(t,0),aa(t,st,xr,!1)),Zn(t,a),(!(wt&2)||t!==It)&&(t===It&&(!(wt&2)&&(eo|=a),Kt===4&&aa(t,st,xr,!1)),Ei(t))}function X1(t,r,a){if(wt&6)throw Error(s(327));var l=!a&&(r&124)==0&&(r&t.expiredLanes)===0||lt(t,r),f=l?P3(t,r):Dp(t,r,!0),g=l;do{if(f===0){Qo&&!l&&aa(t,r,0,!1);break}else{if(a=t.current.alternate,g&&!D3(a)){f=Dp(t,r,!1),g=!1;continue}if(f===2){if(g=r,t.errorRecoveryDisabledLanes&g)var S=0;else S=t.pendingLanes&-536870913,S=S===0?S&536870912?536870912:0:S;if(S!==0){r=S;e:{var D=t;f=hl;var F=D.current.memoizedState.isDehydrated;if(F&&(Yo(D,S).flags|=256),S=Dp(D,S,!1),S!==2){if(_p&&!F){D.errorRecoveryDisabledLanes|=g,eo|=g,f=4;break e}g=Un,Un=f,g!==null&&(Un===null?Un=g:Un.push.apply(Un,g))}f=S}if(g=!1,f!==2)continue}}if(f===1){Yo(t,0),aa(t,r,0,!0);break}e:{switch(l=t,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:aa(l,r,xr,!ta);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kp+300-vn(),10<f)){if(aa(l,r,xr,!ta),$t(l,0,!0)!==0)break e;l.timeoutHandle=Tb(Y1.bind(null,l,a,Un,Wc,xp,r,xr,eo,Go,ta,g,2,-0,0),f);break e}Y1(l,a,Un,Wc,xp,r,xr,eo,Go,ta,g,0,-0,0)}}break}while(!0);Ei(t)}function Y1(t,r,a,l,f,g,S,D,F,te,pe,ve,ae,se){if(t.timeoutHandle=-1,ve=r.subtreeFlags,(ve&8192||(ve&16785408)==16785408)&&(xl={stylesheets:null,count:0,unsuspend:lT},W1(r),ve=uT(),ve!==null)){t.cancelPendingCommit=ve(ab.bind(null,t,r,g,a,l,f,S,D,F,pe,1,ae,se)),aa(t,g,S,!te);return}ab(t,r,g,a,l,f,S,D,F)}function D3(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],g=f.getSnapshot;f=f.value;try{if(!rr(g(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function aa(t,r,a,l){r&=~wp,r&=~eo,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var g=31-Bt(f),S=1<<g;l[g]=-1,f&=~S}a!==0&&ui(t,a,r)}function Uc(){return wt&6?!0:(gl(0,!1),!1)}function Tp(){if(nt!==null){if(xt===0)var t=nt.return;else t=nt,gi=Ua=null,$f(t),$o=null,ol=0,t=nt;for(;t!==null;)P1(t.alternate,t),t=t.return;nt=null}}function Yo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,W3(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tp(),It=t,nt=a=pi(t.current,null),st=r,xt=0,sr=null,ta=!1,Qo=lt(t,r),_p=!1,Go=xr=wp=eo=na=Kt=0,Un=hl=null,xp=!1,r&8&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Bt(l),g=1<<f;r|=t[f],l&=~g}return Si=r,hc(),a}function Z1(t,r){Ye=null,le.H=Lc,r===Xs||r===kc?(r=bv(),xt=3):r===gv?(r=bv(),xt=4):xt=r===y1?8:typeof r=="object"&&r&&typeof r.then=="function"?6:1,sr=r,nt===null&&(Kt=1,jc(t,yr(r,t.current)))}function eb(){var t=le.H;return le.H=Lc,t===null?Lc:t}function tb(){var t=le.A;return le.A=T3,t}function Rp(){Kt=4,ta||(st&4194048)!==st&&wr.current!==null||(Qo=!0),!(na&134217727)&&!(eo&134217727)||It===null||aa(It,st,xr,!1)}function Dp(t,r,a){var l=wt;wt|=2;var f=eb(),g=tb();(It!==t||st!==r)&&(Wc=null,Yo(t,r)),r=!1;var S=Kt;e:do try{if(xt!==0&&nt!==null){var D=nt,F=sr;switch(xt){case 8:Tp(),S=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(r=!0);var te=xt;if(xt=0,sr=null,Zo(t,D,F,te),a&&Qo){S=0;break e}break;default:te=xt,xt=0,sr=null,Zo(t,D,F,te)}}O3(),S=Kt;break}catch(pe){Z1(t,pe)}while(!0);return r&&t.shellSuspendCounter++,gi=Ua=null,wt=l,le.H=f,le.A=g,nt===null&&(It=null,st=0,hc()),S}function O3(){for(;nt!==null;)nb(nt)}function P3(t,r){var a=wt;wt|=2;var l=eb(),f=tb();It!==t||st!==r?(Wc=null,$c=vn()+500,Yo(t,r)):Qo=lt(t,r);e:do try{if(xt!==0&&nt!==null){r=nt;var g=sr;t:switch(xt){case 1:xt=0,sr=null,Zo(t,r,g,1);break;case 2:case 9:if(yv(g)){xt=0,sr=null,rb(r);break}r=function(){xt!==2&&xt!==9||It!==t||(xt=7),Ei(t)},g.then(r,r);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:yv(g)?(xt=0,sr=null,rb(r)):(xt=0,sr=null,Zo(t,r,g,7));break;case 5:var S=null;switch(nt.tag){case 26:S=nt.memoizedState;case 5:case 27:var D=nt;if(!S||zb(S)){xt=0,sr=null;var F=D.sibling;if(F!==null)nt=F;else{var te=D.return;te===null?nt=null:(nt=te,Kc(te))}break t}}xt=0,sr=null,Zo(t,r,g,5);break;case 6:xt=0,sr=null,Zo(t,r,g,6);break;case 8:Tp(),Kt=6;break e;default:throw Error(s(462))}}N3();break}catch(pe){Z1(t,pe)}while(!0);return gi=Ua=null,le.H=l,le.A=f,wt=a,nt===null?(It=null,st=0,hc(),Kt):0}function N3(){for(;nt!==null&&!si();)nb(nt)}function nb(t){var r=D1(t.alternate,t,Si);t.memoizedProps=t.pendingProps,r===null?Kc(t):nt=r}function rb(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=k1(a,r,r.pendingProps,r.type,void 0,st);break;case 11:r=k1(a,r,r.pendingProps,r.type.render,r.ref,st);break;case 5:$f(r);default:P1(a,r),r=nt=sv(r,Si),r=D1(a,r,Si)}t.memoizedProps=t.pendingProps,r===null?Kc(t):nt=r}function Zo(t,r,a,l){gi=Ua=null,$f(r),$o=null,ol=0;var f=r.return;try{if(w3(t,f,r,a,st)){Kt=1,jc(t,yr(a,t.current)),nt=null;return}}catch(g){if(f!==null)throw nt=f,g;Kt=1,jc(t,yr(a,t.current)),nt=null;return}r.flags&32768?(pt||l===1?t=!0:Qo||st&536870912?t=!1:(ta=t=!0,(l===2||l===9||l===3||l===6)&&(l=wr.current,l!==null&&l.tag===13&&(l.flags|=16384))),ib(r,t)):Kc(r)}function Kc(t){var r=t;do{if(r.flags&32768){ib(r,ta);return}t=r.return;var a=k3(r.alternate,r,Si);if(a!==null){nt=a;return}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);Kt===0&&(Kt=5)}function ib(t,r){do{var a=C3(t.alternate,t);if(a!==null){a.flags&=32767,nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){nt=t;return}nt=t=a}while(t!==null);Kt=6,nt=null}function ab(t,r,a,l,f,g,S,D,F){t.cancelPendingCommit=null;do Qc();while(Sn!==0);if(wt&6)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=bf,Kr(t,a,g,S,D,F),t===It&&(nt=It=null,st=0),Jo=r,ia=t,Xo=a,Cp=g,Sp=f,G1=l,r.subtreeFlags&10256||r.flags&10256?(t.callbackNode=null,t.callbackPriority=0,A3(rn,function(){return ub(!0),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!=0,r.subtreeFlags&13878||l){l=le.T,le.T=null,f=K.p,K.p=2,S=wt,wt|=4;try{S3(t,r,a)}finally{wt=S,K.p=f,le.T=l}}Sn=1,ob(),sb(),lb()}}function ob(){if(Sn===1){Sn=0;var t=ia,r=Jo,a=(r.flags&13878)!=0;if(r.subtreeFlags&13878||a){a=le.T,le.T=null;var l=K.p;K.p=2;var f=wt;wt|=4;try{H1(r,t);var g=Fp,S=Xy(t.containerInfo),D=g.focusedElem,F=g.selectionRange;if(S!==D&&D&&D.ownerDocument&&Jy(D.ownerDocument.documentElement,D)){if(F!==null&&hf(D)){var te=F.start,pe=F.end;if(pe===void 0&&(pe=te),"selectionStart"in D)D.selectionStart=te,D.selectionEnd=Math.min(pe,D.value.length);else{var ve=D.ownerDocument||document,ae=ve&&ve.defaultView||window;if(ae.getSelection){var se=ae.getSelection(),je=D.textContent.length,Me=Math.min(F.start,je),Rt=F.end===void 0?Me:Math.min(F.end,je);!se.extend&&Me>Rt&&(S=Rt,Rt=Me,Me=S);var Q=Gy(D,Me),$=Gy(D,Rt);if(Q&&$&&(se.rangeCount!==1||se.anchorNode!==Q.node||se.anchorOffset!==Q.offset||se.focusNode!==$.node||se.focusOffset!==$.offset)){var Y=ve.createRange();Y.setStart(Q.node,Q.offset),se.removeAllRanges(),Me>Rt?(se.addRange(Y),se.extend($.node,$.offset)):(Y.setEnd($.node,$.offset),se.addRange(Y))}}}}for(ve=[],se=D;se=se.parentNode;)se.nodeType===1&&ve.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ve.length;D++){var he=ve[D];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}ou=!!zp,Fp=zp=null}finally{wt=f,K.p=l,le.T=a}}t.current=r,Sn=2}}function sb(){if(Sn===2){Sn=0;var t=ia,r=Jo,a=(r.flags&8772)!=0;if(r.subtreeFlags&8772||a){a=le.T,le.T=null;var l=K.p;K.p=2;var f=wt;wt|=4;try{j1(t,r.alternate,r)}finally{wt=f,K.p=l,le.T=a}}Sn=3}}function lb(){if(Sn===4||Sn===3){Sn=0,yn();var t=ia,r=Jo,a=Xo,l=G1;r.subtreeFlags&10256||r.flags&10256?Sn=5:(Sn=0,Jo=ia=null,cb(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ra=null),Qr(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Vt,r,void 0,(r.current.flags&128)==128)}catch{}if(l!==null){r=le.T,f=K.p,K.p=2,le.T=null;try{for(var g=t.onRecoverableError,S=0;S<l.length;S++){var D=l[S];g(D.value,{componentStack:D.stack})}}finally{le.T=r,K.p=f}}Xo&3&&Qc(),Ei(t),f=t.pendingLanes,a&4194090&&f&42?t===Ep?ml++:(ml=0,Ep=t):ml=0,gl(0,!1)}}function cb(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Gs(r)))}function Qc(t){return ob(),sb(),lb(),ub(t)}function ub(){if(Sn!==5)return!1;var t=ia,r=Cp;Cp=0;var a=Qr(Xo),l=le.T,f=K.p;try{K.p=32>a?32:a,le.T=null,a=Sp,Sp=null;var g=ia,S=Xo;if(Sn=0,Jo=ia=null,Xo=0,wt&6)throw Error(s(331));var D=wt;if(wt|=4,K1(g.current),$1(g,g.current,S,a),wt=D,gl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Vt,g)}catch{}return!0}finally{K.p=f,le.T=l,cb(t,r)}}function db(t,r,a){r=yr(a,r),r=ip(t.stateNode,r,2),t=Ja(t,r,2),t!==null&&(Zn(t,2),Ei(t))}function Nt(t,r,a){if(t.tag===3)db(t,t,a);else for(;r!==null;){if(r.tag===3){db(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))){t=yr(a,t),a=m1(2),l=Ja(r,a,2),l!==null&&(g1(a,l,r,t),Zn(l,2),Ei(l));break}}r=r.return}}function Op(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new R3;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(_p=!0,f.add(a),t=L3.bind(null,t,r,a),r.then(t,t))}function L3(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,It===t&&(st&a)===a&&(Kt===4||Kt===3&&(st&62914560)===st&&300>vn()-kp?!(wt&2)&&Yo(t,0):wp|=a,Go===st&&(Go=0)),Ei(t)}function fb(t,r){r===0&&(r=Ur()),t=Mo(t,r),t!==null&&(Zn(t,r),Ei(t))}function M3(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),fb(t,a)}function I3(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),fb(t,a)}function A3(t,r){return Yn(t,r)}var Gc=null,es=null,Pp=!1,Jc=!1,Np=!1,to=0;function Ei(t){t!==es&&t.next===null&&(es===null?Gc=es=t:es=es.next=t),Jc=!0,Pp||(Pp=!0,j3())}function gl(t,r){if(!Np&&Jc){Np=!0;do for(var a=!1,l=Gc;l!==null;){if(!r)if(t!==0){var f=l.pendingLanes;if(f===0)var g=0;else{var S=l.suspendedLanes,D=l.pingedLanes;g=(1<<31-Bt(42|t)+1)-1,g&=f&~(S&~D),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,gb(l,g))}else g=st,g=$t(l,l===It?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(g&3)||lt(l,g)||(a=!0,gb(l,g));l=l.next}while(a);Np=!1}}function q3(){pb()}function pb(){Jc=Pp=!1;var t=0;to!==0&&($3()&&(t=to),to=0);for(var r=vn(),a=null,l=Gc;l!==null;){var f=l.next,g=hb(l,r);g===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(es=a)):(a=l,(t!==0||g&3)&&(Jc=!0)),l=f}gl(t,!1)}function hb(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var S=31-Bt(g),D=1<<S,F=f[S];F===-1?((D&a)===0||(D&l)!==0)&&(f[S]=vt(D,r)):F<=r&&(t.expiredLanes|=D),g&=~D}if(r=It,a=st,a=$t(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(xt===2||xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&kt(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||lt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&kt(l),Qr(a)){case 2:case 8:a=An;break;case 32:a=rn;break;case 268435456:a=Wr;break;default:a=rn}return l=mb.bind(null,t),a=Yn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&kt(l),t.callbackPriority=2,t.callbackNode=null,2}function mb(t,r){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Qc(!0)&&t.callbackNode!==a)return null;var l=st;return l=$t(t,t===It?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(X1(t,l,r),hb(t,vn()),t.callbackNode!=null&&t.callbackNode===a?mb.bind(null,t):null)}function gb(t,r){if(Qc())return null;X1(t,r,!0)}function j3(){U3(function(){wt&6?Yn(Nr,q3):pb()})}function Lp(){return to===0&&(to=On()),to}function yb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Oa(""+t)}function vb(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function z3(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var g=yb((f[jt]||null).action),S=l.submitter;S&&(r=(r=S[jt]||null)?yb(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var D=new Wi("action","action",null,l,f);t.push({event:D,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(to!==0){var F=S?vb(f,S):new FormData(f);Zf(a,{pending:!0,data:F,method:f.method,action:g},null,F)}}else typeof g=="function"&&(D.preventDefault(),F=S?vb(f,S):new FormData(f),Zf(a,{pending:!0,data:F,method:f.method,action:g},g,F))},currentTarget:f}]})}}for(var Mp=0;Mp<vf.length;Mp++){var Ip=vf[Mp];qr(Ip.toLowerCase(),"on"+(Ip[0].toUpperCase()+Ip.slice(1)))}qr(ev,"onAnimationEnd"),qr(tv,"onAnimationIteration"),qr(nv,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(t3,"onTransitionRun"),qr(n3,"onTransitionStart"),qr(r3,"onTransitionCancel"),qr(rv,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Wt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function bb(t,r){r=(r&4)!=0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var g=void 0;if(r)for(var S=l.length-1;0<=S;S--){var D=l[S],F=D.instance,te=D.currentTarget;if(D=D.listener,F!==g&&f.isPropagationStopped())break e;g=D,f.currentTarget=te;try{g(f)}catch(pe){qc(pe)}f.currentTarget=null,g=F}else for(S=0;S<l.length;S++){if(D=l[S],F=D.instance,te=D.currentTarget,D=D.listener,F!==g&&f.isPropagationStopped())break e;g=D,f.currentTarget=te;try{g(f)}catch(pe){qc(pe)}f.currentTarget=null,g=F}}}}function rt(t,r){var a=r[Je];a===void 0&&(a=r[Je]=new Set);var l=t+"__bubble";a.has(l)||(wb(r,t,2,!1),a.add(l))}function Ap(t,r,a){var l=0;r&&(l|=4),wb(a,t,l,r)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function _b(t){if(!t[Xc]){t[Xc]=!0,at.forEach(function(a){a!=="selectionchange"&&(F3.has(a)||Ap(a,!1,t),Ap(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xc]||(r[Xc]=!0,Ap("selectionchange",!1,r))}}function wb(t,r,a,l){switch(Vb(r)){case 2:var f=mT;break;case 8:f=gT;break;default:f=Jp}a=f.bind(null,r,a,t),f=void 0,!As||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f===void 0?t.addEventListener(r,a,!0):t.addEventListener(r,a,{capture:!0,passive:f}):f===void 0?t.addEventListener(r,a,!1):t.addEventListener(r,a,{passive:f})}function qp(t,r,a,l,f){var g=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var S=l.tag;if(S===3||S===4){var D=l.stateNode.containerInfo;if(D===f)break;if(S===4)for(S=l.return;S!==null;){var F=S.tag;if((F===3||F===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;D!==null;){if(S=tt(D),S===null)return;if(F=S.tag,F===5||F===6||F===26||F===27){l=g=S;continue e}D=D.parentNode}}l=l.return}dc(function(){var te=g,pe=Oo(a),ve=[];e:{var ae=iv.get(t);if(ae!==void 0){var se=Wi,je=t;switch(t){case"keypress":if(Ia(a)===0)break e;case"keydown":case"keyup":se=we;break;case"focusin":je="focus",se=O;break;case"focusout":je="blur",se=O;break;case"beforeblur":case"afterblur":se=O;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=k;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=T;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Ee;break;case ev:case tv:case nv:se=L;break;case rv:se=Ae;break;case"scroll":case"scrollend":se=u;break;case"wheel":se=ct;break;case"copy":case"cut":case"paste":se=z;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=qe;break;case"toggle":case"beforetoggle":se=Xe}var Me=(r&4)!=0,Rt=!Me&&(t==="scroll"||t==="scrollend"),Q=Me?ae===null?null:ae+"Capture":ae;Me=[];for(var $=te,Y;$!==null;){var he=$;if(Y=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Y===null||Q===null||(he=Na($,Q),he!=null&&Me.push(vl($,he,Y))),Rt)break;$=$.return}0<Me.length&&(ae=new se(ae,je,null,a,pe),ve.push({event:ae,listeners:Me}))}}if(!(r&7)){e:{if(ae=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",ae&&a!==Is&&(je=a.relatedTarget||a.fromElement)&&(tt(je)||je[P]))break e;if((se||ae)&&(ae=pe.window===pe?pe:(ae=pe.ownerDocument)?ae.defaultView||ae.parentWindow:window,se?(je=a.relatedTarget||a.toElement,se=te,je=je?tt(je):null,je!==null&&(Rt=d(je),Me=je.tag,je!==Rt||Me!==5&&Me!==27&&Me!==6)&&(je=null)):(se=null,je=te),se!==je)){if(Me=k,he="onMouseLeave",Q="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(Me=qe,he="onPointerLeave",Q="onPointerEnter",$="pointer"),Rt=se==null?ae:_t(se),Y=je==null?ae:_t(je),ae=new Me(he,$+"leave",se,a,pe),ae.target=Rt,ae.relatedTarget=Y,he=null,tt(pe)===te&&(Me=new Me(Q,$+"enter",je,a,pe),Me.target=Y,Me.relatedTarget=Rt,he=Me),Rt=he,se&&je)t:{for(Me=se,Q=je,$=0,Y=Me;Y;Y=ts(Y))$++;for(Y=0,he=Q;he;he=ts(he))Y++;for(;0<$-Y;)Me=ts(Me),$--;for(;0<Y-$;)Q=ts(Q),Y--;for(;$--;){if(Me===Q||Q!==null&&Me===Q.alternate)break t;Me=ts(Me),Q=ts(Q)}Me=null}else Me=null;se!==null&&xb(ve,ae,se,Me,!1),je!==null&&Rt!==null&&xb(ve,Rt,je,Me,!0)}}e:{if(ae=te?_t(te):window,se=ae.nodeName&&ae.nodeName.toLowerCase(),se==="select"||se==="input"&&ae.type==="file")var Re=Vy;else if(By(ae))if($y)Re=YE;else{Re=JE;var et=GE}else se=ae.nodeName,!se||se.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?te&&Ls(te.elementType)&&(Re=Vy):Re=XE;if(Re&&(Re=Re(t,te))){Hy(ve,Re,a,pe);break e}et&&et(t,ae,te),t==="focusout"&&te&&ae.type==="number"&&te.memoizedProps.value!=null&&Ns(ae,"number",ae.value)}switch(et=te?_t(te):window,t){case"focusin":(By(et)||et.contentEditable==="true")&&(Po=et,mf=te,$s=null);break;case"focusout":$s=mf=Po=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Yy(ve,a,pe);break;case"selectionchange":if(e3)break;case"keydown":case"keyup":Yy(ve,a,pe)}var Pe;if(Pt)e:{switch(t){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else Ui?ja(t,a)&&(Ie="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ie="onCompositionStart");Ie&&(Xt&&a.locale!=="ko"&&(Ui||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&Ui&&(Pe=js()):(Jr=pe,qs="value"in Jr?Jr.value:Jr.textContent,Ui=!0)),et=Yc(te,Ie),0<et.length&&(Ie=new A(Ie,t,null,a,pe),ve.push({event:Ie,listeners:et}),Pe?Ie.data=Pe:(Pe=fc(a),Pe!==null&&(Ie.data=Pe)))),(Pe=Qe?Fs(t,a):UE(t,a))&&(Ie=Yc(te,"onBeforeInput"),0<Ie.length&&(et=new A("onBeforeInput","beforeinput",null,a,pe),ve.push({event:et,listeners:Ie}),et.data=Pe)),z3(ve,t,te,a,pe)}bb(ve,r)})}function vl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Yc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Na(t,a),f!=null&&l.unshift(vl(t,f,g)),f=Na(t,r),f!=null&&l.push(vl(t,f,g))),t.tag===3)return l;t=t.return}return[]}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xb(t,r,a,l,f){for(var g=r._reactName,S=[];a!==null&&a!==l;){var D=a,F=D.alternate,te=D.stateNode;if(D=D.tag,F!==null&&F===l)break;D!==5&&D!==26&&D!==27||te===null||(F=te,f?(te=Na(a,g),te!=null&&S.unshift(vl(a,te,F))):f||(te=Na(a,g),te!=null&&S.push(vl(a,te,F)))),a=a.return}S.length!==0&&t.push({event:r,listeners:S})}var B3=/\r\n?/g,H3=/\u0000|\uFFFD/g;function kb(t){return(typeof t=="string"?t:""+t).replace(B3,`
`).replace(H3,"")}function Cb(t,r){return r=kb(r),kb(t)===r}function Zc(){}function Tt(t,r,a,l,f,g){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Gr(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Gr(t,""+l);break;case"className":Ro(t,"class",l);break;case"tabIndex":Ro(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(t,a,l);break;case"style":fi(t,l,g);break;case"data":if(r!=="object"){Ro(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(r!=="input"&&Tt(t,r,"name",f.name,f,null),Tt(t,r,"formEncType",f.formEncType,f,null),Tt(t,r,"formMethod",f.formMethod,f,null),Tt(t,r,"formTarget",f.formTarget,f,null)):(Tt(t,r,"encType",f.encType,f,null),Tt(t,r,"method",f.method,f,null),Tt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":rt("beforetoggle",t),rt("toggle",t),Ea(t,"popover",l);break;case"xlinkActuate":mr(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mr(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mr(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mr(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mr(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mr(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mr(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ea(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ms.get(a)||a,Ea(t,a,l))}}function jp(t,r,a,l,f,g){switch(a){case"style":fi(t,l,g);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Gr(t,l):(typeof l=="number"||typeof l=="bigint")&&Gr(t,""+l);break;case"onScroll":l!=null&&rt("scroll",t);break;case"onScrollEnd":l!=null&&rt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mt.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),g=t[jt]||null,g=g==null?null:g[a],typeof g=="function"&&t.removeEventListener(r,g,f),typeof l=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ea(t,a,l)}}}function En(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",t),rt("load",t);var l=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var S=a[g];if(S!=null)switch(g){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,g,S,a,null)}}f&&Tt(t,r,"srcSet",a.srcSet,a,null),l&&Tt(t,r,"src",a.src,a,null);return;case"input":rt("invalid",t);var D=g=S=f=null,F=null,te=null;for(l in a)if(a.hasOwnProperty(l)){var pe=a[l];if(pe!=null)switch(l){case"name":f=pe;break;case"type":S=pe;break;case"checked":F=pe;break;case"defaultChecked":te=pe;break;case"value":g=pe;break;case"defaultValue":D=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(s(137,r));break;default:Tt(t,r,l,pe,a,null)}}Da(t,g,D,F,te,S,f,!1),Ta(t);return;case"select":for(f in rt("invalid",t),l=S=g=null,a)if(a.hasOwnProperty(f)&&(D=a[f],D!=null))switch(f){case"value":g=D;break;case"defaultValue":S=D;break;case"multiple":l=D;default:Tt(t,r,f,D,a,null)}r=g,a=S,t.multiple=!!l,r==null?a!=null&&gr(t,!!l,a,!0):gr(t,!!l,r,!1);return;case"textarea":for(S in rt("invalid",t),g=f=l=null,a)if(a.hasOwnProperty(S)&&(D=a[S],D!=null))switch(S){case"value":l=D;break;case"defaultValue":f=D;break;case"children":g=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:Tt(t,r,S,D,a,null)}Vi(t,l,f,g),Ta(t);return;case"option":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Tt(t,r,F,l,a,null)}return;case"dialog":rt("beforetoggle",t),rt("toggle",t),rt("cancel",t),rt("close",t);break;case"iframe":case"object":rt("load",t);break;case"video":case"audio":for(l=0;l<yl.length;l++)rt(yl[l],t);break;case"image":rt("error",t),rt("load",t);break;case"details":rt("toggle",t);break;case"embed":case"source":case"link":rt("error",t),rt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in a)if(a.hasOwnProperty(te)&&(l=a[te],l!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Tt(t,r,te,l,a,null)}return;default:if(Ls(r)){for(pe in a)a.hasOwnProperty(pe)&&(l=a[pe],l!==void 0&&jp(t,r,pe,l,a,void 0));return}}for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null&&Tt(t,r,D,l,a,null))}function V3(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,S=null,D=null,F=null,te=null,pe=null;for(se in a){var ve=a[se];if(a.hasOwnProperty(se)&&ve!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":F=ve;default:l.hasOwnProperty(se)||Tt(t,r,se,null,l,ve)}}for(var ae in l){var se=l[ae];if(ve=a[ae],l.hasOwnProperty(ae)&&(se!=null||ve!=null))switch(ae){case"type":g=se;break;case"name":f=se;break;case"checked":te=se;break;case"defaultChecked":pe=se;break;case"value":S=se;break;case"defaultValue":D=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,r));break;default:se!==ve&&Tt(t,r,ae,se,l,ve)}}Ps(t,S,D,F,te,pe,g,f);return;case"select":for(g in se=S=D=ae=null,a)if(F=a[g],a.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":se=F;default:l.hasOwnProperty(g)||Tt(t,r,g,null,l,F)}for(f in l)if(g=l[f],F=a[f],l.hasOwnProperty(f)&&(g!=null||F!=null))switch(f){case"value":ae=g;break;case"defaultValue":D=g;break;case"multiple":S=g;default:g!==F&&Tt(t,r,f,g,l,F)}r=D,a=S,l=se,ae==null?!!l!=!!a&&(r==null?gr(t,!!a,a?[]:"",!1):gr(t,!!a,r,!0)):gr(t,!!a,ae,!1);return;case"textarea":for(D in se=ae=null,a)if(f=a[D],a.hasOwnProperty(D)&&f!=null&&!l.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Tt(t,r,D,null,l,f)}for(S in l)if(f=l[S],g=a[S],l.hasOwnProperty(S)&&(f!=null||g!=null))switch(S){case"value":ae=f;break;case"defaultValue":se=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Tt(t,r,S,f,l,g)}lc(t,ae,se);return;case"option":for(var je in a)if(ae=a[je],a.hasOwnProperty(je)&&ae!=null&&!l.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:Tt(t,r,je,null,l,ae)}for(F in l)if(ae=l[F],se=a[F],l.hasOwnProperty(F)&&ae!==se&&(ae!=null||se!=null))switch(F){case"selected":t.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:Tt(t,r,F,ae,l,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Me in a)ae=a[Me],a.hasOwnProperty(Me)&&ae!=null&&!l.hasOwnProperty(Me)&&Tt(t,r,Me,null,l,ae);for(te in l)if(ae=l[te],se=a[te],l.hasOwnProperty(te)&&ae!==se&&(ae!=null||se!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(s(137,r));break;default:Tt(t,r,te,ae,l,se)}return;default:if(Ls(r)){for(var Rt in a)ae=a[Rt],a.hasOwnProperty(Rt)&&ae!==void 0&&!l.hasOwnProperty(Rt)&&jp(t,r,Rt,void 0,l,ae);for(pe in l)ae=l[pe],se=a[pe],!l.hasOwnProperty(pe)||ae===se||ae===void 0&&se===void 0||jp(t,r,pe,ae,l,se);return}}for(var Q in a)ae=a[Q],a.hasOwnProperty(Q)&&ae!=null&&!l.hasOwnProperty(Q)&&Tt(t,r,Q,null,l,ae);for(ve in l)ae=l[ve],se=a[ve],!l.hasOwnProperty(ve)||ae===se||ae==null&&se==null||Tt(t,r,ve,ae,l,se)}var zp=null,Fp=null;function eu(t){return t.nodeType===9?t:t.ownerDocument}function Sb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Bp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hp=null;function $3(){var t=window.event;return t&&t.type==="popstate"?t===Hp?!1:(Hp=t,!0):(Hp=null,!1)}var Tb=typeof setTimeout=="function"?setTimeout:void 0,W3=typeof clearTimeout=="function"?clearTimeout:void 0,Rb=typeof Promise=="function"?Promise:void 0,U3=typeof queueMicrotask=="function"?queueMicrotask:Rb===void 0?Tb:function(t){return Rb.resolve(null).then(t).catch(K3)};function K3(t){setTimeout(function(){throw t})}function oa(t){return t==="head"}function Db(t,r){var a=r,l=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<l&&8>l){a=l;var S=t.ownerDocument;if(a&1&&bl(S.documentElement),a&2&&bl(S.body),a&4)for(a=S.head,bl(a),S=a.firstChild;S;){var D=S.nextSibling,F=S.nodeName;S[Ce]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&S.rel.toLowerCase()==="stylesheet"||a.removeChild(S),S=D}}if(f===0){t.removeChild(g),Tl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=g}while(a);Tl(r)}function Vp(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vp(a),ft(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Q3(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ce])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence")||g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=zr(t.nextSibling),t===null)break}return null}function G3(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zr(t.nextSibling),t===null))return null;return t}function $p(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function J3(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Wp=null;function Ob(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function Pb(t,r,a){switch(r=eu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function bl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ft(t)}var Cr=new Map,Nb=new Set;function tu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ti=K.d;K.d={f:X3,r:Y3,D:Z3,C:eT,L:tT,m:nT,X:iT,S:rT,M:aT};function X3(){var t=Ti.f(),r=Uc();return t||r}function Y3(t){var r=it(t);r!==null&&r.tag===5&&r.type==="form"?e1(r):Ti.r(t)}var ns=typeof document>"u"?null:document;function Lb(t,r,a){var l=ns;if(l&&typeof r=="string"&&r){var f=$e(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Nb.has(f)||(Nb.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),En(r,"link",t),Ve(r),l.head.appendChild(r)))}}function Z3(t){Ti.D(t),Lb("dns-prefetch",t,null)}function eT(t,r){Ti.C(t,r),Lb("preconnect",t,r)}function tT(t,r,a){Ti.L(t,r,a);var l=ns;if(l&&t&&r){var f='link[rel="preload"][as="'+$e(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+$e(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+$e(a.imageSizes)+'"]')):f+='[href="'+$e(t)+'"]';var g=f;switch(r){case"style":g=rs(t);break;case"script":g=is(t)}Cr.has(g)||(t=w({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Cr.set(g,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(_l(g))||r==="script"&&l.querySelector(wl(g))||(r=l.createElement("link"),En(r,"link",t),Ve(r),l.head.appendChild(r)))}}function nT(t,r){Ti.m(t,r);var a=ns;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+$e(l)+'"][href="'+$e(t)+'"]',g=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=is(t)}if(!Cr.has(g)&&(t=w({rel:"modulepreload",href:t},r),Cr.set(g,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(g)))return}l=a.createElement("link"),En(l,"link",t),Ve(l),a.head.appendChild(l)}}}function rT(t,r,a){Ti.S(t,r,a);var l=ns;if(l&&t){var f=We(l).hoistableStyles,g=rs(t);r||(r="default");var S=f.get(g);if(!S){var D={loading:0,preload:null};if(S=l.querySelector(_l(g)))D.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Cr.get(g))&&Up(t,a);var F=S=l.createElement("link");Ve(F),En(F,"link",t),F._p=new Promise(function(te,pe){F.onload=te,F.onerror=pe}),F.addEventListener("load",function(){D.loading|=1}),F.addEventListener("error",function(){D.loading|=2}),D.loading|=4,nu(S,r,l)}S={type:"stylesheet",instance:S,count:1,state:D},f.set(g,S)}}}function iT(t,r){Ti.X(t,r);var a=ns;if(a&&t){var l=We(a).hoistableScripts,f=is(t),g=l.get(f);g||(g=a.querySelector(wl(f)),g||(t=w({src:t,async:!0},r),(r=Cr.get(f))&&Kp(t,r),g=a.createElement("script"),Ve(g),En(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function aT(t,r){Ti.M(t,r);var a=ns;if(a&&t){var l=We(a).hoistableScripts,f=is(t),g=l.get(f);g||(g=a.querySelector(wl(f)),g||(t=w({src:t,async:!0,type:"module"},r),(r=Cr.get(f))&&Kp(t,r),g=a.createElement("script"),Ve(g),En(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},l.set(f,g))}}function Mb(t,r,a,l){var f=(f=qt.current)?tu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=rs(a.href),a=We(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=rs(a.href);var g=We(f).hoistableStyles,S=g.get(t);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,S),(g=f.querySelector(_l(t)))&&!g._p&&(S.instance=g,S.state.loading=5),Cr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cr.set(t,a),g||oT(f,t,a,S.state))),r&&l===null)throw Error(s(528,""));return S}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=is(a),a=We(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function rs(t){return'href="'+$e(t)+'"'}function _l(t){return'link[rel="stylesheet"]['+t+"]"}function Ib(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function oT(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),En(r,"link",a),Ve(r),t.head.appendChild(r))}function is(t){return'[src="'+$e(t)+'"]'}function wl(t){return"script[async]"+t}function Ab(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+$e(a.href)+'"]');if(l)return r.instance=l,Ve(l),l;var f=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),En(l,"style",f),nu(l,a.precedence,t),r.instance=l;case"stylesheet":f=rs(a.href);var g=t.querySelector(_l(f));if(g)return r.state.loading|=4,r.instance=g,Ve(g),g;l=Ib(a),(f=Cr.get(f))&&Up(l,f),g=(t.ownerDocument||t).createElement("link"),Ve(g);var S=g;return S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),En(g,"link",l),r.state.loading|=4,nu(g,a.precedence,t),r.instance=g;case"script":return g=is(a.src),(f=t.querySelector(wl(g)))?(r.instance=f,Ve(f),f):(l=a,(f=Cr.get(g))&&(l=w({},a),Kp(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ve(f),En(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&!(r.state.loading&4)&&(l=r.instance,r.state.loading|=4,nu(l,a.precedence,t));return r.instance}function nu(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,g=f,S=0;S<l.length;S++){var D=l[S];if(D.dataset.precedence===r)g=D;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Up(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.title??(t.title=r.title)}function Kp(t,r){t.crossOrigin??(t.crossOrigin=r.crossOrigin),t.referrerPolicy??(t.referrerPolicy=r.referrerPolicy),t.integrity??(t.integrity=r.integrity)}var ru=null;function qb(t,r,a){if(ru===null){var l=new Map,f=ru=new Map;f.set(a,l)}else f=ru,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[Ce]||g[bt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=t+S;var D=l.get(S);D?D.push(g):l.set(S,[g])}}return l}function jb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function sT(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zb(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var xl=null;function lT(){}function cT(t,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var f=rs(a.href),g=t.querySelector(_l(f));if(g){t=g._p,typeof t=="object"&&t&&typeof t.then=="function"&&(l.count++,l=iu.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=g,Ve(g);return}g=t.ownerDocument||t,a=Ib(a),(f=Cr.get(f))&&Up(a,f),g=g.createElement("link"),Ve(g);var S=g;S._p=new Promise(function(D,F){S.onload=D,S.onerror=F}),En(g,"link",a),r.instance=g}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(l.count++,r=iu.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function uT(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&Qp(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Qp(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function iu(){if(this.count--,this.count===0){if(this.stylesheets)Qp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var au=null;function Qp(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,au=new Map,r.forEach(dT,t),au=null,iu.call(t))}function dT(t,r){if(!(r.state.loading&4)){var a=au.get(t);if(a)var l=a.get(null);else{a=new Map,au.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var S=f[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),l=S)}l&&a.set(null,l)}f=r.instance,S=f.getAttribute("data-precedence"),g=a.get(S)||l,g===l&&a.set(null,f),a.set(S,f),this.count++,l=iu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:G,Provider:null,Consumer:null,_currentValue:Ne,_currentValue2:Ne,_threadCount:0};function fT(t,r,a,l,f,g,S,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function pT(t,r,a,l,f,g,S,D,F,te,pe,ve){return t=new fT(t,r,a,S,D,F,te,ve),r=1,g===!0&&(r|=24),g=ir(3,null,null,r),t.current=g,g.stateNode=t,r=Of(),r.refCount++,t.pooledCache=r,r.refCount++,g.memoizedState={element:l,isDehydrated:a,cache:r},Mf(g),t}function hT(t){return t?(t=Io,t):Io}function Fb(t,r,a,l,f,g){f=hT(f),l.context===null?l.context=f:l.pendingContext=f,l=Ga(r),l.payload={element:a},g=g===void 0?null:g,g!==null&&(l.callback=g),a=Ja(t,l,r),a!==null&&(lr(a,t,r),Zs(a,t,r))}function Bb(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Gp(t,r){Bb(t,r),(t=t.alternate)&&Bb(t,r)}function Hb(t){if(t.tag===13){var r=Mo(t,67108864);r!==null&&lr(r,t,67108864),Gp(t,67108864)}}var ou=!0;function mT(t,r,a,l){var f=le.T;le.T=null;var g=K.p;try{K.p=2,Jp(t,r,a,l)}finally{K.p=g,le.T=f}}function gT(t,r,a,l){var f=le.T;le.T=null;var g=K.p;try{K.p=8,Jp(t,r,a,l)}finally{K.p=g,le.T=f}}function Jp(t,r,a,l){if(ou){var f=Xp(l);if(f===null)qp(t,r,l,su,a),$b(t,l);else if(vT(f,t,r,a,l))l.stopPropagation();else if($b(t,l),r&4&&-1<yT.indexOf(t)){for(;f!==null;){var g=it(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Ge(g.pendingLanes);if(S!==0){var D=g;for(D.pendingLanes|=2,D.entangledLanes|=2;S;){var F=1<<31-Bt(S);D.entanglements[1]|=F,S&=~F}Ei(g),!(wt&6)&&($c=vn()+500,gl(0,!1))}}break;case 13:D=Mo(g,2),D!==null&&lr(D,g,2),Uc(),Gp(g,2)}if(g=Xp(l),g===null&&qp(t,r,l,su,a),g===f)break;f=g}f!==null&&l.stopPropagation()}else qp(t,r,l,null,a)}}function Xp(t){return t=Oo(t),Yp(t)}var su=null;function Yp(t){if(su=null,t=tt(t),t!==null){var r=d(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return su=t,null}function Vb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(In()){case Nr:return 2;case An:return 8;case rn:case Bi:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var Zp=!1,sa=null,la=null,ca=null,Cl=new Map,Sl=new Map,ua=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $b(t,r){switch(t){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":la=null;break;case"mouseover":case"mouseout":ca=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(r.pointerId)}}function El(t,r,a,l,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:g,targetContainers:[f]},r!==null&&(r=it(r),r!==null&&Hb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function vT(t,r,a,l,f){switch(r){case"focusin":return sa=El(sa,t,r,a,l,f),!0;case"dragenter":return la=El(la,t,r,a,l,f),!0;case"mouseover":return ca=El(ca,t,r,a,l,f),!0;case"pointerover":var g=f.pointerId;return Cl.set(g,El(Cl.get(g)||null,t,r,a,l,f)),!0;case"gotpointercapture":return g=f.pointerId,Sl.set(g,El(Sl.get(g)||null,t,r,a,l,f)),!0}return!1}function Wb(t){var r=tt(t.target);if(r!==null){var a=d(r);if(a!==null){if(r=a.tag,r===13){if(r=p(a),r!==null){t.blockedOn=r,er(t.priority,function(){if(a.tag===13){var l=kr();l=Hn(l);var f=Mo(a,l);f!==null&&lr(f,a,l),Gp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lu(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Xp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Is=l,a.target.dispatchEvent(l),Is=null}else return r=it(a),r!==null&&Hb(r),t.blockedOn=a,!1;r.shift()}return!0}function Ub(t,r,a){lu(t)&&a.delete(r)}function bT(){Zp=!1,sa!==null&&lu(sa)&&(sa=null),la!==null&&lu(la)&&(la=null),ca!==null&&lu(ca)&&(ca=null),Cl.forEach(Ub),Sl.forEach(Ub)}function cu(t,r){t.blockedOn===r&&(t.blockedOn=null,Zp||(Zp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bT)))}var uu=null;function Kb(t){uu!==t&&(uu=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){uu===t&&(uu=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Yp(l||a)===null)continue;break}var g=it(a);g!==null&&(t.splice(r,3),r-=3,Zf(g,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Tl(t){function r(F){return cu(F,t)}sa!==null&&cu(sa,t),la!==null&&cu(la,t),ca!==null&&cu(ca,t),Cl.forEach(r),Sl.forEach(r);for(var a=0;a<ua.length;a++){var l=ua[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ua.length&&(a=ua[0],a.blockedOn===null);)Wb(a),a.blockedOn===null&&ua.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],g=a[l+1],S=f[jt]||null;if(typeof g=="function")S||Kb(a);else if(S){var D=null;if(g&&g.hasAttribute("formAction")){if(f=g,S=g[jt]||null)D=S.formAction;else if(Yp(f)!==null)continue}else D=S.action;typeof D=="function"?a[l+1]=D:(a.splice(l,3),l-=3),Kb(a)}}}function eh(t){this._internalRoot=t}th.prototype.render=eh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current;Fb(a,kr(),t,r,null,null)},th.prototype.unmount=eh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Fb(t.current,2,null,t,null,null),Uc(),r[P]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var r=di();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ua.length&&r!==0&&r<ua[a].priority;a++);ua.splice(a,0,t),a===0&&Wb(t)}};var Qb=i.version;if(Qb!=="19.1.1")throw Error(s(527,Qb,"19.1.1"));K.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(r),t=t===null?null:_(t),t=t===null?null:t.stateNode,t};var _T={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Vt=du.inject(_T),Gt=du}catch{}}e.createRoot=function(t,r){if(!c(t))throw Error(s(299));var a=!1,l="",f=v3,g=b3,S=_3,D=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks)),r=pT(t,1,!1,null,null,a,l,f,g,S,D,null),t[P]=r.current,_b(t),new eh(r)}})),Bu=ke(((e,n)=>{function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(o){console.error(o)}}i(),n.exports=ya()})),cm="Expected a function";function vw(e,n){var i;if(typeof n!="function")throw TypeError(cm);return e=IT(e),function(){return--e>0&&(i=n.apply(this,arguments)),e<=1&&(n=void 0),i}}var bw=vw;function _w(e){return bw(2,e)}let um;zh=_w,um=Math.max;function ww(e){if(!(e&&e.length))return[];var n=0;return e=jT(e,function(i){if(qT(i))return n=um(i.length,n),!0}),LT(n,function(i){return MT(e,$T(i))})}var xw=AT(ww);xh=function(e,n){if(e==null)throw Error(n||`Expected value but got ${e}`)},BigInt.prototype.toJSON=function(){return JSON.rawJSON(this.toString())},Ch=function(e){try{return JSON.parse(e,(n,i)=>od(i))}catch{}if(e==null||e==="")return{};try{return e??(e=""),e=e.replaceAll(new RegExp(`(?<=\\s|^|\\[|,|:)(NaN|-Infinity|Infinity)(?=(?:[^"'\\\\]*(\\\\.|'([^'\\\\]*\\\\.)*[^'\\\\]*'|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"']*$)`,"g"),'"\u25D0$1\u25D0"'),JSON.parse(e,(n,i)=>typeof i=="string"?i==="\u25D0NaN\u25D0"?NaN:i==="\u25D0Infinity\u25D0"?1/0:i==="\u25D0-Infinity\u25D0"?-1/0:od(i):od(i))}catch{return{}}};function kw(e,n){return e==null?"":typeof e=="number"&&!Number.isNaN(e)?e.toLocaleString(n,{useGrouping:!1,maximumFractionDigits:20}):String(e)}V_=function(e,n){if(e.length===0)return"";let i=Object.keys(e[0]),o=e.map(s=>i.map(c=>kw(s[c],n)).join("	"));return`${i.join("	")}
${o.join(`
`)}`};function od(e){return typeof e=="object"&&e&&"$bigint"in e&&typeof e.$bigint=="string"?BigInt(e.$bigint):e}var dm="abcdefghijklmnopqrstuvwxyz",fm=dm+dm.toUpperCase(),pm=new Set;cs="__scratch__",ur="setup",ga={create(){let e=0,n;do{let i="";for(let o=0;o<4;o++)i+=fm[Math.floor(Math.random()*fm.length)];n=i,e++}while(pm.has(n)&&e<100);if(e>=100)throw Error("Failed to generate unique CellId after 100 attempts");return pm.add(n),n}},dr={create(e){return Ln(e!=null,"cellId is required"),`cell-${e}`},parse(e){return e.slice(5)},findElement(e){return e.closest('div[id^="cell-"]')},findElementThroughShadowDOMs(e){let n=e;for(;n;){let i=dr.findElement(n);if(i)return i;let o=n.getRootNode();if(n=o instanceof ShadowRoot?o.host:n.parentElement,n===o)break}return null}},j2=function(e){let n=null,i=dr.findElementThroughShadowDOMs(e);return i&&(n=dr.parse(i.id)),n},zu={parse(e){return e.getAttribute("object-id")},parseOrThrow(e){let n=zu.parse(e);return Ln(n,"<marimo-ui-element/> missing object-id attribute"),n}},P2={create(e){return`output-${e}`}},Rh=new class{getFilename(){return this.getSearchParam("filename")}setFilename(e){this.setSearchParam("filename",e)}getCodeFromSearchParam(){return this.getSearchParam("code")}getCodeFromHash(){let e=window.location.hash;return e.startsWith("#code/")?e.slice(6):null}setCodeForHash(e){window.location.hash=`#code/${e}`}setSearchParam(e,n){let i=new URL(window.location.href);i.searchParams.set(e,n),window.history.replaceState({},"",i.toString())}getSearchParam(e){return new URL(window.location.href).searchParams.get(e)}},Ru=function(e){return Ch(e??"")},z2=function(e){return ti.mapValues(e.dataset,n=>typeof n=="string"?Ru(n):n)},$2=function(e,n){let i=e.parentElement?zu.parse(e.parentElement):void 0;return i&&n.has(i)?n.lookupValue(i):Ru(e.dataset.initialValue)},ql=function(){if(UT())return document.title||null;if(KT()){let i=Rh.getFilename();if(i)return i}let e=document.querySelector("marimo-filename");xh(e,"marimo-filename tag not found");let n=e.innerHTML;return n.length===0?null:n};var Cw=Symbol("");U2=function(e,n){return Be(e,function(i,o,s){o(this,n(i(this),s))})};function sd(e,n){let i=null,o=new Map,s=new Set,c=p=>{let m;if(n===void 0)m=o.get(p);else for(let[_,w]of o)if(n(_,p)){m=w;break}if(m!==void 0)if(i!=null&&i(m[1],p))c.remove(p);else return m[0];let v=e(p);return o.set(p,[v,Date.now()]),d("CREATE",p,v),v},d=(p,m,v)=>{for(let _ of s)_({type:p,param:m,atom:v})};return c.unstable_listen=p=>(s.add(p),()=>{s.delete(p)}),c.getParams=()=>o.keys(),c.remove=p=>{if(n===void 0){if(!o.has(p))return;let[m]=o.get(p);o.delete(p),d("REMOVE",p,m)}else for(let[m,[v]]of o)if(n(m,p)){o.delete(m),d("REMOVE",m,v);break}},c.setShouldRemove=p=>{if(i=p,i)for(let[m,[v,_]]of o)i(_,m)&&(o.delete(m),d("REMOVE",m,v))},c}var ld=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),Sw=new WeakMap,Ew=(e,n,i,o)=>ld(e,ld(()=>new WeakMap,ld(()=>new WeakMap,Sw,n),i),o);function Tw(e,n,i=Object.is){return Ew(()=>{let o=Symbol(),s=([d,p])=>{if(p===o)return n(d);let m=n(d,p);return i(p,m)?p:m},c=Be(d=>{let p=d(c);return s([d(e),p])});return c.init=o,c},e,n,i)}var hm=(e,n,i)=>(n.has(i)?n:n.set(i,e())).get(i),Rw=new WeakMap,Dw=(e,n,i)=>hm(e,hm(()=>new WeakMap,Rw,n),i),Ow={},mm=e=>!!e.write,Pw=e=>typeof e=="function";function Nw(e,n){return Dw(()=>{let i=new WeakMap,o=(d,p)=>{let m=i.get(d);if(m)return m;let v=p&&i.get(p),_=[],w=[];return d.forEach((C,E)=>{let R=n?n(C):E;w[E]=R;let M=v&&v.atomList[v.keyList.indexOf(R)];if(M){_[E]=M;return}let H=W=>{let U=W(s),I=W(e),G=o(I,U==null?void 0:U.arr).keyList.indexOf(R);if(G<0||G>=I.length){let me=d[o(d).keyList.indexOf(R)];if(me)return me;throw Error("splitAtom: index out of bounds for read")}return I[G]};_[E]=mm(e)?Be(H,(W,U,I)=>{let G=W(s),me=W(e),N=o(me,G==null?void 0:G.arr).keyList.indexOf(R);if(N<0||N>=me.length)throw Error("splitAtom: index out of bounds for write");let q=Pw(I)?I(me[N]):I;Object.is(me[N],q)||U(e,[...me.slice(0,N),q,...me.slice(N+1)])}):Be(H)}),m=v&&v.keyList.length===w.length&&v.keyList.every((C,E)=>C===w[E])?v:{arr:d,atomList:_,keyList:w},i.set(d,m),m},s=Be(d=>{let p=d(s);return o(d(e),p==null?void 0:p.arr)});s.init=void 0;let c=mm(e)?Be(d=>d(s).atomList,(d,p,m)=>{switch(m.type){case"remove":{let v=d(c).indexOf(m.atom);if(v>=0){let _=d(e);p(e,[..._.slice(0,v),..._.slice(v+1)])}break}case"insert":{let v=m.before?d(c).indexOf(m.before):d(c).length;if(v>=0){let _=d(e);p(e,[..._.slice(0,v),m.value,..._.slice(v)])}break}case"move":{let v=d(c).indexOf(m.atom),_=m.before?d(c).indexOf(m.before):d(c).length;if(v>=0&&_>=0){let w=d(e);v<_?p(e,[...w.slice(0,v),...w.slice(v+1,_),w[v],...w.slice(_)]):p(e,[...w.slice(0,_),w[v],...w.slice(_,v),...w.slice(v+1)])}break}}}):Be(d=>d(s).atomList);return c},e,n||Ow)}var gm=e=>typeof(e==null?void 0:e.then)=="function";function ym(e=()=>{try{return window.localStorage}catch{return}},n){var p;let i,o,s={getItem:(m,v)=>{var C;let _=E=>{if(E||(E=""),i!==E){try{o=JSON.parse(E,n==null?void 0:n.reviver)}catch{return v}i=E}return o},w=((C=e())==null?void 0:C.getItem(m))??null;return gm(w)?w.then(_):_(w)},setItem:(m,v)=>{var _;return(_=e())==null?void 0:_.setItem(m,JSON.stringify(v,n==null?void 0:n.replacer))},removeItem:m=>{var v;return(v=e())==null?void 0:v.removeItem(m)}},c=m=>(v,_,w)=>m(v,C=>{let E;try{E=JSON.parse(C||"")}catch{E=w}_(E)}),d;try{d=(p=e())==null?void 0:p.subscribe}catch{}return!d&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(d=(m,v)=>{if(!(e()instanceof window.Storage))return()=>{};let _=w=>{w.storageArea===e()&&w.key===m&&v(w.newValue)};return window.addEventListener("storage",_),()=>{window.removeEventListener("storage",_)}}),d&&(s.subscribe=c(d)),s}var Lw=ym();Iu=function(e,n,i=Lw,o){let s=Be(o!=null&&o.getOnInit?i.getItem(e,n):n);return s.onMount=c=>{c(i.getItem(e,n));let d;return i.subscribe&&(d=i.subscribe(e,c,n)),d},Be(c=>c(s),(c,d,p)=>{let m=typeof p=="function"?p(c(s)):p;return m===Cw?(d(s,n),i.removeItem(e)):gm(m)?m.then(v=>(d(s,v),i.setItem(e,v))):(d(s,m),i.setItem(e,m))})},Fn=function(e){let n,i,o;return typeof e=="object"?(n=e.hashFunction,i=e.expiring,o=e.tags):n=e,(s,c,d)=>{if(d.value!=null)d.value=vm(d.value,n,i,o);else if(d.get!=null)d.get=vm(d.get,n,i,o);else throw"Only put a Memoize() decorator on a method or get accessor."}};var cd=new Map;function vm(e,n,i=0,o){let s=Symbol("__memoized_map__");return function(...c){let d;this.hasOwnProperty(s)||Object.defineProperty(this,s,{configurable:!1,enumerable:!1,writable:!1,value:new Map});let p=this[s];if(Array.isArray(o))for(let m of o)cd.has(m)?cd.get(m).push(p):cd.set(m,[p]);if(n||c.length>0||i>0){let m;m=n===!0?c.map(w=>w.toString()).join("!"):n?n.apply(this,c):c[0];let v=`${m}__timestamp`,_=!1;if(i>0)if(!p.has(v))_=!0;else{let w=p.get(v);_=Date.now()-w>i}p.has(m)&&!_?d=p.get(m):(d=e.apply(this,c),p.set(m,d),i>0&&p.set(v,Date.now()))}else{let m=this;p.has(m)?d=p.get(m):(d=e.apply(this,c),p.set(m,d))}return d}}ls=Be(ql()),L_=Be(void 0);var Mw=class{constructor(){Te(this,"store",new Map)}get length(){return this.store.size}clear(){this.store.clear()}getItem(e){return this.store.get(e)||null}key(e){return[...this.store.keys()][e]||null}removeItem(e){this.store.delete(e)}setItem(e,n){this.store.set(e,n)}};function Iw(){let{hasLocalStorage:e,hasSessionStorage:n}=xR();return e?window.localStorage:n?window.sessionStorage:new Mw}us=Iw();let Li;q2=class{constructor(e,n=us){this.defaultValue=e,this.storage=n}get(e){try{let n=this.storage.getItem(e);return n?JSON.parse(n):this.defaultValue}catch{return this.defaultValue}}set(e,n){this.storage.setItem(e,JSON.stringify(n))}remove(e){this.storage.removeItem(e)}},Eu=class{constructor(e,n,i=us){this.schema=e,this.getDefaultValue=n,this.storage=i}get(e){try{let n=this.storage.getItem(e);if(n==null)return this.getDefaultValue();let i=this.schema.safeParse(JSON.parse(n));return i.success?i.data:(Oe.warn("Error parsing zod local storage",i.error),this.getDefaultValue())}catch(n){return Oe.warn("Error getting zod local storage",n),this.getDefaultValue()}}set(e,n){this.storage.setItem(e,JSON.stringify(n))}remove(e){this.storage.removeItem(e)}},Dh=class extends Eu{constructor(e,n,i){let o=ut.get(ls);super(n,i),this.filename=o;try{this.unsubscribeFromFilename=ut.sub(ls,()=>{let s=ut.get(ls);this.handleFilenameChange(e,s)})}catch{this.unsubscribeFromFilename=null}}get(e){return super.get(this.createScopedKey(e,this.filename))}set(e,n){super.set(this.createScopedKey(e,this.filename),n)}remove(e){super.remove(this.createScopedKey(e,this.filename))}createScopedKey(e,n){return n?`${e}:${n}`:e}handleFilenameChange(e,n){if(n&&n!==this.filename){let i=this.get(e);this.remove(e),this.filename=n,this.set(e,i)}}dispose(){this.unsubscribeFromFilename&&(this.unsubscribeFromFilename=(this.unsubscribeFromFilename(),null))}},Li="marimo:notebook-col-sizes";function Aw(){return{widths:[]}}var po=new Dh(Li,Zb({widths:PT(OT([DT(),RT("contentWidth")]).default("contentWidth"))}),Aw);iw={getColumnWidth:e=>po.get(Li).widths[e]??"contentWidth",saveColumnWidth:(e,n)=>{let i=po.get(Li).widths;if(i[e])i[e]=n;else{for(;i.length<=e;)i.push("contentWidth");i[e]=n}po.set(Li,{widths:i})},clearStorage:()=>{po.remove(Li)}};function qw(e,n){let i=po.get(Li).widths,o=Dl(i,e,n);po.set(Li,{widths:o})}var bm,_m,wm,Rr,xm,km,Cm,Sm,Bn,Em,Tm,Rm,Dm,Om,Pm,tn;function Qn(e,n,i,o,s){var c={};return Object.keys(o).forEach(function(d){c[d]=o[d]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=i.slice().reverse().reduce(function(d,p){return p(e,n,d)||d},c),s&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(s):void 0,c.initializer=void 0),c.initializer===void 0?(Object.defineProperty(e,n,c),null):c}let va=(bm=Fn(),_m=Fn(),wm=Fn(),Rr=class{constructor(e,n,i){this.value=e,this.isCollapsed=n,this.children=i}geDescendantCount(){let e=0,n=[...this.children];for(;n.length>0;){let i=n.pop();e++;for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}getDescendants(){let e=[],n=[...this.children];for(;n.length>0;){let i=n.pop();e.push(i.value);for(let o=i.children.length-1;o>=0;o--)n.push(i.children[o])}return e}get inOrderIds(){let e=[],n=i=>{e.push(i.value);for(let o of i.children)n(o)};for(let i of this.children)n(i);return e}toString(){return this.isCollapsed?`${this.value} (collapsed)`:String(this.value)}equals(e){return this.value===e.value}},Qn(Rr.prototype,"geDescendantCount",[bm],Object.getOwnPropertyDescriptor(Rr.prototype,"geDescendantCount"),Rr.prototype),Qn(Rr.prototype,"getDescendants",[_m],Object.getOwnPropertyDescriptor(Rr.prototype,"getDescendants"),Rr.prototype),Qn(Rr.prototype,"inOrderIds",[wm],Object.getOwnPropertyDescriptor(Rr.prototype,"inOrderIds"),Rr.prototype),Rr);var jw=0;let ho;ho=(xm=Fn(),km=Fn(),Cm=Fn(),Sm=Fn(),Bn=class fo{constructor(n,i){this.nodes=n,this.id=i}static from(n){let i=`tree_${jw++}`;return new fo(n.map(o=>new va(o,!1,[])),i)}static fromWithPreviousShape(n,i){var c;if(!i)return fo.from(n);let o=i.id,s=new fo(n.map(d=>new va(d,!1,[])),o);for(let d of n)if(i.isCollapsed(d)){let p=((c=i._nodeMap.get(d))==null?void 0:c.children)??[];for(let m=p.length-1;m>=0;m--){let v=p[m];if(s._nodeMap.has(v.value)){s=s.collapse(d,v.value);break}}}return s}withNodes(n){return new fo(n,this.id)}get topLevelIds(){return this.nodes.map(n=>n.value)}get inOrderIds(){return this.nodes.flatMap(n=>[n.value,...n.inOrderIds])}get idSet(){return new Set(this.inOrderIds)}get length(){return this.nodes.length}get _nodeMap(){let n=new Map;for(let i of this.nodes)n.set(i.value,i);return n}getDescendants(n){let i=this._nodeMap.get(n);return i?i.getDescendants():(Oe.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),[])}isCollapsed(n){let i=this._nodeMap.get(n);return i?i.isCollapsed:(Oe.warn(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`),!1)}indexOfOrThrow(n){let i=this.nodes.findIndex(o=>o.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);return i}slice(n,i){return this.nodes.slice(n,i).map(o=>o.value)}moveToFront(n){let i=this.indexOfOrThrow(n);return this.withNodes(Dl(this.nodes,i,0))}moveToBack(n){let i=this.indexOfOrThrow(n);return this.withNodes(Dl(this.nodes,i,this.nodes.length-1))}collapse(n,i){let o=this.nodes.findIndex(m=>m.value===n);if(o===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let s=i===void 0?this.nodes.length:this.nodes.findIndex(m=>m.value===i);if(s===-1)throw Error(`Node ${i} not found in tree`);if(s<o)throw Error(`Node ${i} is before node ${n}`);let c=[...this.nodes],d=c[o];if(d.isCollapsed)throw Error(`Node ${n} is already collapsed`);let p=c.splice(o+1,s-o);return c[o]=new va(d.value,!0,p),this.withNodes(c)}collapseAll(n){let i=[...this.nodes];if(n.length===0)throw Error("No collapse ranges provided");if(n.length!==i.length)throw Error(`Collapse ranges length ${n.length} does not match tree length ${i.length}`);let o=i.length-1;for(;o>=0;){let s=i[o],c=n[o];if(!s.isCollapsed&&c){let{id:d,until:p}=c;if(d!==s.value)throw Error(`Node ${s.value} does not match collapse range id ${d}`);let m=p===void 0?i.length:i.findIndex(_=>_.value===p);if(m===-1)throw Error(`Node ${p} not found in tree`);if(m<o)throw Error(`Node ${p} is before node ${d}`);let v=i.splice(o+1,m-o);i[o]=new va(s.value,!0,v),o--}else o--}return this.withNodes(i)}expand(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree. Valid ids: ${this.topLevelIds}`);let o=[...this.nodes],s=o[i];if(!s.isCollapsed)throw Error(`Node ${n} is already expanded`);return o[i]=new va(s.value,!1,[]),o=y2(o,i+1,s.children),this.withNodes(o)}expandAll(){let n=[...this.nodes],i=0;for(;i<n.length;){let o=n[i];o.isCollapsed&&(n[i]=new va(o.value,!1,[]),n=y2(n,i+1,o.children)),i++}return this.withNodes(n)}move(n,i){return this.withNodes(Dl(this.nodes,n,i))}at(n){var i;return(i=this.nodes.at(n))==null?void 0:i.value}atOrThrow(n){let i=this.nodes.at(n);if(i===void 0)throw Error(`Node at index ${n} not found in tree`);return i.value}first(){return this.atOrThrow(0)}last(){return this.atOrThrow(this.nodes.length-1)}after(n){let i=this.indexOfOrThrow(n);if(i!==this.nodes.length-1)return this.at(i+1)}before(n){let i=this.indexOfOrThrow(n);if(i!==0)return this.at(i-1)}insert(n,i){return this.withNodes(g2(this.nodes,i,new va(n,!1,[])))}insertAtEnd(n){return this.insert(n,this.nodes.length)}insertAtStart(n){return this.insert(n,0)}deleteAtIndex(n){let i=this.atOrThrow(n),o=this.withNodes(this.nodes);try{o=o.expand(i)}catch{}return this.withNodes(wR(o.nodes,n))}delete(n){let i=this.indexOfOrThrow(n);return this.deleteAtIndex(i)}getCount(n){var i;return((i=this._nodeMap.get(n))==null?void 0:i.geDescendantCount())??0}findAndExpandDeep(n){let i=this.find(n);if(i.length===0)return this;let o=this.withNodes(this.nodes);for(let s of i)try{o=o.expand(s)}catch{}return o}find(n){function i(o,s){for(let c of o){if(c.value===n)return[...s,n];let d=i(c.children,[...s,c.value]);if(d.length>0)return d}return[]}return i(this.nodes,[])}split(n){let i=this.nodes.findIndex(c=>c.value===n);if(i===-1)throw Error(`Node ${n} not found in tree`);let o=this.nodes.slice(0,i),s=this.nodes.slice(i);return o.length===0?[fo.from([]),this.withNodes(s)]:[this.withNodes(o),fo.from([]).withNodes(s)]}equals(n){return this.nodes.length===n.nodes.length&&this.nodes.every((i,o)=>i.value===n.nodes[o].value)}toString(){let n=0,i="",o=s=>{for(let c of s)i+=`${" ".repeat(n*2)}${c.toString()}
`,n+=1,o(c.children),--n};return o(this.nodes),i}},Qn(Bn.prototype,"topLevelIds",[xm],Object.getOwnPropertyDescriptor(Bn.prototype,"topLevelIds"),Bn.prototype),Qn(Bn.prototype,"inOrderIds",[km],Object.getOwnPropertyDescriptor(Bn.prototype,"inOrderIds"),Bn.prototype),Qn(Bn.prototype,"idSet",[Cm],Object.getOwnPropertyDescriptor(Bn.prototype,"idSet"),Bn.prototype),Qn(Bn.prototype,"_nodeMap",[Sm],Object.getOwnPropertyDescriptor(Bn.prototype,"_nodeMap"),Bn.prototype),Bn),Nl=(Em=Fn(),Tm=Fn(),Rm=Fn(),Dm=Fn(),Om=Fn(),Pm=Fn(),tn=class Mn{constructor(n){this.columns=n,n.length===0&&(this.columns=[ho.from([])])}static from(n){return new Mn(n.map(i=>ho.from(i)))}static fromWithPreviousShape(n,i){if(!i)return Mn.from([n]);let o=i.getColumns(),s=Array.from({length:o.length},()=>[]),c=0;for(let d of n){let p=o.findIndex(m=>m.idSet.has(d));p===-1?s[c].push(d):(c=p,s[p].push(d))}return new Mn(s.map((d,p)=>ho.fromWithPreviousShape(d,o[p])))}isEmpty(){return this.columns.length===0?!0:this.columns.every(n=>n.nodes.length===0)}static fromIdsAndColumns(n){let i=Math.max(1,...n.map(([,c])=>(c??0)+1)),o=Array.from({length:i},()=>[]),s=0;for(let[c,d]of n)d==null||d<0?o[s].push(c):(o[d].push(c),s=d);return Mn.from(o)}get topLevelIds(){return this.columns.map(n=>n.topLevelIds)}get iterateTopLevelIds(){let n=this.columns;function*i(){for(let o of n)for(let s of o.topLevelIds)yield s}return i()}get inOrderIds(){return this.columns.flatMap(n=>n.inOrderIds)}get colLength(){return this.columns.length}get idLength(){return this.columns.reduce((n,i)=>n+i.nodes.length,0)}get _columnMap(){return new Map(this.columns.map(n=>[n.id,n]))}at(n){return this.columns[n]}get(n){return this._columnMap.get(n)}atOrThrow(n){let i=this.columns[n];if(!i)throw Error(`Column ${n} not found`);return i}hasOnlyOneColumn(){return this.columns.length===1}getColumns(){return this.columns}hasOnlyOneId(){return this.idLength===1}getColumnIds(){return this.columns.map(n=>n.id)}indexOf(n){return this.columns.indexOf(n)}addColumn(n,i=[]){return new Mn(this.columns.flatMap(o=>o.id===n?[o,ho.from(i)]:[o]))}insertBreakpoint(n){let i=this.findWithId(n),[o,s]=i.split(n);return new Mn(this.columns.flatMap(c=>c===i?[o,s].filter(Boolean):[c]))}delete(n){if(this.columns.length<=1)return this;let i=this.indexOfOrThrow(n),o=i===0?1:i-1,s=[...this.columns],c=s[i];return s[o]=c.withNodes([...s[o].nodes,...c.nodes]),s.splice(i,1),new Mn(s)}mergeAllColumns(){if(this.columns.length<=1)return this;let n=this.columns.flatMap(o=>o.nodes),i=this.columns[0];return new Mn([i.withNodes(n)])}moveWithinColumn(n,i,o){return this.transform(n,s=>s.move(i,o))}moveAcrossColumns(n,i,o,s){let c=this.indexOfOrThrow(n),d=this.indexOfOrThrow(o),p=[...this.columns],m=p[c],v=m.nodes.findIndex(C=>C.value===i);if(v===-1)throw Error(`Node ${i} not found in column ${n}`);let _=m.nodes[v];p[c]=m.withNodes(m.nodes.filter((C,E)=>E!==v));let w=p[d];if(s){let C=w.indexOfOrThrow(s);p[d]=w.withNodes(g2(w.nodes,C,_))}else p[d]=w.withNodes([_,...w.nodes]);return new Mn(p)}indexOfOrThrow(n){let i=this.columns.findIndex(o=>o.id===n);if(i===-1)throw Error(`Column ${n} not found. Possible values: ${this.getColumnIds().join(", ")}`);return i}moveColumn(n,i){if(n===i)return this;let o=this.indexOfOrThrow(n),s=i==="_left_"?o-1:i==="_right_"?o+1:this.indexOfOrThrow(i);return qw(o,s),new Mn(Dl([...this.columns],o,s))}moveToNewColumn(n){let i=this.findWithId(n),o=this.columns.map(c=>c.id===i.id?c.delete(n):c),s=ho.from([n]);return new Mn([...o,s])}findWithId(n){let i=this.columns.find(o=>o.inOrderIds.includes(n));if(!i)throw Oe.log(`Possible values: ${this.columns.map(o=>o.inOrderIds).join(", ")}`),Error(`Cell ${n} not found in any column`);return i}transformWithCellId(n,i){let o=!1,s=this.columns.map(c=>{if(c.inOrderIds.includes(n)){let d=i(c);return c!==d&&(o=!0),d}return c});return o?new Mn(s):this}setupCellExists(){return this.columns.some(n=>n.topLevelIds.includes(ur))}insertId(n,i,o){return this.transform(i,s=>s.insert(n,o))}deleteById(n){return this.transformWithCellId(n,i=>i.delete(n))}compact(){return this.columns.length===1||!this.columns.some(n=>n.nodes.length===0)?this:new Mn(this.columns.filter(n=>n.nodes.length>0))}transform(n,i){let o=this._columnMap.get(n);if(!o)return Oe.warn(`Column ${n} not found`),this;let s=i(o);return o===s?this:new Mn(this.columns.map(c=>c.id===n?s:c))}transformAll(n){let i=!1,o=this.columns.map(s=>{let c=n(s);return s.equals(c)||(i=!0),c});return i?new Mn(o):this}},Qn(tn.prototype,"isEmpty",[Em],Object.getOwnPropertyDescriptor(tn.prototype,"isEmpty"),tn.prototype),Qn(tn.prototype,"topLevelIds",[Tm],Object.getOwnPropertyDescriptor(tn.prototype,"topLevelIds"),tn.prototype),Qn(tn.prototype,"inOrderIds",[Rm],Object.getOwnPropertyDescriptor(tn.prototype,"inOrderIds"),tn.prototype),Qn(tn.prototype,"idLength",[Dm],Object.getOwnPropertyDescriptor(tn.prototype,"idLength"),tn.prototype),Qn(tn.prototype,"_columnMap",[Om],Object.getOwnPropertyDescriptor(tn.prototype,"_columnMap"),tn.prototype),Qn(tn.prototype,"getColumnIds",[Pm],Object.getOwnPropertyDescriptor(tn.prototype,"getColumnIds"),tn.prototype),tn);let ud,dd,fd,Nm,pd,Lm,Mm,Im,Am,hd,md,qm,gd,yd;ud=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var n;(function(o){o.Root="root",o.Text="text",o.Directive="directive",o.Comment="comment",o.Script="script",o.Style="style",o.Tag="tag",o.CDATA="cdata",o.Doctype="doctype"})(n=e.ElementType||(e.ElementType={}));function i(o){return o.type===n.Tag||o.type===n.Script||o.type===n.Style}e.isTag=i,e.Root=n.Root,e.Text=n.Text,e.Directive=n.Directive,e.Comment=n.Comment,e.Script=n.Script,e.Style=n.Style,e.Tag=n.Tag,e.CDATA=n.CDATA,e.Doctype=n.Doctype})),dd=ke((e=>{var n=e&&e.__extends||(function(){var N=function(q,V){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,fe){de.__proto__=fe}||function(de,fe){for(var xe in fe)Object.prototype.hasOwnProperty.call(fe,xe)&&(de[xe]=fe[xe])},N(q,V)};return function(q,V){if(typeof V!="function"&&V!==null)throw TypeError("Class extends value "+String(V)+" is not a constructor or null");N(q,V);function de(){this.constructor=q}q.prototype=V===null?Object.create(V):(de.prototype=V.prototype,new de)}})(),i=e&&e.__assign||function(){return i=Object.assign||function(N){for(var q,V=1,de=arguments.length;V<de;V++)for(var fe in q=arguments[V],q)Object.prototype.hasOwnProperty.call(q,fe)&&(N[fe]=q[fe]);return N},i.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.cloneNode=e.hasChildren=e.isDocument=e.isDirective=e.isComment=e.isText=e.isCDATA=e.isTag=e.Element=e.Document=e.CDATA=e.NodeWithChildren=e.ProcessingInstruction=e.Comment=e.Text=e.DataNode=e.Node=void 0;var o=ud(),s=(function(){function N(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(N.prototype,"parentNode",{get:function(){return this.parent},set:function(q){this.parent=q},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"previousSibling",{get:function(){return this.prev},set:function(q){this.prev=q},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"nextSibling",{get:function(){return this.next},set:function(q){this.next=q},enumerable:!1,configurable:!0}),N.prototype.cloneNode=function(q){return q===void 0&&(q=!1),G(this,q)},N})();e.Node=s;var c=(function(N){n(q,N);function q(V){var de=N.call(this)||this;return de.data=V,de}return Object.defineProperty(q.prototype,"nodeValue",{get:function(){return this.data},set:function(V){this.data=V},enumerable:!1,configurable:!0}),q})(s);e.DataNode=c;var d=(function(N){n(q,N);function q(){var V=N!==null&&N.apply(this,arguments)||this;return V.type=o.ElementType.Text,V}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),q})(c);e.Text=d;var p=(function(N){n(q,N);function q(){var V=N!==null&&N.apply(this,arguments)||this;return V.type=o.ElementType.Comment,V}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),q})(c);e.Comment=p;var m=(function(N){n(q,N);function q(V,de){var fe=N.call(this,de)||this;return fe.name=V,fe.type=o.ElementType.Directive,fe}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),q})(c);e.ProcessingInstruction=m;var v=(function(N){n(q,N);function q(V){var de=N.call(this)||this;return de.children=V,de}return Object.defineProperty(q.prototype,"firstChild",{get:function(){return this.children[0]??null},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"childNodes",{get:function(){return this.children},set:function(V){this.children=V},enumerable:!1,configurable:!0}),q})(s);e.NodeWithChildren=v;var _=(function(N){n(q,N);function q(){var V=N!==null&&N.apply(this,arguments)||this;return V.type=o.ElementType.CDATA,V}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),q})(v);e.CDATA=_;var w=(function(N){n(q,N);function q(){var V=N!==null&&N.apply(this,arguments)||this;return V.type=o.ElementType.Root,V}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),q})(v);e.Document=w;var C=(function(N){n(q,N);function q(V,de,fe,xe){fe===void 0&&(fe=[]),xe===void 0&&(xe=V==="script"?o.ElementType.Script:V==="style"?o.ElementType.Style:o.ElementType.Tag);var Z=N.call(this,fe)||this;return Z.name=V,Z.attribs=de,Z.type=xe,Z}return Object.defineProperty(q.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"tagName",{get:function(){return this.name},set:function(V){this.name=V},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"attributes",{get:function(){var V=this;return Object.keys(this.attribs).map(function(de){var fe,xe;return{name:de,value:V.attribs[de],namespace:(fe=V["x-attribsNamespace"])==null?void 0:fe[de],prefix:(xe=V["x-attribsPrefix"])==null?void 0:xe[de]}})},enumerable:!1,configurable:!0}),q})(v);e.Element=C;function E(N){return(0,o.isTag)(N)}e.isTag=E;function R(N){return N.type===o.ElementType.CDATA}e.isCDATA=R;function M(N){return N.type===o.ElementType.Text}e.isText=M;function H(N){return N.type===o.ElementType.Comment}e.isComment=H;function W(N){return N.type===o.ElementType.Directive}e.isDirective=W;function U(N){return N.type===o.ElementType.Root}e.isDocument=U;function I(N){return Object.prototype.hasOwnProperty.call(N,"children")}e.hasChildren=I;function G(N,q){q===void 0&&(q=!1);var V;if(M(N))V=new d(N.data);else if(H(N))V=new p(N.data);else if(E(N)){var de=q?me(N.children):[],fe=new C(N.name,i({},N.attribs),de);de.forEach(function(Se){return Se.parent=fe}),N.namespace!=null&&(fe.namespace=N.namespace),N["x-attribsNamespace"]&&(fe["x-attribsNamespace"]=i({},N["x-attribsNamespace"])),N["x-attribsPrefix"]&&(fe["x-attribsPrefix"]=i({},N["x-attribsPrefix"])),V=fe}else if(R(N)){var de=q?me(N.children):[],xe=new _(de);de.forEach(function(ne){return ne.parent=xe}),V=xe}else if(U(N)){var de=q?me(N.children):[],Z=new w(de);de.forEach(function(ne){return ne.parent=Z}),N["x-mode"]&&(Z["x-mode"]=N["x-mode"]),V=Z}else if(W(N)){var be=new m(N.name,N.data);N["x-name"]!=null&&(be["x-name"]=N["x-name"],be["x-publicId"]=N["x-publicId"],be["x-systemId"]=N["x-systemId"]),V=be}else throw Error(`Not implemented yet: ${N.type}`);return V.startIndex=N.startIndex,V.endIndex=N.endIndex,N.sourceCodeLocation!=null&&(V.sourceCodeLocation=N.sourceCodeLocation),V}e.cloneNode=G;function me(N){for(var q=N.map(function(de){return G(de,!0)}),V=1;V<q.length;V++)q[V].prev=q[V-1],q[V-1].next=q[V];return q}})),fd=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(p,m,v,_){_===void 0&&(_=v);var w=Object.getOwnPropertyDescriptor(m,v);(!w||("get"in w?!m.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return m[v]}}),Object.defineProperty(p,_,w)}):(function(p,m,v,_){_===void 0&&(_=v),p[_]=m[v]})),i=e&&e.__exportStar||function(p,m){for(var v in p)v!=="default"&&!Object.prototype.hasOwnProperty.call(m,v)&&n(m,p,v)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var o=ud(),s=dd();i(dd(),e);var c={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},d=(function(){function p(m,v,_){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof v=="function"&&(_=v,v=c),typeof m=="object"&&(v=m,m=void 0),this.callback=m??null,this.options=v??c,this.elementCB=_??null}return p.prototype.onparserinit=function(m){this.parser=m},p.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},p.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},p.prototype.onerror=function(m){this.handleCallback(m)},p.prototype.onclosetag=function(){this.lastNode=null;var m=this.tagStack.pop();this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(m)},p.prototype.onopentag=function(m,v){var _=this.options.xmlMode?o.ElementType.Tag:void 0,w=new s.Element(m,v,void 0,_);this.addNode(w),this.tagStack.push(w)},p.prototype.ontext=function(m){var v=this.lastNode;if(v&&v.type===o.ElementType.Text)v.data+=m,this.options.withEndIndices&&(v.endIndex=this.parser.endIndex);else{var _=new s.Text(m);this.addNode(_),this.lastNode=_}},p.prototype.oncomment=function(m){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment){this.lastNode.data+=m;return}var v=new s.Comment(m);this.addNode(v),this.lastNode=v},p.prototype.oncommentend=function(){this.lastNode=null},p.prototype.oncdatastart=function(){var m=new s.Text(""),v=new s.CDATA([m]);this.addNode(v),m.parent=v,this.lastNode=m},p.prototype.oncdataend=function(){this.lastNode=null},p.prototype.onprocessinginstruction=function(m,v){var _=new s.ProcessingInstruction(m,v);this.addNode(_)},p.prototype.handleCallback=function(m){if(typeof this.callback=="function")this.callback(m,this.dom);else if(m)throw m},p.prototype.addNode=function(m){var v=this.tagStack[this.tagStack.length-1],_=v.children[v.children.length-1];this.options.withStartIndices&&(m.startIndex=this.parser.startIndex),this.options.withEndIndices&&(m.endIndex=this.parser.endIndex),v.children.push(m),_&&(m.prev=_,_.next=m),m.parent=v,this.lastNode=null},p})();e.DomHandler=d,e.default=d})),Nm=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=e.CARRIAGE_RETURN_PLACEHOLDER=e.CARRIAGE_RETURN_REGEX=e.CARRIAGE_RETURN=e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES="animateMotion.animateTransform.clipPath.feBlend.feColorMatrix.feComponentTransfer.feComposite.feConvolveMatrix.feDiffuseLighting.feDisplacementMap.feDropShadow.feFlood.feFuncA.feFuncB.feFuncG.feFuncR.feGaussianBlur.feImage.feMerge.feMergeNode.feMorphology.feOffset.fePointLight.feSpecularLighting.feSpotLight.feTile.feTurbulence.foreignObject.linearGradient.radialGradient.textPath".split("."),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(n,i){return n[i.toLowerCase()]=i,n},{}),e.CARRIAGE_RETURN="\r",e.CARRIAGE_RETURN_REGEX=new RegExp(e.CARRIAGE_RETURN,"g"),e.CARRIAGE_RETURN_PLACEHOLDER=`__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_${Date.now()}__`,e.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(e.CARRIAGE_RETURN_PLACEHOLDER,"g")})),pd=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.formatAttributes=s,e.escapeSpecialCharacters=d,e.revertEscapedCharacters=p,e.formatDOM=m;var n=fd(),i=Nm();function o(v){return i.CASE_SENSITIVE_TAG_NAMES_MAP[v]}function s(v){for(var _={},w=0,C=v.length;w<C;w++){var E=v[w];_[E.name]=E.value}return _}function c(v){return v=v.toLowerCase(),o(v)||v}function d(v){return v.replace(i.CARRIAGE_RETURN_REGEX,i.CARRIAGE_RETURN_PLACEHOLDER)}function p(v){return v.replace(i.CARRIAGE_RETURN_PLACEHOLDER_REGEX,i.CARRIAGE_RETURN)}function m(v,_,w){_===void 0&&(_=null);for(var C=[],E,R=0,M=v.length;R<M;R++){var H=v[R];switch(H.nodeType){case 1:var W=c(H.nodeName);E=new n.Element(W,s(H.attributes)),E.children=m(W==="template"?H.content.childNodes:H.childNodes,E);break;case 3:E=new n.Text(p(H.nodeValue));break;case 8:E=new n.Comment(H.nodeValue);break;default:continue}var U=C[R-1]||null;U&&(U.next=E),E.parent=_,E.prev=U,E.next=null,C.push(E)}return w&&(E=new n.ProcessingInstruction(w.substring(0,w.indexOf(" ")).toLowerCase(),w),E.next=C[0]||null,E.parent=_,C.unshift(E),C[1]&&(C[1].prev=C[0])),C}})),Lm=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=H;var n=pd(),i="html",o="head",s="body",c=/<([a-zA-Z]+[0-9]?)/,d=/<head[^]*>/i,p=/<body[^]*>/i,m=function(W,U){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},v=function(W,U){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},_=typeof window=="object"&&window.DOMParser;if(typeof _=="function"){var w=new _,C="text/html";v=function(W,U){return U&&(W=`<${U}>${W}</${U}>`),w.parseFromString(W,C)},m=v}if(typeof document=="object"&&document.implementation){var E=document.implementation.createHTMLDocument();m=function(W,U){if(U){var I=E.documentElement.querySelector(U);return I&&(I.innerHTML=W),E}return E.documentElement.innerHTML=W,E}}var R=typeof document=="object"&&document.createElement("template"),M;R&&R.content&&(M=function(W){return R.innerHTML=W,R.content.childNodes});function H(W){var U,I;W=(0,n.escapeSpecialCharacters)(W);var G=W.match(c),me=G&&G[1]?G[1].toLowerCase():"";switch(me){case i:var N=v(W);if(!d.test(W)){var V=N.querySelector(o);(U=V==null?void 0:V.parentNode)==null||U.removeChild(V)}if(!p.test(W)){var V=N.querySelector(s);(I=V==null?void 0:V.parentNode)==null||I.removeChild(V)}return N.querySelectorAll(i);case o:case s:var q=m(W).querySelectorAll(me);return p.test(W)&&d.test(W)?q[0].parentNode.childNodes:q;default:if(M)return M(W);var V=m(W,s).querySelector(s);return V.childNodes}}})),Mm=ke((e=>{var n=e&&e.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var i=n(Lm()),o=pd(),s=/<(![a-zA-Z\s]+)>/;function c(d){if(typeof d!="string")throw TypeError("First argument must be a string");if(!d)return[];var p=d.match(s),m=p?p[1]:void 0;return(0,o.formatDOM)((0,i.default)(d),null,m)}})),Im=ke((e=>{e.SAME=0,e.CAMELCASE=1,e.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}})),Am=ke((e=>{var n=0,i=1,o=2,s=3,c=4,d=5,p=6;function m(I){return _.hasOwnProperty(I)?_[I]:null}function v(I,G,me,N,q,V,de){this.acceptsBooleans=G===o||G===s||G===c,this.attributeName=N,this.attributeNamespace=q,this.mustUseProperty=me,this.propertyName=I,this.type=G,this.sanitizeURL=V,this.removeEmptyString=de}var _={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(I=>{_[I]=new v(I,n,!1,I,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([I,G])=>{_[I]=new v(I,i,!1,G,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(I=>{_[I]=new v(I,o,!1,I.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(I=>{_[I]=new v(I,o,!1,I,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(I=>{_[I]=new v(I,s,!1,I.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(I=>{_[I]=new v(I,s,!0,I,null,!1,!1)}),["capture","download"].forEach(I=>{_[I]=new v(I,c,!1,I,null,!1,!1)}),["cols","rows","size","span"].forEach(I=>{_[I]=new v(I,p,!1,I,null,!1,!1)}),["rowSpan","start"].forEach(I=>{_[I]=new v(I,d,!1,I.toLowerCase(),null,!1,!1)});var w=/[\-\:]([a-z])/g,C=I=>I[1].toUpperCase();"accent-height.alignment-baseline.arabic-form.baseline-shift.cap-height.clip-path.clip-rule.color-interpolation.color-interpolation-filters.color-profile.color-rendering.dominant-baseline.enable-background.fill-opacity.fill-rule.flood-color.flood-opacity.font-family.font-size.font-size-adjust.font-stretch.font-style.font-variant.font-weight.glyph-name.glyph-orientation-horizontal.glyph-orientation-vertical.horiz-adv-x.horiz-origin-x.image-rendering.letter-spacing.lighting-color.marker-end.marker-mid.marker-start.overline-position.overline-thickness.paint-order.panose-1.pointer-events.rendering-intent.shape-rendering.stop-color.stop-opacity.strikethrough-position.strikethrough-thickness.stroke-dasharray.stroke-dashoffset.stroke-linecap.stroke-linejoin.stroke-miterlimit.stroke-opacity.stroke-width.text-anchor.text-decoration.text-rendering.underline-position.underline-thickness.unicode-bidi.unicode-range.units-per-em.v-alphabetic.v-hanging.v-ideographic.v-mathematical.vector-effect.vert-adv-y.vert-origin-x.vert-origin-y.word-spacing.writing-mode.xmlns:xlink.x-height".split(".").forEach(I=>{let G=I.replace(w,C);_[G]=new v(G,i,!1,I,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(I=>{let G=I.replace(w,C);_[G]=new v(G,i,!1,I,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(I=>{let G=I.replace(w,C);_[G]=new v(G,i,!1,I,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(I=>{_[I]=new v(I,i,!1,I.toLowerCase(),null,!1,!1)});var E="xlinkHref";_[E]=new v("xlinkHref",i,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(I=>{_[I]=new v(I,i,!1,I.toLowerCase(),null,!0,!0)});var{CAMELCASE:R,SAME:M,possibleStandardNames:H}=Im(),W=RegExp.prototype.test.bind(RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),U=Object.keys(H).reduce((I,G)=>{let me=H[G];return me===M?I[G]=G:me===R?I[G.toLowerCase()]=G:I[G]=me,I},{});e.BOOLEAN=s,e.BOOLEANISH_STRING=o,e.NUMERIC=d,e.OVERLOADED_BOOLEAN=c,e.POSITIVE_NUMERIC=p,e.RESERVED=n,e.STRING=i,e.getPropertyInfo=m,e.isCustomAttribute=W,e.possibleStandardNames=U})),hd=ke((e=>{var n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=c,e.setStyleProp=p;var i=pu(),o=n(kR()),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function c(m,v){return m.includes("-")?!s.has(m):!!(v&&typeof v.is=="string")}var d={reactCompat:!0};function p(m,v){if(typeof m=="string"){if(!m.trim()){v.style={};return}try{v.style=(0,o.default)(m,d)}catch{v.style={}}}}e.PRESERVE_CUSTOM_ATTRIBUTES=Number(i.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]),e.canTextBeChildOfNode=function(m){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(m.name)},e.returnFirstArg=function(m){return m}})),md=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var n=Am(),i=hd(),o=["checked","value"],s=["input","select","textarea"],c={reset:!0,submit:!0};function d(m,v){m===void 0&&(m={});var _={},w=!!(m.type&&c[m.type]);for(var C in m){var E=m[C];if((0,n.isCustomAttribute)(C)){_[C]=E;continue}var R=C.toLowerCase(),M=p(R);if(M){var H=(0,n.getPropertyInfo)(M);switch(o.includes(M)&&s.includes(v)&&!w&&(M=p("default"+R)),_[M]=E,H&&H.type){case n.BOOLEAN:_[M]=!0;break;case n.OVERLOADED_BOOLEAN:E===""&&(_[M]=!0);break}continue}i.PRESERVE_CUSTOM_ATTRIBUTES&&(_[C]=E)}return(0,i.setStyleProp)(m.style,_),_}function p(m){return n.possibleStandardNames[m]}})),qm=ke((e=>{var n=e&&e.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=d;var i=pu(),o=n(md()),s=hd(),c={cloneElement:i.cloneElement,createElement:i.createElement,isValidElement:i.isValidElement};function d(m,v){v===void 0&&(v={});for(var _=[],w=typeof v.replace=="function",C=v.transform||s.returnFirstArg,E=v.library||c,R=E.cloneElement,M=E.createElement,H=E.isValidElement,W=m.length,U=0;U<W;U++){var I=m[U];if(w){var G=v.replace(I,U);if(H(G)){W>1&&(G=R(G,{key:G.key||U})),_.push(C(G,I,U));continue}}if(I.type==="text"){var me=!I.data.trim().length;if(me&&I.parent&&!(0,s.canTextBeChildOfNode)(I.parent)||v.trim&&me)continue;_.push(C(I.data,I,U));continue}var N=I,q={};p(N)?((0,s.setStyleProp)(N.attribs.style,N.attribs),q=N.attribs):N.attribs&&(q=(0,o.default)(N.attribs,N.name));var V=void 0;switch(I.type){case"script":case"style":I.children[0]&&(q.dangerouslySetInnerHTML={__html:I.children[0].data});break;case"tag":I.name==="textarea"&&I.children[0]?q.defaultValue=I.children[0].data:I.children&&I.children.length&&(V=d(I.children,v));break;default:continue}W>1&&(q.key=U),_.push(C(M(I.name,q,V),I,U))}return _.length===1?_[0]:_}function p(m){return s.PRESERVE_CUSTOM_ATTRIBUTES&&m.type==="tag"&&(0,s.isCustomComponent)(m.name,m.attribs)}})),gd=ke((e=>{var n=e&&e.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=d;var i=n(Mm());e.htmlToDOM=i.default,e.attributesToProps=n(md()).default;var o=n(qm());e.domToReact=o.default;var s=fd();Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return s.Text}});var c={lowerCaseAttributeNames:!1};function d(p,m){if(typeof p!="string")throw TypeError("First argument must be a string");return p?(0,o.default)((0,i.default)(p,(m==null?void 0:m.htmlparser2)||c),m):[]}})),yd=Qt(gd(),1),ha=Qt(gd(),1),im=yd.default.default||yd.default;let Hl;Hl=(e,n)=>{let[i,...o]=n.split("."),s=(e.attribs.class||"").split(" ");return e.tagName===i&&o.every(c=>s.includes(c))},nw=e=>{var n;return e&&Hl(e,"span.nb")&&e.firstChild instanceof ha.Text&&((n=e.firstChild.nodeValue)==null?void 0:n.includes("__marimo__"))},Vh=function(e){var n,i,o;if(e instanceof ha.Element&&e.firstChild instanceof ha.Text&&Hl(e,"span.nb")){let s=e.next;if(s&&s instanceof ha.Text){let c=s.next;if(c&&c instanceof ha.Element&&c.firstChild instanceof ha.Text&&Hl(c,"span.m")){let d=Number.parseInt(c.firstChild.nodeValue||"0",10);if((n=e.firstChild.nodeValue)!=null&&n.includes("__marimo__")){let p=(i=/__marimo__cell_(\w+)_/.exec(e.firstChild.nodeValue))==null?void 0:i[1];if(p&&d)return{kind:"cell",cellId:p,lineNumber:d}}else{let p=(o=/"(.+?)"/.exec(e.firstChild.nodeValue))==null?void 0:o[1];if(p&&d)return{kind:"file",filePath:p,lineNumber:d}}}}}return null},am=function(e){let n=[];return im(e,{replace:i=>{let o=Vh(i);if(o)return n.push(o),"dummy"}}),n};function jm(e){return n=>{let i=!1;for(let o of n)o&&(i=e(o)||i);return i}}const zw=jm(ZT),Fw=jm(YT);Hu=function(e,n,i={}){let{preserveCursor:o=!0,effects:s,userEvent:c}=i,d=e.state.doc;if(d.toString()!==n)if(o&&e.hasFocus){let p=e.state.selection.main.head,m=d.lineAt(p),v=m.number,_=p-m.from,w=e.state.update({changes:{from:0,to:d.length,insert:n}}).state.doc,C;if(v<=w.lines){let E=w.line(v),R=E.length;C=E.from+Math.min(_,R)}else C=w.line(w.lines).to;e.dispatch({changes:{from:0,to:d.length,insert:n},selection:{anchor:C},effects:s,userEvent:c})}else e.dispatch({changes:{from:0,to:d.length,insert:n},effects:s,userEvent:c})},co=function(){return Rl.define({combine:e=>e[0]})};const zm=co(),Fm=co(),vd=co(),bd=co(),Bm=co();E_=function({completionConfig:e,hotkeys:n,placeholderType:i,lspConfig:o,diagnosticsConfig:s}){return[zm.of(e),Fm.of(n),vd.of(i),Bm.of({...o,diagnostics:s})]},Ju=new mu;function Bw(e){return Object.values(e.cellRuntime).some(n=>n.status==="running")}function Hw(e){return Object.values(e.cellRuntime).filter(n=>n.status==="running"||n.status==="queued").length}function Vw(e){return tm(e).length>0}x_=function(e){return e.cellIds.inOrderIds.map(n=>e.cellData[n])};function $w({cellHandles:e}){let n={};for(let[i,o]of ti.entries(e))o.current&&(n[i]=o.current.editorView);return n}$h=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled&&o.push(s);return o},Xh=function(e){let{cellIds:n,cellData:i}=e,o=[];for(let s of n.inOrderIds)i[s].config.disabled||o.push(s);return o};function Ww(e){return e.history.length>0}Z_=function(e,n){let i=e.cellIds.findWithId(n).getDescendants(n);return{stale:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.staleInputs)||((c=e.cellData[o])==null?void 0:c.edited)}),errored:i.some(o=>{var s;return(s=e.cellRuntime[o])==null?void 0:s.errored}),runningOrQueued:i.some(o=>{var s,c;return((s=e.cellRuntime[o])==null?void 0:s.status)==="running"||((c=e.cellRuntime[o])==null?void 0:c.status)==="queued"})}},tm=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.inOrderIds.filter(s=>Wh({executionTime:o[s].runElapsedTimeMs??i[s].lastExecutionTime,status:o[s].status,errored:o[s].errored,interrupted:o[s].interrupted,stopped:o[s].stopped})||i[s].edited||o[s].interrupted||o[s].staleInputs&&!(o[s].status==="disabled-transitively"||i[s].config.disabled))},Wh=function({executionTime:e,status:n,errored:i,interrupted:o,stopped:s}){return e===null&&n!=="queued"&&n!=="running"&&!(i||o||s)},Dt=Rl.define({combine:e=>e[0]}),uo=Rl.define({combine:e=>e[0]});var Uw={...sh,caseInsensitiveIdentifiers:!0,identifierQuotes:"`"};const Hm=lh.define(Uw),Vm=lh.define({charSetCasts:!0,doubleQuotedStrings:!1,unquotedBitLiterals:!0,hashComments:!1,spaceAfterDashes:!1,specialVar:"@?",identifierQuotes:'"',caseInsensitiveIdentifiers:!0,keywords:"percentile_cont row_number rank dense_rank rank_dense percent_rank cume_dist ntile lag lead first_value last_value nth_value !__postfix !~~ !~~* % & && * ** + - ->> / // <-> << <=> <@ >> @ @> Calendar JSON TimeZone ^ ^@ abort abs absolute access access_mode acos acosh action add add_parquet_key admin after age aggregate alias all all_profiling_output allow_community_extensions allow_extensions_metadata_mismatch allow_persistent_secrets allow_unredacted_secrets allow_unsigned_extensions allowed_directories allowed_paths also alter always analyse analyze and anti any any_value apply approx_count_distinct approx_quantile approx_top_k arbitrary arg_max arg_max_null arg_min arg_min_null argmax argmin array array_agg array_aggr array_aggregate array_append array_apply array_cat array_concat array_contains array_cosine_distance array_cosine_similarity array_cross_product array_distance array_distinct array_dot_product array_extract array_filter array_grade_up array_has array_has_all array_has_any array_indexof array_inner_product array_intersect array_length array_negative_dot_product array_negative_inner_product array_pop_back array_pop_front array_position array_prepend array_push_back array_push_front array_reduce array_resize array_reverse array_reverse_sort array_select array_slice array_sort array_to_json array_to_string array_to_string_comma_default array_transform array_unique array_value array_where array_zip arrow_large_buffer_size arrow_lossless_conversion arrow_output_list_view arrow_output_version arrow_scan arrow_scan_dumb as asc ascii asin asinh asof asof_loop_join_threshold assertion assignment asymmetric at atan atan2 atanh attach attribute authorization autoinstall_extension_repository autoinstall_known_extensions autoload_known_extensions avg backward bar base64 before begin between bigint bin binary binary_as_string bit bit_and bit_count bit_length bit_or bit_position bit_xor bitstring bitstring_agg blob bool bool_and bool_or boolean both bpchar by bytea cache call called can_cast_implicitly cardinality cascade cascaded case cast cast_to_type catalog catalog_error_max_schemas cbrt ceil ceiling centuries century chain char char_length character character_length characteristics check checkpoint checkpoint_threshold chr class close cluster coalesce col_description collate collation collations column columns combine comment comments commit committed compression concat concat_ws concurrently configuration conflict connection constant_or_null constraint constraints contains content continue conversion copy copy_database corr cos cosh cost cot count count_if count_star countif covar_pop covar_samp create create_sort_key cross csv cube current current_catalog current_connection_id current_database current_date current_localtime current_localtimestamp current_query current_query_id current_role current_schema current_schemas current_setting current_transaction_id current_user currval cursor custom_extension_repository custom_profiling_settings custom_user_agent cycle damerau_levenshtein data database database_list database_size date date_add date_diff date_part date_sub date_trunc datediff datepart datesub datetime datetrunc day dayname dayofmonth dayofweek dayofyear days deallocate debug_asof_iejoin debug_checkpoint_abort debug_force_external debug_force_no_cross_product debug_skip_checkpoint_on_commit debug_verify_vector debug_window_mode dec decade decades decimal declare decode default default_block_size default_collation default_null_order default_order default_secret_storage defaults deferrable deferred definer degrees delete delimiter delimiters depends desc describe detach dictionary disable disable_checkpoint_on_shutdown disable_logging disable_object_cache disable_optimizer disable_parquet_prefetching disable_print_progress_bar disable_profile disable_profiling disable_progress_bar disable_timestamptz_casts disable_verification disable_verify_external disable_verify_fetch_row disable_verify_parallelism disable_verify_serializer disabled_compression_methods disabled_filesystems disabled_log_types disabled_optimizers discard distinct divide do document domain double drop duckdb_api duckdb_columns duckdb_constraints duckdb_databases duckdb_dependencies duckdb_extensions duckdb_external_file_cache duckdb_functions duckdb_indexes duckdb_keywords duckdb_log_contexts duckdb_logs duckdb_logs_parsed duckdb_memory duckdb_optimizers duckdb_prepared_statements duckdb_schemas duckdb_secret_types duckdb_secrets duckdb_sequences duckdb_settings duckdb_table_sample duckdb_tables duckdb_temporary_files duckdb_types duckdb_variables duckdb_views dynamic_or_filter_threshold each editdist3 element_at else enable enable_checkpoint_on_shutdown enable_external_access enable_external_file_cache enable_fsst_vectors enable_geoparquet_conversion enable_http_logging enable_http_metadata_cache enable_logging enable_macro_dependencies enable_object_cache enable_optimizer enable_print_progress_bar enable_profile enable_profiling enable_progress_bar enable_progress_bar_print enable_verification enable_view_dependencies enabled_log_types encode encoding encrypted end ends_with entropy enum enum_code enum_first enum_last enum_range enum_range_boundary epoch epoch_ms epoch_ns epoch_us equi_width_bins era error errors_as_json escape even event except exclude excluding exclusive execute exists exp explain explain_output export export_state extension extension_directory extension_versions extensions external external_threads extract factorial false family favg fdiv fetch file_search_path filter finalize first flatten float float4 float8 floor fmod following for force force_bitpacking_mode force_checkpoint force_compression foreign format formatReadableDecimalSize formatReadableSize format_bytes format_pg_type format_type forward freeze from from_base64 from_binary from_hex from_json from_json_strict fsum full function functions gamma gcd gen_random_uuid generate_series generate_subscripts generated geomean geometric_mean get_bit get_block_size get_current_time get_current_timestamp getvariable glob global grade_up grant granted greatest greatest_common_divisor group group_concat grouping grouping_id groups guid hamming handler having header hex histogram histogram_exact histogram_values hold home_directory hour hours http_logging_output http_proxy http_proxy_password http_proxy_username hugeint identity ieee_floating_point_ops if ignore ilike ilike_escape immediate immediate_transaction_mode immutable implicit import import_database in in_search_path include including increment index index_scan_max_count index_scan_percentage indexes inet_client_addr inet_client_port inet_server_addr inet_server_port inherit inherits initially inline inner inout input insensitive insert install instead instr int int1 int128 int16 int2 int32 int4 int64 int8 integer integer_division integral intersect interval into invoker is is_histogram_other_bin isfinite isinf isnan isnull isodow isolation isoyear jaccard jaro_similarity jaro_winkler_similarity join json json_array json_array_length json_contains json_deserialize_sql json_each json_execute_serialized_sql json_exists json_extract json_extract_path json_extract_path_text json_extract_string json_group_array json_group_object json_group_structure json_keys json_merge_patch json_object json_pretty json_quote json_serialize_plan json_serialize_sql json_structure json_transform json_transform_strict json_tree json_type json_valid json_value julian kahan_sum key kurtosis kurtosis_pop label lambda lambda_syntax language large last last_day late_materialization_max_rows lateral lcase lcm leading leakproof least least_common_multiple left left_grapheme len length length_grapheme level levenshtein lgamma like like_escape limit list list_aggr list_aggregate list_any_value list_append list_apply list_approx_count_distinct list_avg list_bit_and list_bit_or list_bit_xor list_bool_and list_bool_or list_cat list_concat list_contains list_cosine_distance list_cosine_similarity list_count list_distance list_distinct list_dot_product list_element list_entropy list_extract list_filter list_first list_grade_up list_has list_has_all list_has_any list_histogram list_indexof list_inner_product list_intersect list_kurtosis list_kurtosis_pop list_last list_mad list_max list_median list_min list_mode list_negative_dot_product list_negative_inner_product list_pack list_position list_prepend list_product list_reduce list_resize list_reverse list_reverse_sort list_select list_sem list_skewness list_slice list_sort list_stddev_pop list_stddev_samp list_string_agg list_sum list_transform list_unique list_value list_var_pop list_var_samp list_where list_zip listagg listen ln load local location lock lock_configuration locked log log10 log2 log_query_path logged logging_level logging_mode logging_storage logical long lower lpad ltrim macro mad make_date make_time make_timestamp make_timestamp_ns make_timestamptz map map_concat map_contains map_contains_entry map_contains_value map_entries map_extract map_extract_value map_from_entries map_keys map_to_pg_oid map_values mapping match materialized max max_by max_expression_depth max_memory max_temp_directory_size max_vacuum_tasks maxvalue md5 md5_number md5_number_lower md5_number_upper mean median memory_limit merge_join_threshold metadata_info method microsecond microseconds millennia millennium millisecond milliseconds min min_by minute minutes minvalue mismatches mod mode month monthname months move multiply name names nanosecond national natural nchar nested_loop_join_threshold new next nextafter nextval nfc_normalize no none normalized_interval not not_ilike_escape not_like_escape nothing notify notnull now nowait null null_order nullif nulls numeric nvarchar obj_description object octet_length of off offset oid oids old old_implicit_casting on only operator option options or ord order order_by_non_integer_literal ordered_aggregate_threshold ordinality others out outer over overlaps overlay overriding owned owner pandas_analyze_sample pandas_scan parallel parquet_bloom_probe parquet_file_metadata parquet_kv_metadata parquet_metadata parquet_metadata_cache parquet_scan parquet_schema parse_dirname parse_dirpath parse_duckdb_log_message parse_filename parse_path parser partial partition partitioned partitioned_write_flush_threshold partitioned_write_max_open_files passing password percent perfect_ht_threshold persistent pi pivot pivot_filter_threshold pivot_limit pivot_longer pivot_wider placing plans platform policy position positional pow power pragma pragma_collations pragma_database_size pragma_metadata_info pragma_platform pragma_show pragma_storage_info pragma_table_info pragma_user_agent pragma_version preceding precision prefer_range_joins prefetch_all_parquet_files prefix prepare prepared preserve preserve_identifier_case preserve_insertion_order primary printf prior privileges procedural procedure produce_arrow_string_view product profile_output profiling_mode profiling_output program progress_bar_time publication python_enable_replacements python_map_function python_scan_all_frames qualify quantile quantile_cont quantile_disc quarter quarters query query_table quote radians random range read read_blob read_csv read_csv_auto read_json read_json_auto read_json_objects read_json_objects_auto read_ndjson read_ndjson_auto read_ndjson_objects read_parquet read_text real reassign recheck recursive reduce ref references referencing refresh regexp_escape regexp_extract regexp_extract_all regexp_full_match regexp_matches regexp_replace regexp_split_to_array regexp_split_to_table regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy regr_syy reindex relative release remap_struct rename repeat repeat_row repeatable replace replica reservoir_quantile reset respect restart restrict returning returns reverse revoke right right_grapheme role rollback rollup round round_even roundbankers row row_to_json rows rpad rtrim rule sample savepoint scalar_subquery_error_on_multiple_rows scheduler_process_partial schema schemas scope scroll search search_path second seconds secret secret_directory security select sem semi seq_scan sequence sequences serializable server session session_user set set_bit setof sets setseed sha1 sha256 share shobj_description short show show_databases show_tables show_tables_expanded sign signbit signed similar simple sin sinh skewness skip smallint snapshot sniff_csv some sorted split split_part sql sqrt stable standalone start starts_with statement statistics stats stddev stddev_pop stddev_samp stdin stdout storage storage_compatibility_version storage_info stored str_split str_split_regex streaming_buffer_size strftime strict string string_agg string_split string_split_regex string_to_array strip strip_accents strlen strpos strptime struct struct_concat struct_extract struct_extract_at struct_insert struct_pack subscription substr substring substring_grapheme subtract suffix sum sum_no_overflow sumkahan summarize summary symmetric sysid system table table_info tables tablesample tablespace tan tanh temp temp_directory template temporary test_all_types test_vector_types text then threads ties time time_bucket timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz timetz_byte_comparable timezone timezone_hour timezone_minute tinyint to to_base to_base64 to_binary to_centuries to_days to_decades to_hex to_hours to_json to_microseconds to_millennia to_milliseconds to_minutes to_months to_quarters to_seconds to_timestamp to_weeks to_years today trailing transaction transaction_timestamp transform translate treat trigger trim true trunc truncate truncate_duckdb_logs trusted try_cast try_strptime txid_current type typeof types ubigint ucase uhugeint uint128 uint16 uint32 uint64 uint8 uinteger unbin unbounded uncommitted unencrypted unhex unicode union union_extract union_tag union_value unique unknown unlisten unlogged unnest unpack unpivot unpivot_list until update upper url_decode url_encode use user user_agent username using usmallint utinyint uuid uuid_extract_timestamp uuid_extract_version uuidv4 uuidv7 vacuum valid validate validator value values var_pop var_samp varbinary varchar variable variadic variance varint varying vector_type verbose verify_external verify_fetch_row verify_parallelism verify_serializer version view views virtual volatile wal_autocheckpoint wavg week weekday weekofyear weeks weighted_avg when where which_secret whitespace window with within without work worker_threads wrapper write write_log xml xmlattributes xmlconcat xmlelement xmlexists xmlforest xmlnamespaces xmlparse xmlpi xmlroot xmlserialize xmltable xor year years yearweek yes zone zstd_min_string_length | || ~ ~~ ~~* ~~~",types:"JSON bigint binary bit bitstring blob bool boolean bpchar bytea char date datetime dec decimal double enum float float4 float8 guid hugeint int int1 int128 int16 int2 int32 int4 int64 int8 integer integral interval list logical long map null numeric nvarchar oid real row short signed smallint string struct text time timestamp timestamp_ms timestamp_ns timestamp_s timestamp_us timestamptz timetz tinyint ubigint uhugeint uint128 uint16 uint32 uint64 uint8 uinteger union usmallint utinyint uuid varbinary varchar varint"});var Kw=new Set("postgresql.postgres.couchbase.db2.db2i.tidb.mysql.sqlite.mssql.sqlserver.duckdb.mariadb.cassandra.noql.spark.awsathena.athena.bigquery.hive.redshift.snowflake.flink.mongodb.trino.oracle.oracledb.singlestoredb.timescaledb".split("."));function Vl(e){return Kw.has(e)}function $m(e){let n=e.dialect;if(!Vl(n))return Oe.debug("Unknown dialect",{dialect:n}),hs;switch(n){case"postgresql":case"postgres":return sh;case"mysql":return DR;case"sqlite":return TR;case"mssql":case"sqlserver":return PR;case"duckdb":return Vm;case"mariadb":return NR;case"cassandra":return LR;case"oracledb":case"oracle":return ER;case"bigquery":return Hm;case"timescaledb":return sh;case"awsathena":case"athena":case"db2i":case"db2":case"hive":case"redshift":case"snowflake":case"flink":case"mongodb":case"noql":case"couchbase":case"trino":case"tidb":case"singlestoredb":case"spark":return Oe.debug("Unsupported dialect",{dialect:n}),hs;default:return as(n),hs}}var Qw={...OR,caseInsensitiveIdentifiers:!0,identifierQuotes:"'"};let hs;hs=lh.define(Qw),Oi="__marimo_duckdb",fs=new Set([Oi]),U_="memory",zl=function(e){return e===""};var ms={formatTableName:e=>e,formatSelectClause:(e,n)=>`SELECT ${e} FROM ${n} LIMIT 100`};function Gw(e){if(e=e.toLowerCase(),!Vl(e))return ms;switch(e){case"bigquery":{let n=Hm.spec.identifierQuotes;return{formatTableName:i=>`${n}${i}${n}`,formatSelectClause:ms.formatSelectClause}}case"mssql":case"sqlserver":return{formatTableName:ms.formatTableName,formatSelectClause:(n,i)=>`SELECT TOP 100 ${n} FROM ${i}`};case"timescaledb":case"postgres":case"postgresql":case"duckdb":return{formatTableName:n=>n.split(".").map(i=>`"${i}"`).join("."),formatSelectClause:(n,i)=>`SELECT ${n==="*"?"*":`"${n}"`} FROM ${i} LIMIT 100`};case"db2":case"db2i":case"mysql":case"sqlite":case"mariadb":case"cassandra":case"noql":case"awsathena":case"athena":case"hive":case"redshift":case"snowflake":case"flink":case"mongodb":case"oracle":case"oracledb":case"couchbase":case"tidb":case"spark":case"trino":case"singlestoredb":return ms;default:return as(e),ms}}j_=function({table:e,columnName:n,sqlTableContext:i}){if(i){let{engine:o,schema:s,defaultSchema:c,defaultDatabase:d,database:p,dialect:m}=i,v=e.name;zl(s)?v=p===d?v:`${p}.${v}`:(s!==c&&(v=`${s}.${v}`),p!==d&&(v=`${p}.${v}`));let _=Gw(m),w=_.formatTableName(v),C=_.formatSelectClause(n,w);return o==="__marimo_duckdb"?`_df = mo.sql(f"""
${C}
""")`:`_df = mo.sql(f"""
${C}
""", engine=${o})`}return`_df = mo.sql(f'SELECT "${n}" FROM ${e.name} LIMIT 100')`},__=function(e,n){if(n==="date"||n==="datetime"||n==="time"){if(e==="min")return"Earliest";if(e==="max")return"Latest"}return e};function Jw(){return{tables:[],expandedTables:new Set,expandedColumns:new Set,columnsPreviews:new Map}}var{reducer:a4,createActions:o4,valueAtom:Wm,useActions:Xw}=Ol(Jw,{addDatasets:(e,n)=>{let{previewDatasetColumn:i}=Di();for(let p of n.tables)for(let m of p.columns){let v=`${p.name}:${m.name}`;e.expandedColumns.has(v)&&i({tableName:p.name,columnName:m.name,source:p.source,sourceType:p.source_type})}let o=e.tables;n.clear_channel&&(o=o.filter(p=>p.source!==n.clear_channel));let s=[...n.tables,...o],c=new Set,d=s.filter(p=>{let m=`${p.name}:${p.source}`;return c.has(m)?!1:(c.add(m),!0)}).sort((p,m)=>p.name.localeCompare(m.name));return{...e,tables:d}},filterDatasetsFromVariables:(e,n)=>{let i=new Set(n),o=e.tables.filter(s=>s.variable_name?i.has(s.variable_name):!0);return{...e,tables:o}},toggleTable:(e,n)=>{let i=new Set(e.expandedTables);return i.has(n)?i.delete(n):i.add(n),{...e,expandedTables:i}},toggleColumn:(e,n)=>{let i=`${n.table}:${n.column}`,o=new Set(e.expandedColumns);return o.has(i)?o.delete(i):o.add(i),{...e,expandedColumns:o}},closeAllColumns:e=>({...e,expandedColumns:new Set}),addColumnPreview:(e,n)=>{let i=`${n.table_name}:${n.column_name}`,o=new Map(e.columnsPreviews);return o.set(i,n),{...e,columnsPreviews:o}}});e_=()=>Kn(Wm),Fu=Be(e=>e(Wm).tables),u_=Be(new Set),l_=Be(!1),T2=function(){return Xw()};var Yw=new Map([[Oi,{name:Oi,dialect:"duckdb",source:"duckdb",display_name:"DuckDB (In-Memory)",databases:[]}]]);function Zw(){return{latestEngineSelected:Oi,connectionsMap:Yw}}let ex,tx;({reducer:ex,createActions:tx,valueAtom:so,useActions:B2}=Ol(Zw,{addDataSourceConnection:(e,n)=>{if(n.connections.length===0)return e;let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);for(let c of n.connections)s.set(c.name,c);return{latestEngineSelected:i,connectionsMap:s}},filterDataSourcesFromVariables:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Set(n),c=new Map([...o].filter(([d])=>fs.has(d)?!0:s.has(d)));return{latestEngineSelected:c.has(i)?i:Oi,connectionsMap:c}},clearDataSourceConnections:()=>({latestEngineSelected:Oi,connectionsMap:new Map}),removeDataSourceConnection:(e,n)=>{let{latestEngineSelected:i,connectionsMap:o}=e,s=new Map(o);return s.delete(n),{latestEngineSelected:s.has(i)?i:Oi,connectionsMap:s}},addTableList:(e,n)=>{let{tables:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,p=s.get(d);if(!p)return e;let m=new Map(s),v={...p,databases:p.databases.map(_=>_.name===o.database?{..._,schemas:_.schemas.map(w=>w.name===o.schema?{...w,tables:i}:w)}:_)};return m.set(d,v),{latestEngineSelected:c,connectionsMap:m}},addTable:(e,n)=>{let{table:i,sqlTableContext:o}=n,{connectionsMap:s,latestEngineSelected:c}=e,d=o.engine,p=i.name,m=s.get(d);if(!m)return e;let v=new Map(s),_={...m,databases:m.databases.map(w=>w.name===o.database?{...w,schemas:w.schemas.map(C=>{if(C.name!==o.schema)return C;let E=C.tables.length===0?[i]:C.tables.map(R=>R.name===p?i:R);return{...C,tables:E}})}:w)};return v.set(d,_),{latestEngineSelected:c,connectionsMap:v}}})),Ou=Be(e=>e(so).connectionsMap);function Um(e){let n=ut.get(so);n.connectionsMap.has(e)&&ut.set(so,{...n,latestEngineSelected:e})}s_=Be(e=>{let n=ut.get(Fu),i=e(so).connectionsMap,o=new Map;for(let s of n)o.set(s.name,s);for(let s of i.values())for(let c of s.databases){let d=c.name===s.default_database||s.databases.length===1;for(let p of c.schemas){let m=p.name===s.default_schema,v=zl(p.name);for(let _ of p.tables){let w;if(w=_.name,v){w=d?_.name:`${c.name}.${_.name}`,o.has(w)?Oe.warn(`Table name collision for ${w}. Skipping.`):o.set(w,_);continue}if(d&&m&&!o.has(w)){o.set(w,_);continue}if(w=`${p.name}.${_.name}`,d&&!o.has(w)){o.set(w,_);continue}w=`${c.name}.${p.name}.${_.name}`,o.has(w)?Oe.warn(`Table name collision for ${w}. Skipping.`):o.set(w,_)}}}return o}),H_=function(e){return e.variable_name?"dataframe":"table"};let gs,_d,Km,wd,xd;gs=class{constructor(e,n={}){Te(this,"cache",new Map);this.maxSize=e,this.options=n}getOrCreate(e){Ln(this.options.create,"create function is required");let n=this.cache.get(e);if(n!==void 0)return n;let i=this.options.create(e);return this.cache.set(e,i),i}get(e){let n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e)&&this.cache.delete(e),this.cache.set(e,n),this.cache.size>this.maxSize){let i=this.cache.keys().next().value;i!==void 0&&this.cache.delete(i)}}keys(){return this.cache.keys()}values(){return this.cache.values()}entries(){return this.cache.entries()}delete(e){this.cache.delete(e)}},Ph=zn("book-marked",[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),wh=zn("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]),_d=zn("calendar-clock",[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]),Mh=zn("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),mh=zn("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Km=zn("cog",[["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["circle",{cx:"12",cy:"12",r:"8",key:"46899m"}]]),om=zn("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]),wd=zn("database-backup",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 12a9 3 0 0 0 5 2.69",key:"1ui2ym"}],["path",{d:"M21 9.3V5",key:"6k6cib"}],["path",{d:"M3 5v14a9 3 0 0 0 6.47 2.88",key:"i62tjy"}],["path",{d:"M12 12v4h4",key:"1bxaet"}],["path",{d:"M13 20a5 5 0 0 0 9-3 4.5 4.5 0 0 0-4.5-4.5c-1.33 0-2.54.54-3.41 1.41L12 16",key:"1f4ei9"}]]),ds=zn("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Mu=zn("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nu=zn("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),oo=zn("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Sh=zn("paint-roller",[["rect",{width:"16",height:"6",x:"2",y:"2",rx:"2",key:"jcyz7m"}],["path",{d:"M10 16v-2a2 2 0 0 1 2-2h8a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2",key:"1b9h7c"}],["rect",{width:"4",height:"6",x:"8",y:"16",rx:"1",key:"d6e7yl"}]]),xd=zn("search-check",[["path",{d:"m8 11 2 2 4-4",key:"1sed1v"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),lo=zn("table-2",[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]]),Al=function(e){switch(e){case"duckdb":return"DuckDB";case"motherduck":return"MotherDuck";case"sqlite":return"SQLite";case"postgres":case"postgresql":return"PostgreSQL";case"mysql":return"MySQL";case"mariadb":return"MariaDB";case"mssql":return"Microsoft SQL Server";case"oracle":return"Oracle";case"redshift":return"Amazon Redshift";case"snowflake":return"Snowflake";case"bigquery":return"Google BigQuery";case"clickhouse":return"ClickHouse";case"timeplus":return"Timeplus";case"databricks":return"Databricks";case"db2":return"IBM Db2";case"hive":return"Apache Hive";case"impala":return"Apache Impala";case"presto":return"Presto";case"trino":return"Trino";case"cockroachdb":return"CockroachDB";case"timescaledb":return"TimescaleDB";case"singlestore":return"SingleStore";case"cassandra":return"Apache Cassandra";case"mongodb":return"MongoDB";case"iceberg":return"Apache Iceberg";default:return e}};function Qm(e){let[n,i]=e.split(" ");return i?`${Al(n)} ${i}`:Al(e)}Cu={boolean:HT,date:BT,time:mh,datetime:_d,temporal:_d,number:nh,string:VT,integer:nh,unknown:wh},O_=function(e){switch(e){case"boolean":return"bg-(--orange-4)";case"date":case"time":case"datetime":case"temporal":return"bg-(--grass-4) dark:bg-(--grass-5)";case"number":case"integer":return"bg-(--purple-4)";case"string":return"bg-(--blue-4)";case"unknown":return"bg-(--slate-4) dark:bg-(--slate-6)";default:return as(e),"bg-(--slate-4) dark:bg-(--slate-6)"}};let ys,B,Gm,kd,Jm,mo,Xm,Ym,Zm,e0,t0,go,Hr,ba,oi,Cd;fa=class{constructor(e,n){this.singular=e,this._plural=n}pluralize(e){return e===1?this.singular:this.plural}get plural(){return this._plural??`${this.singular}s`}},N_=class dw{constructor(n){this.words=n}static of(...n){return new dw(n.map(i=>typeof i=="string"?new fa(i):i))}join(n,i){return this.words.map(o=>o.pluralize(i)).join(n)}},ys=Qt(Fr(),1),B=Qt(GT(),1),Gm=5,kd={boolean:"bg-[var(--orange-4)] text-[var(--orange-11)]",date:"bg-[var(--grass-4)] text-[var(--grass-11)]",time:"bg-[var(--grass-4)] text-[var(--grass-11)]",datetime:"bg-[var(--grass-4)] text-[var(--grass-11)]",number:"bg-[var(--purple-4)] text-[var(--purple-11)]",integer:"bg-[var(--purple-4)] text-[var(--purple-11)]",string:"bg-[var(--blue-4)] text-[var(--blue-11)]",unknown:"bg-[var(--slate-4)] text-[var(--slate-11)]"},Jm={local:"bg-[var(--blue-4)] text-[var(--blue-11)]",duckdb:"bg-[var(--amber-4)] text-[var(--amber-11)]",connection:"bg-[var(--green-4)] text-[var(--green-11)]",catalog:"bg-[var(--purple-4)] text-[var(--purple-11)]"},mo="p-3 min-w-[250px] flex flex-col divide-y",Xm=new fa("column","columns"),Ym=new fa("row","rows"),Zm=new fa("schema","schemas"),e0=new fa("table","tables"),t0=new fa("database","databases"),go=e=>{let n=(0,ys.c)(6),{icon:i,title:o,badge:s}=e,c;n[0]===o?c=n[1]:(c=(0,B.jsx)("h3",{className:"font-semibold text-sm",children:o}),n[0]=o,n[1]=c);let d;return n[2]!==s||n[3]!==i||n[4]!==c?(d=(0,B.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[i,c,s]}),n[2]=s,n[3]=i,n[4]=c,n[5]=d):d=n[5],d},Hr=e=>{let n=(0,ys.c)(5),{label:i,value:o}=e,s;n[0]===i?s=n[1]:(s=(0,B.jsxs)("span",{className:"text-[var(--slate-11)]",children:[i,":"]}),n[0]=i,n[1]=s);let c;return n[2]!==s||n[3]!==o?(c=(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[s,o]}),n[2]=s,n[3]=o,n[4]=c):c=n[4],c},ba=e=>{let n=(0,ys.c)(5),{icon:i,text:o}=e,s;n[0]===o?s=n[1]:(s=(0,B.jsx)("span",{className:"text-xs text-[var(--slate-11)]",children:o}),n[0]=o,n[1]=s);let c;return n[2]!==i||n[3]!==s?(c=(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[i,s]}),n[2]=i,n[3]=s,n[4]=c):c=n[4],c},oi=e=>{let n=(0,ys.c)(15),{title:i,items:o,totalCount:s,limit:c}=e,d=i===void 0?"":i,p=c===void 0?Gm:c;if(o.length===0)return null;let m;n[0]!==o||n[1]!==p?(m=o.slice(0,p),n[0]=o,n[1]=p,n[2]=m):m=n[2];let v=m,_=s>p,w;n[3]===d?w=n[4]:(w=d&&(0,B.jsxs)("h4",{className:"text-xs font-medium text-[var(--slate-11)] mb-2",children:[d,":"]}),n[3]=d,n[4]=w);let C;n[5]!==_||n[6]!==p||n[7]!==s?(C=_&&(0,B.jsxs)("div",{className:"text-xs text-[var(--slate-10)] text-center py-1",children:["... and ",s-p," more"]}),n[5]=_,n[6]=p,n[7]=s,n[8]=C):C=n[8];let E;n[9]!==C||n[10]!==v?(E=(0,B.jsxs)("div",{className:"flex flex-col gap-1 overflow-y-auto",children:[v,C]}),n[9]=C,n[10]=v,n[11]=E):E=n[11];let R;return n[12]!==w||n[13]!==E?(R=(0,B.jsxs)("div",{className:"py-2",children:[w,E]}),n[12]=w,n[13]=E,n[14]=R):R=n[14],R},Cd=e=>kd[e]||kd.unknown;const nx=e=>{var d,p;let n=e.type==="view"?(0,B.jsx)(Mu,{className:"w-4 h-4 text-[var(--blue-9)]"}):(0,B.jsx)(lo,{className:"w-4 h-4 text-[var(--green-9)]"}),i=(0,B.jsx)(cr,{variant:"secondary",className:`text-xs ${e.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:e.type}),o=e.columns.map(m=>{let v=Cu[m.type];return(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(v,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{className:"font-mono",children:m.name})]}),(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${Cd(m.type)}`,children:m.type})]},m.name)}),s=e.primary_keys&&e.primary_keys.length>0,c=e.indexes&&e.indexes.length>0;return(0,B.jsxs)("div",{className:`${mo} min-w-[300px]`,children:[(0,B.jsx)(go,{icon:n,title:e.name,badge:i}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Hr,{label:"Source",value:(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${Jm[e.source_type]}`,children:e.source})}),e.variable_name&&(0,B.jsx)(Hr,{label:"Variable",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.variable_name})}),e.engine&&(0,B.jsx)(Hr,{label:"Engine",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(e.num_columns!=null||e.num_rows!=null)&&(0,B.jsxs)("div",{className:"grid grid-cols-2 gap-2 py-2",children:[e.num_columns!=null&&(0,B.jsx)(ba,{icon:(0,B.jsx)(om,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_columns} ${Xm.pluralize(e.num_columns)}`}),e.num_rows!=null&&(0,B.jsx)(ba,{icon:(0,B.jsx)(nh,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.num_rows} ${Ym.pluralize(e.num_rows)}`})]}),e.columns.length===0&&$l("column"),(s||c)&&(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[s&&(0,B.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)(WR,{className:"w-3 h-3 text-[var(--amber-9)]"}),(0,B.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Primary Keys:"})]}),(d=e.primary_keys)==null?void 0:d.map(m=>(0,B.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:m},m))]}),c&&(0,B.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,B.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,B.jsx)(Ph,{className:"w-3 h-3 text-[var(--purple-9)]"}),(0,B.jsx)("span",{className:"text-xs font-medium text-[var(--slate-11)]",children:"Indexes:"})]}),(p=e.indexes)==null?void 0:p.map(m=>(0,B.jsx)(cr,{variant:"outline",className:"text-xs text-[var(--slate-11)]",children:m},m))]})]}),e.columns.length>0&&(0,B.jsx)(oi,{items:o,totalCount:e.columns.length})]})},rx=e=>{var s;let n=Cu[e.type],i=(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${Cd(e.type)}`,children:e.type}),o=((s=e.sample_values)==null?void 0:s.map((c,d)=>(0,B.jsx)("div",{className:"text-xs bg-[var(--slate-3)] rounded font-mono",children:c==null?"null":String(c)},d)))||[];return(0,B.jsxs)("div",{className:mo,children:[(0,B.jsx)(go,{icon:(0,B.jsx)(n,{className:"w-4 h-4 text-[var(--slate-9)]"}),title:e.name,badge:i}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 mt-2",children:[(0,B.jsx)(Hr,{label:"Type",value:(0,B.jsx)("span",{className:"font-medium",children:e.type})}),(0,B.jsx)(Hr,{label:"External Type",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.external_type})})]}),e.sample_values&&e.sample_values.length>0&&(0,B.jsx)(oi,{title:"Sample Values",items:o,totalCount:e.sample_values.length})]})},ix=e=>{let n=(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--blue-4)] text-[var(--blue-11)]",children:e.dialect}),i=e.schemas.map(o=>(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(oo,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{children:o.name})]}),(0,B.jsxs)(cr,{variant:"outline",className:"text-xs",children:[o.tables.length," ",e0.pluralize(o.tables.length)]})]},o.name));return(0,B.jsxs)("div",{className:mo,children:[(0,B.jsx)(go,{icon:(0,B.jsx)(ds,{className:"w-4 h-4 text-[var(--blue-9)]"}),title:e.name,badge:n}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Hr,{label:"Dialect",value:(0,B.jsx)("span",{className:"font-medium",children:e.dialect})}),e.engine&&(0,B.jsx)(Hr,{label:"Engine",value:(0,B.jsx)("code",{className:"text-xs bg-[var(--slate-4)] px-1 rounded",children:e.engine})})]}),(0,B.jsx)("div",{className:"py-2",children:(0,B.jsx)(ba,{icon:(0,B.jsx)(oo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.schemas.length} schema${e.schemas.length===1?"":"s"}`})}),e.schemas.length===0&&$l("schema"),e.schemas.length>0&&(0,B.jsx)(oi,{title:"Schemas",items:i,totalCount:e.schemas.length})]})},ax=e=>{let n=(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:"Schema"}),i=e.tables.map(o=>(0,B.jsxs)("div",{className:"flex items-center justify-between text-xs rounded hover:bg-[var(--slate-3)]",children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[o.type==="view"?(0,B.jsx)(Mu,{className:"w-3 h-3 text-[var(--blue-9)]"}):(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,B.jsx)("span",{children:o.name})]}),(0,B.jsx)(cr,{variant:"outline",className:`text-xs ${o.type==="view"?"bg-[var(--blue-4)] text-[var(--blue-11)]":"bg-[var(--green-4)] text-[var(--green-11)]"}`,children:o.type})]},o.name));return(0,B.jsxs)("div",{className:mo,children:[(0,B.jsx)(go,{icon:(0,B.jsx)(oo,{className:"w-4 h-4 text-[var(--green-9)]"}),title:e.name,badge:n}),(0,B.jsx)("div",{className:"py-2",children:(0,B.jsx)(ba,{icon:(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${e.tables.length} table${e.tables.length===1?"":"s"}`})}),e.tables.length===0&&$l("table"),e.tables.length>0&&(0,B.jsx)(oi,{title:"Tables",items:i,totalCount:e.tables.length})]})};var n0=(0,B.jsx)(cr,{variant:"outline",children:"default"}),ox=8,r0=3;let $l;I2=(e,n)=>{let i=e.databases.length,o=e.databases.reduce((m,v)=>m+v.schemas.length,0),s=(m,v)=>{if(m.tables.length===0)return null;let _=m.name===e.default_schema&&v,w=[];return o<ox&&(w=m.tables.slice(0,r0+1).map(C=>(0,B.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--green-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:C.name})]},C.name))),(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"flex items-center gap-2 text-xs rounded hover:bg-[var(--slate-3)] ml-2",children:[(0,B.jsx)(oo,{className:"w-3 h-3 text-[var(--slate-9)]"}),(0,B.jsx)("span",{children:m.name}),_&&n0,(0,B.jsxs)(cr,{variant:"outline",className:"text-xs ml-auto",children:[m.tables.length," tables"]})]}),(0,B.jsx)(oi,{items:w,totalCount:m.tables.length,limit:r0})]},m.name)},c=e.databases.map(m=>{let v=m.name===e.default_database||e.databases.length===1,_=m.schemas.map(w=>s(w,v));return(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(ds,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:m.name}),v&&n0]}),_&&(0,B.jsx)(oi,{items:_,totalCount:m.schemas.length})]},m.name)}),d=e.name;fs.has(e.name)&&(d="In-Memory");let p=n==null?void 0:n.map(m=>(0,B.jsxs)("div",{className:"flex items-center gap-2",children:[(0,B.jsx)(lo,{className:"w-3 h-3 text-[var(--blue-9)]"}),(0,B.jsx)("span",{className:"text-xs",children:m.name})]},m.name));return(0,B.jsxs)("div",{className:`${mo} px-1`,children:[(0,B.jsx)(go,{icon:(0,B.jsx)(Km,{className:"w-4 h-4 text-[var(--purple-9)]"}),title:d}),(0,B.jsxs)("div",{className:"flex flex-col gap-2 py-2",children:[(0,B.jsx)(Hr,{label:"Dialect",value:(0,B.jsx)("span",{className:"font-medium",children:Al(e.dialect)})}),(0,B.jsx)(Hr,{label:"Source",value:(0,B.jsx)(cr,{variant:"outline",className:"text-xs bg-[var(--green-4)] text-[var(--green-11)]",children:e.source})})]}),(0,B.jsxs)("div",{className:"flex flex-row justify-between py-2",children:[(0,B.jsx)(ba,{icon:(0,B.jsx)(ds,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${i} ${t0.pluralize(i)}`}),(0,B.jsx)(ba,{icon:(0,B.jsx)(oo,{className:"w-3 h-3 text-[var(--slate-9)]"}),text:`${o} ${Zm.pluralize(o)}`})]}),i>0&&(0,B.jsx)(oi,{items:c,totalCount:i}),p&&p.length>0&&(0,B.jsx)(oi,{title:"Dataframes",items:p,totalCount:p.length})]})},$l=e=>(0,B.jsxs)("div",{className:"flex items-start gap-2 mt-3",children:[(0,B.jsx)(Nu,{size:10,className:"mt-1 text-[var(--slate-10)] shrink-0"}),(0,B.jsxs)("span",{className:"text-xs text-[var(--slate-11)]",children:["No ",e," information available.",` 
`,(0,B.jsx)("span",{className:"text-[var(--blue-10)]",children:"Introspect to see more details."})]})]});var Wl=Qt(Bu(),1),i0=class{constructor(){Te(this,"schema",{})}addTable(e,n){let i={self:lx({table:n}),children:n.columns.map(o=>sx({column:o}))};return this.setAt([...e,n.name],i),this}addSchema(e,n){let i={self:cx({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}addDatabase(e,n){let i={self:ux({namespace:n,path:e}),children:{}};return this.setAt(e,i),this}setAt(e,n){let i=this.schema;for(let o of e.slice(0,-1))i[o]||(i[o]={children:{}}),i=i[o].children;i[e[e.length-1]]=n}build(){return this.schema}reset(){return this.schema={},this}};function sx(e){return{label:e.column.name,type:"column",info:()=>{let n=document.createElement("div");return(0,Wl.createRoot)(n).render(rx(e.column)),{dom:n}}}}function lx(e){return{label:e.table.name,type:"table",info:()=>{let n=document.createElement("div");return(0,Wl.createRoot)(n).render(nx(e.table)),{dom:n}}}}function cx(e){return{label:e.namespace.name,detail:e.path.join("."),type:"schema",info:()=>{let n=document.createElement("div");return(0,Wl.createRoot)(n).render(ax(e.namespace)),{dom:n}}}}function ux(e){return{label:e.namespace.name,detail:e.path.join("."),type:"database",info:()=>{let n=document.createElement("div");return(0,Wl.createRoot)(n).render(ix(e.namespace)),{dom:n}}}}var dx=Be(e=>{let n=e(Fu),i=new i0;for(let o of n)i.addTable([],o);return i.build()}),fx=class{constructor(){this.cache=new gs(10,{create:e=>this.getConnectionSchema(e)})}getConnection(e){return ut.get(Ou).get(e)}getConnectionSchema(e){var d;let{default_database:n,databases:i,default_schema:o}=e,s=new i0,c=i.find(p=>p.name===n||i.length===1);if(((d=c??i[0])==null?void 0:d.schemas.some(p=>zl(p.name)))??!1){for(let p of i){let m=p.name===(c==null?void 0:c.name),v=p.schemas.flatMap(_=>_.tables);s.addDatabase([p.name],p);for(let _ of v)m?s.addTable([],_):s.addTable([p.name],_)}return{shouldAddLocalTables:!1,schema:s.build(),defaultSchema:c==null?void 0:c.name}}if(c)for(let p of c.schemas){s.addSchema([p.name],p);for(let m of p.tables)s.addTable([p.name],m)}for(let p of i){s.addDatabase([p.name],p);for(let m of p.schemas){s.addSchema([p.name,m.name],m);for(let v of m.tables)s.addTable([p.name,m.name],v)}}return{shouldAddLocalTables:!0,schema:s.build(),defaultSchema:o??void 0}}getInternalDialect(e){let n=this.getConnection(e);return n?n.dialect.toLowerCase():null}getDialect(e){let n=this.getConnection(e);return n?$m(n):hs}getCompletionSource(e){let n=this.getConnection(e);if(!n)return null;let i=()=>ut.get(dx),o=this.cache.getOrCreate(n);return{dialect:$m(n),schema:o.shouldAddLocalTables?{...o.schema,...i()}:o.schema,defaultSchema:o.defaultSchema,defaultTable:px(n)}}};function px(e){if(e.databases.length!==1)return;let n=e.databases[0];if(n.schemas.length!==1)return;let i=n.schemas[0];if(i.tables.length===1)return i.tables[0].name}const yo=new fx,vs=no.define();Tu=async function(e){let{sendFormat:n}=Di(),i=ti.mapValues(e,s=>ai(s)),o=await n({codes:i,lineLength:rh().formatting.line_length});for(let[s,c]of ti.entries(o.codes)){let d=s,p=i[d],m=e[d];m&&c!==p&&(m.state.facet(Dt).updateCellCode({cellId:d,code:c,formattingChange:!0}),ps(m,c))}},i_=function(){return Tu($w(Yu()))};async function hx(e,n){let{formatDialect:i}=await ue(async()=>{let{formatDialect:w}=await import("./esm-D9R3L5GH.js").then(async C=>(await C.__tla,C));return{formatDialect:w}},__vite__mapDeps([0,1]),import.meta.url),o=await mx(yo.getInternalDialect(n)),s=e.state.field(Tr),c=nR(e.state);if(s.type!=="sql"){Oe.error("Language adapter is not SQL");return}let d=e.state.doc.toString(),p;try{p=i(d,{dialect:o,tabWidth:c,useTabs:!1})}catch(w){Oe.error("Error formatting SQL",{error:w});return}let m=s.transformIn(p)[0],v=e.state.facet(Dt),_=e.state.facet(bd);v.updateCellCode({cellId:_,code:m,formattingChange:!0}),Hu(e,p,{effects:[vs.of(!0)]})}async function mx(e){let{bigquery:n,db2:i,db2i:o,duckdb:s,hive:c,mariadb:d,mysql:p,tidb:m,n1ql:v,plsql:_,postgresql:w,redshift:C,spark:E,sqlite:R,sql:M,trino:H,transactsql:W,singlestoredb:U,snowflake:I}=await ue(async()=>{let{bigquery:me,db2:N,db2i:q,duckdb:V,hive:de,mariadb:fe,mysql:xe,tidb:Z,n1ql:be,plsql:Se,postgresql:ne,redshift:ie,spark:le,sqlite:K,sql:Ne,trino:Ue,transactsql:ot,singlestoredb:ze,snowflake:He}=await import("./esm-D9R3L5GH.js").then(async De=>(await De.__tla,De));return{bigquery:me,db2:N,db2i:q,duckdb:V,hive:de,mariadb:fe,mysql:xe,tidb:Z,n1ql:be,plsql:Se,postgresql:ne,redshift:ie,spark:le,sqlite:K,sql:Ne,trino:Ue,transactsql:ot,singlestoredb:ze,snowflake:He}},__vite__mapDeps([0,1]),import.meta.url),G=M;if(!e||!Vl(e))return G;switch(e){case"mysql":return p;case"mariadb":return d;case"postgres":case"postgresql":return w;case"sqlite":return R;case"db2":return i;case"db2i":return o;case"hive":return c;case"redshift":return C;case"snowflake":return I;case"trino":return H;case"tidb":return m;case"oracle":case"oracledb":return _;case"spark":return E;case"singlestoredb":return U;case"couchbase":return v;case"bigquery":return n;case"duckdb":return s;case"mssql":case"sqlserver":return W;case"athena":case"awsathena":case"cassandra":case"noql":case"flink":case"mongodb":case"timescaledb":return M;default:return as(e),G}}var gx=Qt(Bu(),1);function yx(e,n){let i=document.createElement("div"),o;return{dom:i,mount(){o=(0,gx.createRoot)(i),o.render((0,B.jsx)(Jb,{store:ut,children:(0,B.jsx)(n,{view:e})}))},update(){o==null||o.render((0,B.jsx)(Jb,{store:ut,children:(0,B.jsx)(n,{view:e})}))},destroy(){o==null||o.unmount()}}}function ge(e){return new f2(d2.define(e))}function Mi(e){return ue(()=>import("./dist-DGVrZ2_h.js").then(async n=>(await n.__tla,n)),__vite__mapDeps([2,3,4,5]),import.meta.url).then(n=>n.sql({dialect:n[e]}))}var vx=[ce.of({name:"C",extensions:["c","h","ino"],load(){return ue(()=>import("./dist-DN127eEP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),ce.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return ue(()=>import("./dist-DN127eEP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([6,7,4]),import.meta.url).then(e=>e.cpp())}}),ce.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Mi("Cassandra")}}),ce.of({name:"CSS",extensions:["css"],load(){return ue(()=>import("./dist-BTdDPbOv.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([8,9,4]),import.meta.url).then(e=>e.css())}}),ce.of({name:"Go",extensions:["go"],load(){return ue(()=>import("./dist-BWV_7VoA.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([10,3,4,11]),import.meta.url).then(e=>e.go())}}),ce.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return ue(()=>import("./dist-BxZZWGQm.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([12,3,4,9,13,14]),import.meta.url).then(e=>e.html())}}),ce.of({name:"Java",extensions:["java"],load(){return ue(()=>import("./dist-DLC_46KV.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([15,16,4]),import.meta.url).then(e=>e.java())}}),ce.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return ue(()=>import("./dist-N_9BbTEn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript())}}),ce.of({name:"Jinja",extensions:["j2","jinja","jinja2"],load(){return ue(()=>import("./dist-CmmIA-QX.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([18,3,4,9,13,14]),import.meta.url).then(e=>e.jinja())}}),ce.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return ue(()=>import("./dist-CoH002oE.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([19,20,4]),import.meta.url).then(e=>e.json())}}),ce.of({name:"JSX",extensions:["jsx"],load(){return ue(()=>import("./dist-N_9BbTEn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0}))}}),ce.of({name:"LESS",extensions:["less"],load(){return ue(()=>import("./dist-7pKKsqj9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([21,9,4,22]),import.meta.url).then(e=>e.less())}}),ce.of({name:"Liquid",extensions:["liquid"],load(){return ue(()=>import("./dist-BYXrDIOf.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([23,3,4,9,13,14,24]),import.meta.url).then(e=>e.liquid())}}),ce.of({name:"MariaDB SQL",load(){return Mi("MariaSQL")}}),ce.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return ue(()=>import("./dist-Sq3Blu5X.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([25,3,4,9,13,14,26]),import.meta.url).then(e=>e.markdown())}}),ce.of({name:"MS SQL",load(){return Mi("MSSQL")}}),ce.of({name:"MySQL",load(){return Mi("MySQL")}}),ce.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return ue(()=>import("./dist-BfVGBKVx.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([27,3,4,9,13,14,28]),import.meta.url).then(e=>e.php())}}),ce.of({name:"PLSQL",extensions:["pls"],load(){return Mi("PLSQL")}}),ce.of({name:"PostgreSQL",load(){return Mi("PostgreSQL")}}),ce.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return ue(()=>import("./dist-BkE84fyB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([29,3,4,30]),import.meta.url).then(e=>e.python())}}),ce.of({name:"Rust",extensions:["rs"],load(){return ue(()=>import("./dist-BQIGq7aD.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([31,32,4]),import.meta.url).then(e=>e.rust())}}),ce.of({name:"Sass",extensions:["sass"],load(){return ue(()=>import("./dist-CsDa4NLB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([33,9,4,34]),import.meta.url).then(e=>e.sass({indented:!0}))}}),ce.of({name:"SCSS",extensions:["scss"],load(){return ue(()=>import("./dist-CsDa4NLB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([33,9,4,34]),import.meta.url).then(e=>e.sass())}}),ce.of({name:"SQL",extensions:["sql"],load(){return Mi("StandardSQL")}}),ce.of({name:"SQLite",load(){return Mi("SQLite")}}),ce.of({name:"TSX",extensions:["tsx"],load(){return ue(()=>import("./dist-N_9BbTEn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({jsx:!0,typescript:!0}))}}),ce.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return ue(()=>import("./dist-N_9BbTEn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([17,3,4,14]),import.meta.url).then(e=>e.javascript({typescript:!0}))}}),ce.of({name:"WebAssembly",extensions:["wat","wast"],load(){return ue(()=>import("./dist-CNqcputB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([35,36,4]),import.meta.url).then(e=>e.wast())}}),ce.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return ue(()=>import("./dist-CF4lVcXK.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([37,38,4]),import.meta.url).then(e=>e.xml())}}),ce.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return ue(()=>import("./dist-DJVr_TjI.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([39,40,4]),import.meta.url).then(e=>e.yaml())}}),ce.of({name:"APL",extensions:["dyalog","apl"],load(){return ue(()=>import("./apl-BayUfYiK.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([41,42]),import.meta.url).then(e=>ge(e.apl))}}),ce.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return ue(()=>import("./asciiarmor-BbtZAjVH.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([43,44]),import.meta.url).then(e=>ge(e.asciiArmor))}}),ce.of({name:"ASN.1",extensions:["asn","asn1"],load(){return ue(()=>import("./asn1-BSX5WfCz.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([45,46]),import.meta.url).then(e=>ge(e.asn1({})))}}),ce.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return ue(()=>import("./asterisk-Dxvm10BM.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.asterisk))}}),ce.of({name:"Brainfuck",extensions:["b","bf"],load(){return ue(()=>import("./brainfuck-YDi5Y1Tv.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([47,48]),import.meta.url).then(e=>ge(e.brainfuck))}}),ce.of({name:"Cobol",extensions:["cob","cpy"],load(){return ue(()=>import("./cobol-CCruVrqL.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([49,50]),import.meta.url).then(e=>ge(e.cobol))}}),ce.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.csharp))}}),ce.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return ue(()=>import("./clojure-CPnn79Jp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([53,54]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"ClojureScript",extensions:["cljs"],load(){return ue(()=>import("./clojure-CPnn79Jp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([53,54]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return ue(()=>import("./css-DNKEEr4_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([55,56]),import.meta.url).then(e=>ge(e.gss))}}),ce.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return ue(()=>import("./cmake-BzNHRrqF.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([57,58]),import.meta.url).then(e=>ge(e.cmake))}}),ce.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return ue(()=>import("./coffeescript-B-eOxUTQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([59,60]),import.meta.url).then(e=>ge(e.coffeeScript))}}),ce.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return ue(()=>import("./commonlisp-weoGbcKX.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([61,62]),import.meta.url).then(e=>ge(e.commonLisp))}}),ce.of({name:"Cypher",extensions:["cyp","cypher"],load(){return ue(()=>import("./cypher-BRnTuRqZ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([63,64]),import.meta.url).then(e=>ge(e.cypher))}}),ce.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return ue(()=>import("./python-17rwTUSb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([65,66]),import.meta.url).then(e=>ge(e.cython))}}),ce.of({name:"Crystal",extensions:["cr"],load(){return ue(()=>import("./crystal-Bb4vf_8Q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([67,68]),import.meta.url).then(e=>ge(e.crystal))}}),ce.of({name:"D",extensions:["d"],load(){return ue(()=>import("./d-C5R5WYqB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([69,70]),import.meta.url).then(e=>ge(e.d))}}),ce.of({name:"Dart",extensions:["dart"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.dart))}}),ce.of({name:"diff",extensions:["diff","patch"],load(){return ue(()=>import("./diff-CAd1-acn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([71,72]),import.meta.url).then(e=>ge(e.diff))}}),ce.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return ue(()=>import("./dockerfile-B5ZRTXzq.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([73,74]),import.meta.url).then(e=>ge(e.dockerFile))}}),ce.of({name:"DTD",extensions:["dtd"],load(){return ue(()=>import("./dtd-CDwrKLCI.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([75,76]),import.meta.url).then(e=>ge(e.dtd))}}),ce.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return ue(()=>import("./dylan-BpGTwX28.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([77,78]),import.meta.url).then(e=>ge(e.dylan))}}),ce.of({name:"EBNF",load(){return ue(()=>import("./ebnf-WyEkC5mI.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.ebnf))}}),ce.of({name:"ECL",extensions:["ecl"],load(){return ue(()=>import("./ecl-B8EdR_0a.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([79,80]),import.meta.url).then(e=>ge(e.ecl))}}),ce.of({name:"edn",extensions:["edn"],load(){return ue(()=>import("./clojure-CPnn79Jp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([53,54]),import.meta.url).then(e=>ge(e.clojure))}}),ce.of({name:"Eiffel",extensions:["e"],load(){return ue(()=>import("./eiffel-KC-FuFcU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([81,82]),import.meta.url).then(e=>ge(e.eiffel))}}),ce.of({name:"Elm",extensions:["elm"],load(){return ue(()=>import("./elm-BunIUFei.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([83,84]),import.meta.url).then(e=>ge(e.elm))}}),ce.of({name:"Erlang",extensions:["erl"],load(){return ue(()=>import("./erlang-4GgeW8M6.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([85,86]),import.meta.url).then(e=>ge(e.erlang))}}),ce.of({name:"Esper",load(){return ue(()=>import("./sql-BEwc5KHU.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.esper))}}),ce.of({name:"Factor",extensions:["factor"],load(){return ue(()=>import("./factor-BdeQ51yB.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([87,88,74]),import.meta.url).then(e=>ge(e.factor))}}),ce.of({name:"FCL",load(){return ue(()=>import("./fcl-DiNuwQPq.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.fcl))}}),ce.of({name:"Forth",extensions:["forth","fth","4th"],load(){return ue(()=>import("./forth-CNffzugU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([89,90]),import.meta.url).then(e=>ge(e.forth))}}),ce.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return ue(()=>import("./fortran-jAWg0xpj.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([91,92]),import.meta.url).then(e=>ge(e.fortran))}}),ce.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return ue(()=>import("./mllike-8ScnlWKP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([93,94]),import.meta.url).then(e=>ge(e.fSharp))}}),ce.of({name:"Gas",extensions:["s"],load(){return ue(()=>import("./gas-DlgbZm7R.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([95,96]),import.meta.url).then(e=>ge(e.gas))}}),ce.of({name:"Gherkin",extensions:["feature"],load(){return ue(()=>import("./gherkin-BATtmvjp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([97,98]),import.meta.url).then(e=>ge(e.gherkin))}}),ce.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return ue(()=>import("./groovy-CMCRYue4.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([99,100]),import.meta.url).then(e=>ge(e.groovy))}}),ce.of({name:"Haskell",extensions:["hs"],load(){return ue(()=>import("./haskell-CI4iJBv-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([101,102]),import.meta.url).then(e=>ge(e.haskell))}}),ce.of({name:"Haxe",extensions:["hx"],load(){return ue(()=>import("./haxe-E5nCf3WO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([103,104]),import.meta.url).then(e=>ge(e.haxe))}}),ce.of({name:"HXML",extensions:["hxml"],load(){return ue(()=>import("./haxe-E5nCf3WO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([103,104]),import.meta.url).then(e=>ge(e.hxml))}}),ce.of({name:"HTTP",load(){return ue(()=>import("./http-DN8Ba668.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.http))}}),ce.of({name:"IDL",extensions:["pro"],load(){return ue(()=>import("./idl-CafLJRIT.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([105,106]),import.meta.url).then(e=>ge(e.idl))}}),ce.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return ue(()=>import("./javascript-CTBGtK-U.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([107,108]),import.meta.url).then(e=>ge(e.jsonld))}}),ce.of({name:"Julia",extensions:["jl"],load(){return ue(()=>import("./julia-D_XPf6PQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([109,110]),import.meta.url).then(e=>ge(e.julia))}}),ce.of({name:"Kotlin",extensions:["kt","kts"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.kotlin))}}),ce.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return ue(()=>import("./livescript-BcySDqVp.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([111,112]),import.meta.url).then(e=>ge(e.liveScript))}}),ce.of({name:"Lua",extensions:["lua"],load(){return ue(()=>import("./lua-C2g4vKPW.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([113,114]),import.meta.url).then(e=>ge(e.lua))}}),ce.of({name:"mIRC",extensions:["mrc"],load(){return ue(()=>import("./mirc-m5tZSAj-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([115,116]),import.meta.url).then(e=>ge(e.mirc))}}),ce.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return ue(()=>import("./mathematica-CGC4E4mf.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([117,118]),import.meta.url).then(e=>ge(e.mathematica))}}),ce.of({name:"Modelica",extensions:["mo"],load(){return ue(()=>import("./modelica-Df0Pzd3q.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([119,120]),import.meta.url).then(e=>ge(e.modelica))}}),ce.of({name:"MUMPS",extensions:["mps"],load(){return ue(()=>import("./mumps-DIzXo46K.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([121,122]),import.meta.url).then(e=>ge(e.mumps))}}),ce.of({name:"Mbox",extensions:["mbox"],load(){return ue(()=>import("./mbox-COMy3rAR.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([123,124]),import.meta.url).then(e=>ge(e.mbox))}}),ce.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return ue(()=>import("./nginx-AsLDmrKT.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.nginx))}}),ce.of({name:"NSIS",extensions:["nsh","nsi"],load(){return ue(()=>import("./nsis-4fAa2QjY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([125,126,74]),import.meta.url).then(e=>ge(e.nsis))}}),ce.of({name:"NTriples",extensions:["nt","nq"],load(){return ue(()=>import("./ntriples-Di_qQuNU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([127,128]),import.meta.url).then(e=>ge(e.ntriples))}}),ce.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.objectiveC))}}),ce.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.objectiveCpp))}}),ce.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return ue(()=>import("./mllike-8ScnlWKP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([93,94]),import.meta.url).then(e=>ge(e.oCaml))}}),ce.of({name:"Octave",extensions:["m"],load(){return ue(()=>import("./octave-d2UG6bxb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([129,130]),import.meta.url).then(e=>ge(e.octave))}}),ce.of({name:"Oz",extensions:["oz"],load(){return ue(()=>import("./oz-XuOfGqvG.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([131,132]),import.meta.url).then(e=>ge(e.oz))}}),ce.of({name:"Pascal",extensions:["p","pas"],load(){return ue(()=>import("./pascal-C_8pV97M.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([133,134]),import.meta.url).then(e=>ge(e.pascal))}}),ce.of({name:"Perl",extensions:["pl","pm"],load(){return ue(()=>import("./perl-D0yyvTB8.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([135,136]),import.meta.url).then(e=>ge(e.perl))}}),ce.of({name:"Pig",extensions:["pig"],load(){return ue(()=>import("./pig-DdChm7J-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([137,138]),import.meta.url).then(e=>ge(e.pig))}}),ce.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return ue(()=>import("./powershell-BahaFAkM.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([139,140]),import.meta.url).then(e=>ge(e.powerShell))}}),ce.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return ue(()=>import("./properties-B0UjS1mb.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([141,142]),import.meta.url).then(e=>ge(e.properties))}}),ce.of({name:"ProtoBuf",extensions:["proto"],load(){return ue(()=>import("./protobuf-CIEUsgCC.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([143,144]),import.meta.url).then(e=>ge(e.protobuf))}}),ce.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return ue(()=>import("./pug-BSPSwOIU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([145,108,146]),import.meta.url).then(e=>ge(e.pug))}}),ce.of({name:"Puppet",extensions:["pp"],load(){return ue(()=>import("./puppet-CfWRrQAj.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([147,148]),import.meta.url).then(e=>ge(e.puppet))}}),ce.of({name:"Q",extensions:["q"],load(){return ue(()=>import("./q-BTop3Sb0.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([149,150]),import.meta.url).then(e=>ge(e.q))}}),ce.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return ue(()=>import("./r-Du4KfitP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([151,152]),import.meta.url).then(e=>ge(e.r))}}),ce.of({name:"RPM Changes",load(){return ue(()=>import("./rpm-DVraFRLa.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([153,154]),import.meta.url).then(e=>ge(e.rpmChanges))}}),ce.of({name:"RPM Spec",extensions:["spec"],load(){return ue(()=>import("./rpm-DVraFRLa.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([153,154]),import.meta.url).then(e=>ge(e.rpmSpec))}}),ce.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return ue(()=>import("./ruby-CQkBK2a9.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([155,156]),import.meta.url).then(e=>ge(e.ruby))}}),ce.of({name:"SAS",extensions:["sas"],load(){return ue(()=>import("./sas-DIYn6ybi.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([157,158]),import.meta.url).then(e=>ge(e.sas))}}),ce.of({name:"Scala",extensions:["scala"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.scala))}}),ce.of({name:"Scheme",extensions:["scm","ss"],load(){return ue(()=>import("./scheme-DQaXtNs_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([159,160]),import.meta.url).then(e=>ge(e.scheme))}}),ce.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return ue(()=>import("./shell-BKwxMNJ_.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([161,162]),import.meta.url).then(e=>ge(e.shell))}}),ce.of({name:"Sieve",extensions:["siv","sieve"],load(){return ue(()=>import("./sieve-BuFsd2gQ.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([163,164]),import.meta.url).then(e=>ge(e.sieve))}}),ce.of({name:"Smalltalk",extensions:["st"],load(){return ue(()=>import("./smalltalk-BRk1-XQy.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([165,166]),import.meta.url).then(e=>ge(e.smalltalk))}}),ce.of({name:"Solr",load(){return ue(()=>import("./solr-1u-M6W__.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.solr))}}),ce.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return ue(()=>import("./mllike-8ScnlWKP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([93,94]),import.meta.url).then(e=>ge(e.sml))}}),ce.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return ue(()=>import("./sparql-DbKuGH6l.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([167,168]),import.meta.url).then(e=>ge(e.sparql))}}),ce.of({name:"Spreadsheet",alias:["excel","formula"],load(){return ue(()=>import("./spreadsheet-DWdiCsPI.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.spreadsheet))}}),ce.of({name:"Squirrel",extensions:["nut"],load(){return ue(()=>import("./clike-BLGzyOUO.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([51,52]),import.meta.url).then(e=>ge(e.squirrel))}}),ce.of({name:"Stylus",extensions:["styl"],load(){return ue(()=>import("./stylus-CFOJzR7o.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([169,170]),import.meta.url).then(e=>ge(e.stylus))}}),ce.of({name:"Swift",extensions:["swift"],load(){return ue(()=>import("./swift-BUhTx6hv.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([171,172]),import.meta.url).then(e=>ge(e.swift))}}),ce.of({name:"sTeX",load(){return ue(()=>import("./stex-avUMc9RY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([173,174]),import.meta.url).then(e=>ge(e.stex))}}),ce.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return ue(()=>import("./stex-avUMc9RY.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([173,174]),import.meta.url).then(e=>ge(e.stex))}}),ce.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return ue(()=>import("./verilog-BO-pDm62.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([175,176]),import.meta.url).then(e=>ge(e.verilog))}}),ce.of({name:"Tcl",extensions:["tcl"],load(){return ue(()=>import("./tcl-MP-B_vsS.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([177,178]),import.meta.url).then(e=>ge(e.tcl))}}),ce.of({name:"Textile",extensions:["textile"],load(){return ue(()=>import("./textile-MTIaEDRe.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([179,180]),import.meta.url).then(e=>ge(e.textile))}}),ce.of({name:"TiddlyWiki",load(){return ue(()=>import("./tiddlywiki-CNC91VG3.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.tiddlyWiki))}}),ce.of({name:"Tiki wiki",load(){return ue(()=>import("./tiki-vkGwv1_K.js").then(async e=>(await e.__tla,e)),[],import.meta.url).then(e=>ge(e.tiki))}}),ce.of({name:"TOML",extensions:["toml"],load(){return ue(()=>import("./toml-DY0cxrsl.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([181,182]),import.meta.url).then(e=>ge(e.toml))}}),ce.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return ue(()=>import("./troff-BIxIeW8s.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([183,184]),import.meta.url).then(e=>ge(e.troff))}}),ce.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return ue(()=>import("./ttcn-BE49dEYh.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([185,186]),import.meta.url).then(e=>ge(e.ttcn))}}),ce.of({name:"TTCN_CFG",extensions:["cfg"],load(){return ue(()=>import("./ttcn-cfg-BD8YYA5a.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([187,188]),import.meta.url).then(e=>ge(e.ttcnCfg))}}),ce.of({name:"Turtle",extensions:["ttl"],load(){return ue(()=>import("./turtle-BclFB0tn.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([189,190]),import.meta.url).then(e=>ge(e.turtle))}}),ce.of({name:"Web IDL",extensions:["webidl"],load(){return ue(()=>import("./webidl-DHMC9GWF.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([191,192]),import.meta.url).then(e=>ge(e.webIDL))}}),ce.of({name:"VB.NET",extensions:["vb"],load(){return ue(()=>import("./vb-DsN-p1cU.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([193,194]),import.meta.url).then(e=>ge(e.vb))}}),ce.of({name:"VBScript",extensions:["vbs"],load(){return ue(()=>import("./vbscript-DCmHq9j7.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([195,196]),import.meta.url).then(e=>ge(e.vbScript))}}),ce.of({name:"Velocity",extensions:["vtl"],load(){return ue(()=>import("./velocity-DOhnCHS-.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([197,198]),import.meta.url).then(e=>ge(e.velocity))}}),ce.of({name:"Verilog",extensions:["v"],load(){return ue(()=>import("./verilog-BO-pDm62.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([175,176]),import.meta.url).then(e=>ge(e.verilog))}}),ce.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return ue(()=>import("./vhdl-BN6ynKWP.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([199,200]),import.meta.url).then(e=>ge(e.vhdl))}}),ce.of({name:"XQuery",extensions:["xy","xquery","xq","xqm","xqy"],load(){return ue(()=>import("./xquery-P4k--790.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([201,202]),import.meta.url).then(e=>ge(e.xQuery))}}),ce.of({name:"Yacas",extensions:["ys"],load(){return ue(()=>import("./yacas-2Y6ARAKT.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([203,204]),import.meta.url).then(e=>ge(e.yacas))}}),ce.of({name:"Z80",extensions:["z80"],load(){return ue(()=>import("./z80-CoWNhP-u.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([205,206]),import.meta.url).then(e=>ge(e.z80))}}),ce.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return ue(()=>import("./mscgen-ChgEFq6F.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([207,208]),import.meta.url).then(e=>ge(e.mscgen))}}),ce.of({name:"X\xF9",extensions:["xu"],load(){return ue(()=>import("./mscgen-ChgEFq6F.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([207,208]),import.meta.url).then(e=>ge(e.xu))}}),ce.of({name:"MsGenny",extensions:["msgenny"],load(){return ue(()=>import("./mscgen-ChgEFq6F.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([207,208]),import.meta.url).then(e=>ge(e.msgenny))}}),ce.of({name:"Vue",extensions:["vue"],load(){return ue(()=>import("./dist-bZT0ArJL.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([209,3,4,9,13,14,210]),import.meta.url).then(e=>e.vue())}}),ce.of({name:"Angular Template",load(){return ue(()=>import("./dist-BemY0lMT.js").then(async e=>(await e.__tla,e)),__vite__mapDeps([211,3,4,9,13,14]),import.meta.url).then(e=>e.angular())}})],a0=new WeakMap,bx=/(\n|\r\n?|\u2028|\u2029)/g,_x=/^\s*/,wx=/\S/,xx=Array.prototype.slice,Sd=48,o0=57,s0=97,kx=102,l0=65,Cx=70;Bl=function(e){if(typeof e=="string")return d0([e])[0];if(typeof e=="function")return function(){let o=xx.call(arguments);return o[0]=u0(o[0]),e.apply(this,o)};let n=u0(e),i=c0(n,0);for(let o=1;o<n.length;o++)i+=arguments[o]+c0(n,o);return i};function c0(e,n){let i=e[n];if(i===void 0)throw TypeError(`invalid cooked string at index ${n}`);return i}function u0(e){let n=a0.get(e);if(n)return n;let i=d0(e.raw),o=i.map(Ex);return Object.defineProperty(o,"raw",{value:Object.freeze(i)}),Object.freeze(o),a0.set(e,o),o}function d0(e){let n=e.map(s=>s.split(bx)),i;for(let s=0;s<n.length;s++){let c=n[s],d=s===0,p=s+1===n.length;if(d){if(c.length===1||c[0].length>0)throw Error("invalid content on opening line");c[1]=""}if(p){if(c.length===1||wx.test(c[c.length-1]))throw Error("invalid content on closing line");c[c.length-2]="",c[c.length-1]=""}for(let m=2;m<c.length;m+=2){let v=c[m],_=m+1===c.length&&!p,w=_x.exec(v)[0];if(!_&&w.length===v.length){c[m]="";continue}i=Sx(w,i)}}let o=i?i.length:0;return n.map(s=>{let c=s[0];for(let d=1;d<s.length;d+=2){let p=s[d],m=s[d+1];c+=p+m.slice(o)}return c})}function Sx(e,n){if(n===void 0||e===n)return e;let i=0;for(let o=Math.min(e.length,n.length);i<o&&e[i]===n[i];i++);return e.slice(0,i)}function Ex(e){let n="",i=0,o=0;for(;(o=e.indexOf("\\",o))>-1;){if(n+=e.slice(i,o),++o===e.length)return;let s=e[o++];switch(s){case"b":n+="\b";break;case"t":n+="	";break;case"n":n+=`
`;break;case"v":n+="\v";break;case"f":n+="\f";break;case"r":n+="\r";break;case"\r":o<e.length&&e[o]===`
`&&++o;case`
`:case"\u2028":case"\u2029":break;case"0":if(f0(e,o))return;n+="\0";break;case"x":{let c=Ed(e,o,o+2);if(c===-1)return;o+=2,n+=String.fromCharCode(c);break}case"u":{let c;if(o<e.length&&e[o]==="{"){let d=e.indexOf("}",++o);if(d===-1)return;c=Ed(e,o,d),o=d+1}else c=Ed(e,o,o+4),o+=4;if(c===-1||c>1114111)return;n+=String.fromCodePoint(c);break}default:if(f0(s,0))return;n+=s}i=o}return n+e.slice(i)}function f0(e,n){let i=e.charCodeAt(n);return i>=Sd&&i<=o0}function Ed(e,n,i){if(i>=e.length)return-1;let o=0;for(;n<i;n++){let s=Tx(e.charCodeAt(n));if(s===-1)return-1;o=o*16+s}return o}function Tx(e){return e>=Sd&&e<=o0?e-Sd:e>=s0&&e<=kx?e-s0+10:e>=l0&&e<=Cx?e-l0+10:-1}const p0=["","f","r","fr","rf"];function Rx(e){try{return Bl(`
${e}
`).trim()}catch{return e}}function Dx(e){return KR.parse(e)}var Ox=new Set(["(","[","{",",",")","]","}"]);function Px(e,n){return e.name==="ArgList"?{args:Nx(e),kwargs:Lx(e,n)}:(console.warn(`Not an ArgList, name: ${e.name}`),{args:[],kwargs:[]})}function Nx(e){var o;e.firstChild();let n=[],i=e.name;do if(i=e.name,!Ox.has(i)){if(i==="VariableName"&&((o=e.node.nextSibling)==null?void 0:o.name)==="AssignOp"){e.prev();break}n.push(e.node)}while(e.nextSibling());return n}function Lx(e,n){let i=[],o=e.name;do if(o=e.name,o==="VariableName"){let s=n.slice(e.from,e.to),c=e.node.nextSibling;if(!c||c.name!=="AssignOp")continue;let d=c.nextSibling;if(!d)continue;let p=n.slice(d.from,d.to).trim();i.push({key:s,value:p})}while(e.nextSibling());return i}function Mx(e,n){if(e.name==="String"){let i=n.slice(e.from,e.to);return i.startsWith('r"""')||i.startsWith("r'''")?i.slice(4,-3):i.startsWith('"""')||i.startsWith("'''")?i.slice(3,-3):i.startsWith('r"')||i.startsWith("r'")?i.slice(2,-1):i.slice(1,-1)}if(e.name==="FormatString"){let i=n.slice(e.from,e.to);return i.startsWith('f"""')||i.startsWith("f'''")?i.slice(4,-3):i.startsWith('rf"""')||i.startsWith("rf'''")||i.startsWith('fr"""')||i.startsWith("fr'''")?i.slice(5,-3):i.startsWith('r"""')||i.startsWith("r'''")?i.slice(4,-3):i.startsWith('f"')||i.startsWith("f'")?i.slice(2,-1):i.startsWith('rf"')||i.startsWith("rf'")||i.startsWith('fr"')||i.startsWith("fr'")?i.slice(3,-1):(i.startsWith('r"')||i.startsWith("r'"),i.slice(2,-1))}return null}function Ix(e){return e===""?0:e.startsWith('rf"""')||e.startsWith("rf'''")||e.startsWith('fr"""')||e.startsWith("fr'''")?5:e.startsWith('f"""')||e.startsWith("f'''")||e.startsWith('r"""')||e.startsWith("r'''")?4:e.startsWith('"""')||e.startsWith("'''")||e.startsWith("rf'")||e.startsWith('rf"')||e.startsWith("fr'")||e.startsWith('fr"')?3:e.startsWith("f'")||e.startsWith('f"')||e.startsWith("r'")||e.startsWith('r"')?2:e.startsWith("'")||e.startsWith('"')?1:0}function Ax(e){let n=[...p0].sort((i,o)=>o.length-i.length);for(let i of n)if(e.startsWith(i))return[i,e.slice(i.length)];return["",e]}function qx(e,n){return e.replaceAll(`\\${n}`,n)}var jx=[['"""','"""'],["'''","'''"],['"','"'],["'","'"]],zx=p0.flatMap(e=>jx.map(([n,i])=>[e+n,i])).map(([e,n])=>[e,RegExp(`^mo\\.md\\(\\s*${h0(e)}(.*)${h0(n)}\\s*\\)$`,"s")]);function h0(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var m0=class{constructor(){Te(this,"type","markdown");Te(this,"defaultCode",`mo.md(r"""
""")`);Te(this,"defaultMetadata",{quotePrefix:"r"})}static fromMarkdown(e){return`mo.md(r"""
${e}
""")`}transformIn(e){e=e.trim();let n={...this.defaultMetadata};if(e==="")return{code:"",offset:0,metadata:n};for(let[i,o]of zx){let s=e.match(o);if(s){let c=s[1],[d,p]=Ax(i);n.quotePrefix=d;let m=qx(c,p),v=e.indexOf(c);return{code:Bl(`
${m}
`).trim(),offset:v,metadata:n}}}return{code:e,offset:0,metadata:n}}transformOut(e,n){e===""&&(e=" ");let{quotePrefix:i}=n,o=e.replaceAll('""',String.raw`"\"`),s=`mo.md(${i}"""
`;return{code:s+o+`
""")`,offset:s.length+1}}isSupported(e){if(e=e.trim(),e==="")return!0;if(!e.startsWith("mo.md("))return!1;if(e==="mo.md()")return!0;let n=uh.parser.parse(e),i=[{match:"Script"},{match:"ExpressionStatement"},{match:"CallExpression"},{match:"MemberExpression"},{match:"VariableName"},{match:"."},{match:"PropertyName"},{match:"ArgList"},{match:"("},{match:/String|FormatString/,stop:!0},{match:")"}],o=!0;return n.iterate({enter:s=>{let c=i.shift();if(c===void 0)return o=!1,!1;let d=c.match;return typeof d=="string"?(o&&(o=d===s.name),o&&!c.stop):(d.test(s.name)||(o=!1),o&&!c.stop)}}),o}},Fx=class{constructor(){Te(this,"type","python");Te(this,"defaultCode","");Te(this,"defaultMetadata",{})}transformIn(e){return{code:e,offset:0,metadata:{}}}transformOut(e,n){return{code:e,offset:0}}isSupported(e){return!0}},Td="__marimo_duckdb",g0=class{constructor(){Te(this,"type","sql");Te(this,"defaultMetadata",{dataframeName:"_df",quotePrefix:"f",commentLines:[],showOutput:!0,engine:Td})}get defaultCode(){return'_df = mo.sql(f"""SELECT * FROM """)'}static fromQuery(e){return`_df = mo.sql(f"""${e.trim()}""")`}transformIn(e){e=e.trim();let n={...this.defaultMetadata,commentLines:this.extractCommentLines(e)};if(!this.isSupported(e))return{code:e,offset:0,metadata:n};if(e==="")return{code:"",offset:0,metadata:n};let i=y0(e);return i?(n.dataframeName=i.dfName,n.showOutput=i.output??!0,n.engine=i.engine??Td,{code:Bl(`
${i.sqlString}
`).trim(),offset:i.startPosition,metadata:n}):{code:e,offset:0,metadata:n}}transformOut(e,n){let{quotePrefix:i,commentLines:o,showOutput:s,engine:c,dataframeName:d}=n,p=`${d} = mo.sql(
    ${i}"""
`,m=e.replaceAll('"""',String.raw`\"""`),v=`
    """${s?"":`,
    output=False`}${c===Td?"":`,
    engine=${c}`}
)`;return{code:[...o,p].join(`
`)+Hx(m)+v,offset:p.length+1}}isSupported(e){return e.trim()===""?!0:!e.includes("mo.sql")||e.split("mo.sql").length>2?!1:y0(e)!==null}extractCommentLines(e){let n=e.split(`
`),i=[];for(let o of n)if(o!=null&&o.startsWith("#"))i.push(o);else break;return i}};function Bx(e){do{if(e.name==="AssignStatement")return e.node;if(e.name!=="Comment")return null}while(e.next());return null}function y0(e){try{let n=Dx(e).cursor();n.name==="Script"&&n.next();let i=Bx(n);if(!i||e.slice(i.to).trim().length>0)return null;let o=null,s=null,c,d,p=0,m=i.cursor();if(m.firstChild(),m.name==="VariableName"&&(o=e.slice(m.from,m.to)),!o)return null;for(;m.next();)if(m.name==="CallExpression"){let v=m.node.cursor(),_=!1;if(v.firstChild(),v.name==="MemberExpression"&&(_=e.slice(v.from,v.to)==="mo.sql"),!_)continue;for(;v.next();)if(v.name==="ArgList"){let{args:w,kwargs:C}=Px(v.node.cursor(),e);w.length===1&&(s=Mx(w[0],e),p=w[0].from+Ix(e.slice(w[0].from,w[0].to)));for(let{key:E,value:R}of C)switch(E){case"engine":c=R;break;case"output":d=R==="True";break}if(s==="")return{dfName:o,sqlString:"",engine:c,output:d,startPosition:p};break}break}return!o||!s?null:{dfName:o,sqlString:Rx(s),engine:c,output:d,startPosition:p}}catch(n){return console.warn("Failed to parse SQL statement",n),null}}function Hx(e){return e.split(`
`).map(n=>n!=null&&n.trim()?`    ${n}`:n).join(`
`)}function Vx(e,n){return{get:()=>n.get(e),sub:i=>n.sub(e,()=>i(n.get(e)))}}function $x(e,{offset:n,body:i=window}){let o=(n==null?void 0:n.top)??0,s=(n==null?void 0:n.bottom)??0,c=e.getBoundingClientRect();if(c.top<o){i.scrollBy({top:c.top-o,behavior:"smooth"});return}if(c.bottom>window.innerHeight-s){i.scrollBy({top:c.bottom-window.innerHeight+s,behavior:"smooth"});return}}Au=function(e){return e?e.state.field(Tr).type:"python"};function Wx(e,n){return!e||Au(e)===n?!1:e.state.doc.toString().trim()===""?!0:fr[n].isSupported(ai(e))}gh=function(e,n,i={}){return!i.force&&!Wx(e,n)?!1:(Uh(e,{language:n}),n)};function Ux(e){return ro.of([{key:e.getHotkey("cell.format").key,preventDefault:!0,run:n=>(Tu({[n.state.facet(uo)]:n}),!0)},{key:e.getHotkey("cell.viewAsMarkdown").key,preventDefault:!0,run:n=>{let i=Au(n);if(i!=="markdown"&&i!=="python")return!1;let o=gh(n,i==="python"?"markdown":"python",{force:!0});return o==="markdown"&&n.state.facet(Dt).afterToggleMarkdown(),o!==!1}}])}sw=function(){return Tn.updateListener.of(e=>{if(e.view.hasFocus&&e.heightChanged&&e.docChanged){if(e.transactions.some(i=>i.effects.some(o=>o.is(vs))))return;let n=e.view.dom.getElementsByClassName("cm-activeLine cm-line");if(n.length===1){let i=n[0],o=document.getElementById("App");Ln(o,"App not found"),$x(i,{offset:{top:30,bottom:150},body:o})}}})};function Kx(){return{}}let Qx,Gx,v0;({reducer:Qx,createActions:Gx,valueAtom:ma,useActions:v0}=Ol(Kx,{setVariables:(e,n)=>{let i={...e},o={};for(let s of n)o[s.name]={...i[s.name],...s};return o},addVariables:(e,n)=>{let i={...e};for(let o of n)i[o.name]={...i[o.name],...o};return i},setMetadata:(e,n)=>{let i={...e};for(let{name:o,value:s,dataType:c}of n)i[o]&&(i[o]={...i[o],value:s,dataType:c});return i}})),tw=()=>Kn(ma),cw=function(){return v0()};var Jx=Qt(Fr(),1),b0="marimo:sidebar",_0=new Eu(Zb({selectedPanel:NT().optional().transform(e=>e),isSidebarOpen:Yb(),isTerminalOpen:Yb()}),Xx);function Xx(){return{selectedPanel:"variables",isSidebarOpen:!1,isTerminalOpen:!1}}let Yx,Zx,w0;({reducer:Yx,createActions:Zx,valueAtom:Ku,useActions:w0}=Ol(()=>_0.get(b0),{openApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:!0}),toggleApplication:(e,n)=>({...e,selectedPanel:n,isSidebarOpen:e.isSidebarOpen?e.selectedPanel!==n:!0}),toggleSidebarPanel:e=>({...e,isSidebarOpen:!e.isSidebarOpen}),setIsSidebarOpen:(e,n)=>({...e,isSidebarOpen:n}),toggleTerminal:e=>({...e,isTerminalOpen:!e.isTerminalOpen}),setIsTerminalOpen:(e,n)=>({...e,isTerminalOpen:n})},[(e,n)=>_0.set(b0,n)])),p_=()=>{let e=(0,Jx.c)(2),n=Kn(Ku);if(n.isSidebarOpen)return n;let i;return e[0]===n?i=e[1]:(i={...n,selectedPanel:void 0},e[0]=n,e[1]=i),i},C_=function(){return w0()},Yh=Be({terminal:!1,pylsp:!1,basedpyright:!1,ty:!1});function Ul(e){return ut.get(Yh)[e]??!1}Zu=Be({documentation:null});var x0=new Set(["FunctionDefinition","LambdaExpression","ArrayComprehensionExpression","SetComprehension","DictionaryComprehensionExpression","ComprehensionExpression","ClassDefinition"]);function ek(e){let n=l2(e.state);if(!n||rk(n))return[];let i=new Set(Object.keys(e.variables).filter(E=>{let R=e.variables[E];return R.dataType!=="module"&&!R.declaredBy.includes("setup")&&!R.declaredBy.includes(e.cellId)}));if(i.size===0)return[];let o=[],s=new Map,c=new Map,d=new Map;function p(E,R){var G,me,N,q,V,de,fe,xe,Z,be,Se;let M=E.cursor(),H=M.name,W=M.from,U=x0.has(H),I=R;switch(U&&(I=[...R,W],s.set(W,new Set),c.set(W,H)),H){case"FunctionDefinition":{let ne=E.cursor();ne.firstChild();do if(ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to),K=R[R.length-1]??-1;s.has(K)||s.set(K,new Set),(G=s.get(K))==null||G.add(le);break}while(ne.nextSibling());let ie=E.cursor();ie.firstChild();do if(ie.name==="ParamList"){let le=ie.node.cursor();le.firstChild();do if(le.name==="VariableName"){let K=e.state.doc.sliceString(le.from,le.to);(me=s.get(W))==null||me.add(K)}while(le.nextSibling())}while(ie.nextSibling());break}case"LambdaExpression":{let ne=E.cursor();ne.firstChild();do if(ne.name==="ParamList"){let ie=ne.node.cursor();ie.firstChild();do if(ie.name==="VariableName"){let le=e.state.doc.sliceString(ie.from,ie.to);(N=s.get(W))==null||N.add(le)}while(ie.nextSibling())}while(ne.nextSibling());break}case"ArrayComprehensionExpression":case"DictionaryComprehensionExpression":case"SetComprehension":case"ComprehensionExpression":{let ne=E.cursor();ne.firstChild();let ie=!1;do if(ne.name==="for")ie=!0;else if(ie&&ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to);(q=s.get(W))==null||q.add(le)}else if(ie&&ne.name==="TupleExpression"){let le=ne.node.cursor();le.firstChild();do if(le.name==="VariableName"){let K=e.state.doc.sliceString(le.from,le.to);(V=s.get(W))==null||V.add(K)}while(le.nextSibling())}else ie&&ne.name==="in"&&(ie=!1);while(ne.nextSibling());break}case"ClassDefinition":{let ne=E.cursor();ne.firstChild();do if(ne.name==="VariableName"){let ie=e.state.doc.sliceString(ne.from,ne.to),le=R[R.length-1]??-1;s.has(le)||s.set(le,new Set),(de=s.get(le))==null||de.add(ie);break}while(ne.nextSibling());d.set(W,[]);break}case"AssignStatement":{let ne=E.cursor(),ie=[];ne.firstChild();do ne.name==="AssignOp"&&ie.push(ne.from);while(ne.nextSibling());let le=ie[ie.length-1],K=E.cursor();K.firstChild();let Ne=I[I.length-1]??-1;do K.from<le&&Rd(K,{currentScope:Ne,state:e.state,allDeclarations:s,scopeTypes:c,classLevelDeclarations:d,assignmentPosition:M.to});while(K.nextSibling());break}case"ForStatement":{let ne=E.cursor();ne.firstChild();let ie=!1;do if(ne.name==="for")ie=!0;else if(ie&&ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to),K=I[I.length-1]??-1;s.has(K)||s.set(K,new Set),(fe=s.get(K))==null||fe.add(le)}else ie&&ne.name==="in"&&(ie=!1);while(ne.nextSibling());break}case"ImportStatement":{let ne=E.cursor();ne.firstChild();do if(ne.name==="VariableName"){let ie=e.state.doc.sliceString(ne.from,ne.to),le=I[I.length-1]??-1;s.has(le)||s.set(le,new Set),(xe=s.get(le))==null||xe.add(ie)}while(ne.nextSibling());break}case"ImportFromStatement":{let ne=E.cursor();ne.firstChild();let ie=!1;do if(ne.name==="import")ie=!0;else if(ie&&ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to),K=I[I.length-1]??-1;s.has(K)||s.set(K,new Set),(Z=s.get(K))==null||Z.add(le)}while(ne.nextSibling());break}case"TryStatement":{let ne=E.cursor();ne.firstChild();let ie=!1;do if(ne.name==="as")ie=!0;else if(ie&&ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to),K=I[I.length-1]??-1;s.has(K)||s.set(K,new Set),(be=s.get(K))==null||be.add(le),ie=!1}while(ne.nextSibling());break}case"WithStatement":{let ne=E.cursor();ne.firstChild();let ie=!1;do if(ne.name==="as")ie=!0;else if(ie&&ne.name==="VariableName"){let le=e.state.doc.sliceString(ne.from,ne.to),K=I[I.length-1]??-1;s.has(K)||s.set(K,new Set),(Se=s.get(K))==null||Se.add(le),ie=!1}while(ne.nextSibling());break}}C(M,ne=>{p(ne,I)})}function m(E,R,M){let H=d.get(R);return H?H.some(([W,U])=>W===E&&U<M):!1}function v(E,R,M){var H,W;for(let U of R)if(c.get(U)==="ClassDefinition"){if(m(E,U,M))return!0}else if((H=s.get(U))!=null&&H.has(E))return!0;return((W=s.get(-1))==null?void 0:W.has(E))??!1}function _(E,R){let M=E.cursor(),H=M.name,W=M.from,U=x0.has(H),I=R;if(U&&(I=[...R,W]),H==="VariableName"){let G=e.state.doc.sliceString(M.from,M.to);w(G,M)&&(v(G,I,M.from)||o.push({from:M.from,to:M.to,variableName:G}))}C(M,G=>{_(G,I)})}function w(E,R){return i.has(E)&&!tk(R)&&!nk(R)}function C(E,R){if(E.firstChild())do R(E.node);while(E.nextSibling())}return p(n,[]),_(n,[]),o}function tk(e){let n=e.node.cursor();if(n.moveTo(e.from),n.parent()&&n.name==="CallExpression"&&n.firstChild())do if(n.name==="ArgList"&&n.firstChild()){do if(n.from===e.from&&n.to===e.to)return n.nextSibling()&&n.name==="AssignOp";while(n.nextSibling());break}while(n.nextSibling());return!1}function nk(e){let n=e.node.cursor();if(n.parent()&&n.name==="AssignStatement"){let i=n.node.cursor();i.firstChild();let o=-1;do if(i.name==="AssignOp"){o=i.from;break}while(i.nextSibling());return o!==-1&&e.from<o}return!1}function rk(e){let n=e.cursor();do if(n.name==="\u26A0"||n.type.isError)return!0;while(n.next());return!1}function Rd(e,n){var i;switch(e.name){case"VariableName":{let o=n.state.doc.sliceString(e.from,e.to);if(n.currentScope!==-1&&n.scopeTypes.get(n.currentScope)==="ClassDefinition"){let s=n.classLevelDeclarations.get(n.currentScope);s&&s.push([o,n.assignmentPosition])}else n.allDeclarations.has(n.currentScope)||n.allDeclarations.set(n.currentScope,new Set),(i=n.allDeclarations.get(n.currentScope))==null||i.add(o);break}case"TupleExpression":{let o=e.node.cursor();o.firstChild();do Rd(o,n);while(o.nextSibling());break}case"ArrayExpression":{let o=e.node.cursor();o.firstChild();do Rd(o,n);while(o.nextSibling());break}}}var ik=Ri.mark({class:"mo-cm-reactive-reference"});Y_=Ri.mark({class:"mo-cm-reactive-reference-hover"});var k0=no.define(),ak=class{constructor(e,n){Te(this,"highlightDebounceMs",300);this.view=e,this.cellId=n,this.scheduleHighlighting=e2(()=>{this.runHighlighting()},this.highlightDebounceMs),this.variablesUnsubscribe=ut.sub(ma,()=>{this.scheduleHighlighting()}),this.scheduleHighlighting()}update(e){(e.docChanged||e.focusChanged)&&this.scheduleHighlighting()}destroy(){this.scheduleHighlighting.cancel(),this.variablesUnsubscribe()}runHighlighting(){let e=ek({state:this.view.state,cellId:this.cellId,variables:ut.get(ma)});e.length>0&&Oe.debug(`Found ${e.length} reactive variables in cell ${this.cellId}`),queueMicrotask(()=>{this.view.dispatch({effects:k0.of(e)})})}};Uu=yu.define({create(){return{decorations:Ri.none,ranges:[]}},update(e,n){let i={decorations:e.decorations.map(n.changes),ranges:e.ranges};for(let o of n.effects)o.is(k0)&&(i={decorations:Ri.set(o.value.map(s=>ik.range(s.from,s.to))),ranges:o.value});return i},provide:e=>Tn.decorations.from(e,n=>n.decorations)});function ok(e){return[Uu,io.define(n=>new ak(n,e))]}v_=function(e,n){return n?ok(e):[]};function C0(e,n=!1){if(!e)return null;let i=document.createElement("span");if(i.classList.add("mo-cm-tooltip"),i.classList.add("docs-documentation"),n&&i.classList.add("cm-tooltip-section"),i.style.display="flex",i.style.flexDirection="column",i.style.gap=".8rem",i.innerHTML=e,n){let o=document.createElement("div");o.classList.add("text-xs","text-muted-foreground","font-medium","pt-1","-mt-2","border-t","border-border");let s=document.createElement("kbd");s.className="ml-1 rounded-md bg-muted/40 px-2 text-[0.75rem] font-prose center border border-foreground/20 text-muted-foreground inline whitespace-nowrap",s.textContent=WT()?"\u2318":"Ctrl",o.append(document.createTextNode("Jump to defining cell ")),o.append(s),o.append(document.createTextNode(" + Click")),i.append(o)}return i}Gu=new wu("autocomplete-result",async(e,n)=>{let{sendCodeCompletionRequest:i}=Di();await i({id:e,...n})});var sk={param:3,property:2};const Dd={asCompletionResult(e,n){return{from:e-n.prefix_length,options:n.options.map(i=>({label:i.name,type:i.type,boost:sk[i.type]??1,info:()=>C0(i.completion_info)})),validFor:/^\w*$/}},asHoverTooltip({position:e,message:n,limitToType:i,excludeTypes:o,exactName:s,showGoToDefinitionHint:c=!1}){let d=lk(n.options,s);if(!d)return;let p=e-n.prefix_length,m=C0(d.completion_info,c);if(m&&!(i&&d.type!==i)&&!(o!=null&&o.includes(d.type)))return{pos:p,html:d.completion_info,end:p+d.name.length,above:!0,create:()=>({dom:m,resize:!1})}}};function lk(e,n){if(e.length!==0){if(e.length===1)return e[0];if(n)return e.find(i=>i.name===n)}}g_=function(e){var n;return[(n=e==null?void 0:e.pylsp)!=null&&n.enabled&&Ul("pylsp")?[]:h2(async(i,o)=>{let s=await S0({view:i,pos:o,excludeTypes:["tooltip"]});return s===null||s==="cancelled"?null:s},{hideOnChange:!0}),dk]};async function S0({view:e,pos:n,excludeTypes:i}){var _;let o=dr.findElement(e.dom);if(!o)return Oe.error("Failed to find active cell."),null;let s=dr.parse(o.id),{startToken:c,endToken:d}=E0(e.state.doc,n),p=((_=e.state.field(Uu,!1))==null?void 0:_.ranges.some(w=>n>=w.from&&n<=w.to))??!1,m=await Gu.request({document:e.state.doc.slice(0,d).toString(),cellId:s});if(!m)return"cancelled";let v=e.state.doc.slice(c,d).toString();return Dd.asHoverTooltip({position:d,message:m,exactName:v,excludeTypes:i,showGoToDefinitionHint:p})??null}function E0(e,n){let i=n,o=n;for(;i>0;){let s=e.sliceString(i-1,i);if(!/\w/.test(s))break;i--}for(;o<e.length;){let s=e.sliceString(o,o+1);if(!/\w/.test(s))break;o++}return{startToken:i,endToken:o}}function ck(e){let{head:n}=e.selection.main,i=e.doc.sliceString(n-1,n);return/\w/.test(i)}var uk=e2(async(e,n)=>{if(ut.get(Ku).selectedPanel!=="documentation")return;let i=await S0({view:e,pos:n});i!=="cancelled"&&ut.set(Zu,{documentation:(i==null?void 0:i.html)??null})},300),dk=Tn.updateListener.of(e=>{if(e.selectionSet&&ck(e.state)){let n=e.state.selection.main.head;uk(e.view,n)}});function T0(e,n){e.focus(),requestAnimationFrame(()=>{e.dispatch({selection:{anchor:n,head:n},effects:Tn.scrollIntoView(n,{y:"center"})})})}td=function(e,n){let{state:i}=e,o=l2(i),s=!1,c=0;return o.iterate({enter:d=>{if(s)return!1;if(d.name==="VariableName"&&i.doc.sliceString(d.from,d.to)===n)return c=d.from,s=!0,!1;if(d.name==="Comment"||d.name==="String")return!1}}),s?(T0(e,c),!0):!1};function fk(e,n){return T0(e,e.state.doc.line(n).from),!0}function pk(e){let{from:n,to:i}=e.selection.main;if(n===i){let{startToken:o,endToken:s}=E0(e.doc,n);return e.doc.sliceString(o,s)}return e.doc.sliceString(n,i)}function hk(e,n){if(!n)return null;let i=e[n];return!i||i.declaredBy.length===0?null:i.declaredBy[0]}function mk(e){return e.startsWith("_")}em=function(e){let{state:n}=e,i=pk(n);return i?(_2(e),e.dispatch({effects:eR}),Hh(e,i)):!1},Hh=function(e,n){let i=gk(e,n);return i?td(i,n):!1},R_=function(e,n){let i=R0(e);return i?fk(i,n):!1};function gk(e,n){if(mk(n))return e;let i=hk(ut.get(ma),n);return i?R0(i):null}function R0(e){var n;return((n=ut.get(ht).cellHandles[e].current)==null?void 0:n.editorView)??null}function yk(e){var n=e.Pos;function i(u,h,y){if(h.line===y.line&&h.ch>=y.ch-1){var b=u.getLine(h.line).charCodeAt(h.ch);55296<=b&&b<=55551&&(y.ch+=1)}return{start:h,end:y}}var o=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<register>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"g?",type:"operator",operator:"rot13"},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<register>",type:"action",action:"replayMacro"},{keys:"q<register>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<register>",type:"action",action:"setMark"},{keys:'"<register>',type:"action",action:"setRegister"},{keys:"<C-r><register>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<register>",type:"motion",motion:"textObjectManipulation"},{keys:"i<register>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],s=Object.create(null),c=o.length,d=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"marks",excludeFromCommandHistory:!0},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}],p=gn("");function m(u){u.setOption("disableInput",!0),u.setOption("showCursorWhenSelecting",!1),e.signal(u,"vim-mode-change",{mode:"normal"}),u.on("cursorActivity",js),le(u),e.on(u.getInputField(),"paste",_(u))}function v(u){u.setOption("disableInput",!1),u.off("cursorActivity",js),e.off(u.getInputField(),"paste",_(u)),u.state.vim=null,Vi&&clearTimeout(Vi)}function _(u){var h=u.state.vim;return h.onPasteFn||(h.onPasteFn=function(){h.insertMode||(u.setCursor(Ct(u.getCursor(),0,1)),Vt.enterInsertMode(u,{},h))}),h.onPasteFn}var w=/[\d]/,C=[e.isWordChar,function(u){return u&&!e.isWordChar(u)&&!/\s/.test(u)}],E=[function(u){return/\S/.test(u)}],R=["<",">"],M=["-",'"',".",":","_","/","+"],H=/^\w$/,W=/^[A-Z]$/;try{W=RegExp("^[\\p{Lu}]$","u")}catch{}function U(u,h){return h>=u.firstLine()&&h<=u.lastLine()}function I(u){return/^[a-z]$/.test(u)}function G(u){return"()[]{}".indexOf(u)!=-1}function me(u){return w.test(u)}function N(u){return W.test(u)}function q(u){return/^\s*$/.test(u)}function V(u){return".?!".indexOf(u)!=-1}function de(u,h){for(var y=0;y<h.length;y++)if(h[y]==u)return!0;return!1}var fe={};function xe(u,h,y,b,x){if(h===void 0&&!x)throw Error("defaultValue is required unless callback is provided");if(y||(y="string"),fe[u]={type:y,defaultValue:h,callback:x},b)for(var k=0;k<b.length;k++)fe[b[k]]=fe[u];h&&Z(u,h)}function Z(u,h,y,b){var x=fe[u];b||(b={});var k=b.scope;if(!x)return Error("Unknown option: "+u);if(x.type=="boolean"){if(h&&h!==!0)return Error("Invalid argument: "+u+"="+h);h!==!1&&(h=!0)}x.callback?(k!=="local"&&x.callback(h,void 0),k!=="global"&&y&&x.callback(h,y)):(k!=="local"&&(x.value=x.type=="boolean"?!!h:h),k!=="global"&&y&&(y.state.vim.options[u]={value:h}))}function be(u,h,y){var b=fe[u];y||(y={});var x=y.scope;if(!b)return Error("Unknown option: "+u);if(b.callback){let k=h&&b.callback(void 0,h);return x!=="global"&&k!==void 0?k:x==="local"?void 0:b.callback()}else return(x!=="global"&&h&&h.state.vim.options[u]||x!=="local"&&b||{}).value}xe("filetype",void 0,"string",["ft"],function(u,h){if(h!==void 0)if(u===void 0){let y=h.getOption("mode");return y=="null"?"":y}else{let y=u==""?"null":u;h.setOption("mode",y)}}),xe("textwidth",80,"number",["tw"],function(u,h){if(h!==void 0){if(u===void 0)return h.getOption("textwidth");var y=Math.round(u);y>1&&h.setOption("textwidth",y)}});var Se=function(){var u=100,h=-1,y=0,b=0,x=Array(u);function k(L,z,A){var oe=x[h%u];function re(X){var _e=++h%u,we=x[_e];we&&we.clear(),x[_e]=L.setBookmark(X)}if(oe){var J=oe.find();J&&!$t(J,z)&&re(z)}else re(z);re(A),y=h,b=h-u+1,b<0&&(b=0)}function T(L,z){h+=z,h>y?h=y:h<b&&(h=b);var A=x[(u+h)%u];if(A&&!A.find()){var oe=z>0?1:-1,re,J=L.getCursor();do if(h+=oe,A=x[(u+h)%u],A&&(re=A.find())&&!$t(J,re))break;while(h<y&&h>b)}return A}function O(L,z){var A=h,oe=T(L,z);return h=A,oe&&oe.find()}return{cachedCursor:void 0,add:k,find:O,move:T}},ne=function(u){return u?{changes:u.changes,expectCursorActivityForChange:u.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};class ie{constructor(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=ne()}exitMacroRecordMode(){var h=K.macroModeState;h.onRecordingDone&&h.onRecordingDone(),h.onRecordingDone=void 0,h.isRecording=!1}enterMacroRecordMode(h,y){var b=K.registerController.getRegister(y);if(b){if(b.clear(),this.latestRegister=y,h.openDialog){var x=nr("span",{class:"cm-vim-message"},"recording @"+y);this.onRecordingDone=h.openDialog(x,function(){},{bottom:!0})}this.isRecording=!0}}}function le(u){return u.state.vim||(u.state.vim={inputState:new Yn,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:void 0,sel:{anchor:new n(0,0),head:new n(0,0)},options:{},expectLiteralNext:!1,status:""}),u.state.vim}var K;function Ne(){for(var u in K={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Se(),macroModeState:new ie,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new In({}),searchHistoryController:new Nr,exCommandHistoryController:new Nr},fe){var h=fe[u];h.value=h.defaultValue}}class Ue{constructor(h,y){this.keyName=h,this.key=y.key,this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.metaKey=y.metaKey,this.shiftKey=y.shiftKey}}var ot,ze={enterVimMode:m,leaveVimMode:v,buildKeyMap:function(){},getRegisterController:function(){return K.registerController},resetVimGlobalState_:Ne,getVimGlobalState_:function(){return K},maybeInitVimState_:le,suppressErrorLogging:!1,InsertModeKey:Ue,map:function(u,h,y){Jt.map(u,h,y)},unmap:function(u,h){return Jt.unmap(u,h)},noremap:function(u,h,y){Jt.map(u,h,y,!0)},mapclear:function(u){var h=o.length,y=c,b=o.slice(0,h-y);if(o=o.slice(h-y),u)for(var x=b.length-1;x>=0;x--){var k=b[x];if(u!==k.context)if(k.context)this._mapCommand(k);else{var T=["normal","insert","visual"];for(var O in T)if(T[O]!==u){var L=Object.assign({},k);L.context=T[O],this._mapCommand(L)}}}},langmap:gt,vimKeyFromEvent:nn,setOption:Z,getOption:be,defineOption:xe,defineEx:function(u,h,y){if(!h)h=u;else if(u.indexOf(h)!==0)throw Error('(Vim.defineEx) "'+h+'" is not a prefix of "'+u+'", command not registered');Oo[u]=y,Jt.commandMap_[h]={name:u,shortName:h,type:"api"}},handleKey:function(u,h,y){var b=this.findKey(u,h,y);if(typeof b=="function")return b()},multiSelectHandleKey:qa,findKey:function(u,h,y){var b=le(u),x=u;function k(){var A=K.macroModeState;if(A.isRecording){if(h=="q")return A.exitMacroRecordMode(),kt(x),!0;y!="mapping"&&La(A,h)}}function T(){if(h=="<Esc>"){if(b.visualMode)Je(x);else if(b.insertMode)Ir(x);else return;return kt(x),!0}}function O(){if(T())return!0;b.inputState.keyBuffer.push(h);var A=b.inputState.keyBuffer.join(""),oe=h.length==1,re=An.matchCommand(A,o,b.inputState,"insert"),J=b.inputState.changeQueue;if(re.type=="none")return kt(x),!1;if(re.type=="partial"){if(re.expectLiteralNext&&(b.expectLiteralNext=!0),ot&&window.clearTimeout(ot),ot=oe&&window.setTimeout(function(){b.insertMode&&b.inputState.keyBuffer.length&&kt(x)},be("insertModeEscKeysTimeout")),oe){var X=x.listSelections();(!J||J.removed.length!=X.length)&&(J=b.inputState.changeQueue=new si),J.inserted+=h;for(var _e=0;_e<X.length;_e++){var we=vt(X[_e].anchor,X[_e].head),qe=On(X[_e].anchor,X[_e].head),Ee=x.getRange(we,x.state.overwrite?Ct(qe,0,1):qe);J.removed[_e]=(J.removed[_e]||"")+Ee}}return!oe}else re.type=="full"&&(b.inputState.keyBuffer.length=0);if(b.expectLiteralNext=!1,ot&&window.clearTimeout(ot),re.command&&J){for(var X=x.listSelections(),_e=0;_e<X.length;_e++){var Ae=X[_e].head;x.replaceRange(J.removed[_e]||"",Ct(Ae,0,-J.inserted.length),Ae,"+input")}K.macroModeState.lastInsertModeChanges.changes.pop()}return re.command||kt(x),re.command}function L(){if(k()||T())return!0;b.inputState.keyBuffer.push(h);var A=b.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(A))return!0;var oe=/^(\d*)(.*)$/.exec(A);if(!oe)return kt(x),!1;var re=b.visualMode?"visual":"normal",J=oe[2]||oe[1];b.inputState.operatorShortcut&&b.inputState.operatorShortcut.slice(-1)==J&&(J=b.inputState.operatorShortcut);var X=An.matchCommand(J,o,b.inputState,re);return X.type=="none"?(kt(x),!1):X.type=="partial"?(X.expectLiteralNext&&(b.expectLiteralNext=!0),!0):X.type=="clear"?(kt(x),!0):(b.expectLiteralNext=!1,b.inputState.keyBuffer.length=0,oe=/^(\d*)(.*)$/.exec(A),oe&&oe[1]&&oe[1]!="0"&&b.inputState.pushRepeatDigit(oe[1]),X.command)}var z=b.insertMode?O():L();if(z===!1)return!b.insertMode&&(h.length===1||e.isMac&&/<A-.>/.test(h))?function(){return!0}:void 0;if(z===!0)return function(){return!0};if(z)return function(){return x.operation(function(){x.curOp.isVimOp=!0;try{if(typeof z!="object")return;z.type=="keyToKey"?qt(x,z.toKeys,z):An.processCommand(x,b,z)}catch(A){throw x.state.vim=void 0,le(x),ze.suppressErrorLogging||console.log(A),A}return!0})}},handleEx:function(u,h){Jt.processCommand(u,h)},defineMotion:Bi,defineAction:Gt,defineOperator:li,mapCommand:Ar,_mapCommand:Pa,defineRegister:vn,exitVisualMode:Je,exitInsertMode:Ir},He=[],De=!1,Le;function mn(u){if(!Le)throw Error("No prompt to send key to");if(u[0]=="<"){var h=u.toLowerCase().slice(1,-1);if(h=h.split("-").pop()||"",h=="lt")u="<";else if(h=="space")u=" ";else if(h=="cr")u=`
`;else if(Ke[h]){var y=Le.value||"",b={key:Ke[h],target:{value:y,selectionEnd:y.length,selectionStart:y.length}};Le.onKeyDown&&Le.onKeyDown(b,Le.value,k),Le&&Le.onKeyUp&&Le.onKeyUp(b,Le.value,k);return}}if(u==`
`){var x=Le;Le=null,x.onClose&&x.onClose(x.value)}else Le.value=(Le.value||"")+u;function k(T){Le&&(typeof T=="string"?Le.value=T:Le=null)}}function qt(u,h,y){var b=De;if(y){if(He.indexOf(y)!=-1)return;He.push(y),De=y.noremap!=0}try{for(var x=le(u),k=/<(?:[CSMA]-)*\w+>|./gi,T;T=k.exec(h);){var O=T[0],L=x.insertMode;if(Le){mn(O);continue}if(!ze.handleKey(u,O,"mapping")&&L&&x.insertMode){if(O[0]=="<"){var z=O.toLowerCase().slice(1,-1);if(z=z.split("-").pop()||"",z=="lt")O="<";else if(z=="space")O=" ";else if(z=="cr")O=`
`;else if(Ke.hasOwnProperty(z)){O=Ke[z],kn(u,O);continue}else O=O[0],k.lastIndex=T.index+1}u.replaceSelection(O)}}}finally{if(He.pop(),De=He.length?b:!1,!He.length&&Le){var A=Le;Le=null,Da(u,A)}}}var Dn={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},ln={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1},Ke={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(Dn)).forEach(function(u){Ke[(Dn[u]||"").toLowerCase()]=Ke[u.toLowerCase()]=u});function nn(u,h){var k;var y=u.key;if(!ln[y]){y.length>1&&y[0]=="n"&&(y=y.replace("Numpad","")),y=Dn[y]||y;var b="";if(u.ctrlKey&&(b+="C-"),u.altKey&&(b+="A-"),u.metaKey&&(b+="M-"),e.isMac&&b=="A-"&&y.length==1&&(b=b.slice(2)),(b||y.length>1)&&u.shiftKey&&(b+="S-"),h&&!h.expectLiteralNext&&y.length==1){if(p.keymap&&y in p.keymap)(p.remapCtrl!=0||!b)&&(y=p.keymap[y]);else if(y.charCodeAt(0)>128&&!s[y]){var x=((k=u.code)==null?void 0:k.slice(-1))||"";u.shiftKey||(x=x.toLowerCase()),x&&(y=x,!b&&u.altKey&&(b="A-"))}}return b+=y,b.length>1&&(b="<"+b+">"),b}}function gt(u,h){p.string!==u&&(p=gn(u)),p.remapCtrl=h}function gn(u){let h={};if(!u)return{keymap:h,string:""};function y(b){return b.split(/\\?(.)/).filter(Boolean)}return u.split(/((?:[^\\,]|\\.)+),/).map(b=>{if(!b)return;let x=b.split(/((?:[^\\;]|\\.)+);/);if(x.length==3){let k=y(x[1]),T=y(x[2]);if(k.length!==T.length)return;for(let O=0;O<k.length;++O)h[k[O]]=T[O]}else if(x.length==1){let k=y(b);if(k.length%2!=0)return;for(let T=0;T<k.length;T+=2)h[k[T]]=k[T+1]}}),{keymap:h,string:u}}xe("langmap",void 0,"string",["lmap"],function(u,h){if(u===void 0)return p.string;gt(u)});class Yn{constructor(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=void 0,this.changeQueue=null}pushRepeatDigit(h){this.operator?this.motionRepeat=this.motionRepeat.concat(h):this.prefixRepeat=this.prefixRepeat.concat(h)}getRepeat(){var h=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(h=1,this.prefixRepeat.length>0&&(h*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(h*=parseInt(this.motionRepeat.join(""),10))),h}}function kt(u,h){u.state.vim.inputState=new Yn,u.state.vim.expectLiteralNext=!1,e.signal(u,"vim-command-done",h)}function si(){this.removed=[],this.inserted=""}class yn{constructor(h,y,b){this.clear(),this.keyBuffer=[h||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!y,this.blockwise=!!b}setText(h,y,b){this.keyBuffer=[h||""],this.linewise=!!y,this.blockwise=!!b}pushText(h,y){y&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(h)}pushInsertModeChanges(h){this.insertModeChanges.push(ne(h))}pushSearchQuery(h){this.searchQueries.push(h)}clear(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1}toString(){return this.keyBuffer.join("")}}function vn(u,h){var y=K.registerController.registers;if(!u||u.length!=1)throw Error("Register name must be 1 character");if(y[u])throw Error("Register already defined "+u);y[u]=h,M.push(u)}class In{constructor(h){this.registers=h,this.unnamedRegister=h['"']=new yn,h["."]=new yn,h[":"]=new yn,h["/"]=new yn,h["+"]=new yn}pushText(h,y,b,x,k){if(h!=="_"){x&&b.charAt(b.length-1)!==`
`&&(b+=`
`);var T=this.isValidRegister(h)?this.getRegister(h):null;if(!T||!h){switch(y){case"yank":this.registers[0]=new yn(b,x,k);break;case"delete":case"change":b.indexOf(`
`)==-1?this.registers["-"]=new yn(b,x):(this.shiftNumericRegisters_(),this.registers[1]=new yn(b,x));break}this.unnamedRegister.setText(b,x,k);return}N(h)?T.pushText(b,x):T.setText(b,x,k),h==="+"&&navigator.clipboard.writeText(b),this.unnamedRegister.setText(T.toString(),x)}}getRegister(h){return this.isValidRegister(h)?(h=h.toLowerCase(),this.registers[h]||(this.registers[h]=new yn),this.registers[h]):this.unnamedRegister}isValidRegister(h){return h&&(de(h,M)||H.test(h))}shiftNumericRegisters_(){for(var h=9;h>=2;h--)this.registers[h]=this.getRegister(""+(h-1))}}class Nr{constructor(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}nextMatch(h,y){var b=this.historyBuffer,x=y?-1:1;this.initialPrefix===null&&(this.initialPrefix=h);for(var k=this.iterator+x;y?k>=0:k<b.length;k+=x)for(var T=b[k],O=0;O<=T.length;O++)if(this.initialPrefix==T.substring(0,O))return this.iterator=k,T;if(k>=b.length)return this.iterator=b.length,this.initialPrefix;if(k<0)return h}pushInput(h){var y=this.historyBuffer.indexOf(h);y>-1&&this.historyBuffer.splice(y,1),h.length&&this.historyBuffer.push(h)}reset(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}}var An={matchCommand:function(u,h,y,b){var x=ci(u,h,b,y),k=x.full[0];if(!k)return x.partial.length?{type:"partial",expectLiteralNext:x.partial.length==1&&x.partial[0].keys.slice(-11)=="<character>"}:{type:"none"};if(k.keys.slice(-11)=="<character>"||k.keys.slice(-10)=="<register>"){var T=Mr(u);if(!T||T.length>1)return{type:"clear"};y.selectedCharacter=T}return{type:"full",command:k}},processCommand:function(u,h,y){switch(h.inputState.repeatOverride=y.repeatOverride,y.type){case"motion":this.processMotion(u,h,y);break;case"operator":this.processOperator(u,h,y);break;case"operatorMotion":this.processOperatorMotion(u,h,y);break;case"action":this.processAction(u,h,y);break;case"search":this.processSearch(u,h,y);break;case"ex":case"keyToEx":this.processEx(u,h,y);break}},processMotion:function(u,h,y){h.inputState.motion=y.motion,h.inputState.motionArgs=Bt(y.motionArgs),this.evalInput(u,h)},processOperator:function(u,h,y){var b=h.inputState;if(b.operator)if(b.operator==y.operator){b.motion="expandToLine",b.motionArgs={linewise:!0,repeat:1},this.evalInput(u,h);return}else kt(u);b.operator=y.operator,b.operatorArgs=Bt(y.operatorArgs),y.keys.length>1&&(b.operatorShortcut=y.keys),y.exitVisualBlock&&(h.visualBlock=!1,bt(u)),h.visualMode&&this.evalInput(u,h)},processOperatorMotion:function(u,h,y){var b=h.visualMode,x=Bt(y.operatorMotionArgs);x&&b&&x.visualLine&&(h.visualLine=!0),this.processOperator(u,h,y),b||this.processMotion(u,h,y)},processAction:function(u,h,y){var b=h.inputState,x=b.getRepeat(),k=!!x,T=Bt(y.actionArgs)||{repeat:1};b.selectedCharacter&&(T.selectedCharacter=b.selectedCharacter),y.operator&&this.processOperator(u,h,y),y.motion&&this.processMotion(u,h,y),(y.motion||y.operator)&&this.evalInput(u,h),T.repeat=x||1,T.repeatIsExplicit=k,T.registerName=b.registerName,kt(u),h.lastMotion=null,y.isEdit&&this.recordLastEdit(h,b,y),Vt[y.action](u,T,h)},processSearch:function(u,h,y){if(!u.getSearchCursor)return;var b=y.searchArgs.forward,x=y.searchArgs.wholeWordOnly;bn(u).setReversed(!b);var k=b?"/":"?",T=bn(u).getQuery(),O=u.getScrollInfo(),L="";function z(Ee,Ae,ct){K.searchHistoryController.pushInput(Ee),K.searchHistoryController.reset();try{gr(u,Ee,Ae,ct)}catch{$e(u,"Invalid regex: "+Ee),kt(u);return}An.processMotion(u,h,{keys:"",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:y.searchArgs.toJumplist}})}function A(Ee){u.scrollTo(O.left,O.top),z(Ee,!0,!0);var Ae=K.macroModeState;Ae.isRecording&&qs(Ae,Ee)}function oe(){return be("pcre")?"(JavaScript regexp: set pcre)":"(Vim regexp: set nopcre)"}function re(Ee,Ae,ct){var Xe=nn(Ee),Ot,Pt;Xe=="<Up>"||Xe=="<Down>"?(Ot=Xe=="<Up>",Pt=Ee.target?Ee.target.selectionEnd:0,Ae=K.searchHistoryController.nextMatch(Ae,Ot)||"",ct(Ae),Pt&&Ee.target&&(Ee.target.selectionEnd=Ee.target.selectionStart=Math.min(Pt,Ee.target.value.length))):Xe&&Xe!="<Left>"&&Xe!="<Right>"&&K.searchHistoryController.reset(),L=Ae,J()}function J(){var Ee;try{Ee=gr(u,L,!0,!0)}catch{}Ee?u.scrollIntoView(cc(u,!b,Ee),30):(fi(u),u.scrollTo(O.left,O.top))}function X(Ee,Ae,ct){var Xe=nn(Ee);Xe=="<Esc>"||Xe=="<C-c>"||Xe=="<C-[>"||Xe=="<BS>"&&Ae==""?(K.searchHistoryController.pushInput(Ae),K.searchHistoryController.reset(),gr(u,(T==null?void 0:T.source)||""),fi(u),u.scrollTo(O.left,O.top),e.e_stop(Ee),kt(u),ct(),u.focus()):Xe=="<Up>"||Xe=="<Down>"?e.e_stop(Ee):Xe=="<C-u>"&&(e.e_stop(Ee),ct(""))}switch(y.searchArgs.querySrc){case"prompt":var _e=K.macroModeState;_e.isPlaying?z(_e.replaySearchQueries.shift()||"",!0,!1):Da(u,{onClose:A,prefix:k,desc:nr("span",{$cursor:"pointer",onmousedown:function(Ae){Ae.preventDefault(),Z("pcre",!be("pcre")),this.textContent=oe(),J()}},oe()),onKeyUp:re,onKeyDown:X});break;case"wordUnderCursor":var we=Ce(u,{noSymbol:!0}),qe=!0;if(we||(we=Ce(u,{noSymbol:!1}),qe=!1),!we){$e(u,"No word under cursor"),kt(u);return}let Ee=u.getLine(we.start.line).substring(we.start.ch,we.end.ch);Ee=qe&&x?"\\b"+Ee+"\\b":Kr(Ee),K.jumpList.cachedCursor=u.getCursor(),u.setCursor(we.start),z(Ee,!0,!1);break}},processEx:function(u,h,y){function b(O){K.exCommandHistoryController.pushInput(O),K.exCommandHistoryController.reset(),Jt.processCommand(u,O),u.state.vim&&kt(u),fi(u)}function x(O,L,z){var A=nn(O),oe,re;(A=="<Esc>"||A=="<C-c>"||A=="<C-[>"||A=="<BS>"&&L=="")&&(K.exCommandHistoryController.pushInput(L),K.exCommandHistoryController.reset(),e.e_stop(O),kt(u),fi(u),z(),u.focus()),A=="<Up>"||A=="<Down>"?(e.e_stop(O),oe=A=="<Up>",re=O.target?O.target.selectionEnd:0,L=K.exCommandHistoryController.nextMatch(L,oe)||"",z(L),re&&O.target&&(O.target.selectionEnd=O.target.selectionStart=Math.min(re,O.target.value.length))):A=="<C-u>"?(e.e_stop(O),z("")):A&&A!="<Left>"&&A!="<Right>"&&K.exCommandHistoryController.reset()}function k(O,L){var z=new e.StringStream(L),A={};try{if(Jt.parseInput_(u,z,A),A.commandName!="s"){fi(u);return}var oe=Jt.matchCommand_(A.commandName);if(!oe||(Jt.parseCommandArgs_(z,A,oe),!A.argString))return;var re=Ra(A.argString.slice(1),!0,!0);re&&Gr(u,re)}catch{}}if(y.type=="keyToEx")Jt.processCommand(u,y.exArgs.input);else{var T={onClose:b,onKeyDown:x,onKeyUp:k,prefix:":"};h.visualMode&&(T.value="'<,'>",T.selectValueOnOpen=!1),Da(u,T)}},evalInput:function(u,h){var y=h.inputState,b=y.motion,x=y.motionArgs||{repeat:1},k=y.operator,T=y.operatorArgs||{},O=y.registerName,L=h.sel,z=Ge(h.visualMode?yt(u,L.head):u.getCursor("head")),A=Ge(h.visualMode?yt(u,L.anchor):u.getCursor("anchor")),oe=Ge(z),re=Ge(A),J,X,_e;if(k&&this.recordLastEdit(h,y),_e=y.repeatOverride===void 0?y.getRepeat():y.repeatOverride,_e>0&&x.explicitRepeat?x.repeatIsExplicit=!0:(x.noRepeat||!x.explicitRepeat&&_e===0)&&(_e=1,x.repeatIsExplicit=!1),y.selectedCharacter&&(x.selectedCharacter=T.selectedCharacter=y.selectedCharacter),x.repeat=_e,kt(u),b){var we=rn[b](u,z,x,h,y);if(h.lastMotion=rn[b],!we)return;if(x.toJumplist){var qe=K.jumpList,Ee=qe.cachedCursor;Ee?(tt(u,Ee,we),delete qe.cachedCursor):tt(u,z,we)}we instanceof Array?(X=we[0],J=we[1]):J=we,J||(J=Ge(z)),h.visualMode?(h.visualBlock&&J.ch===1/0||(J=yt(u,J,oe)),X&&(X=yt(u,X)),X||(X=re),L.anchor=X,L.head=J,bt(u),hr(u,h,"<",lt(X,J)?X:J),hr(u,h,">",lt(X,J)?J:X)):k||(J=yt(u,J,oe),u.setCursor(J.line,J.ch))}if(k){if(T.lastSel){X=re;var Ae=T.lastSel,ct=Math.abs(Ae.head.line-Ae.anchor.line),Xe=Math.abs(Ae.head.ch-Ae.anchor.ch);J=Ae.visualLine?new n(re.line+ct,re.ch):Ae.visualBlock?new n(re.line+ct,re.ch+Xe):Ae.head.line==Ae.anchor.line?new n(re.line,re.ch+Xe):new n(re.line+ct,re.ch),h.visualMode=!0,h.visualLine=Ae.visualLine,h.visualBlock=Ae.visualBlock,L=h.sel={anchor:X,head:J},bt(u)}else h.visualMode&&(T.lastSel={anchor:Ge(L.anchor),head:Ge(L.head),visualBlock:h.visualBlock,visualLine:h.visualLine});var Ot,Pt,Fe,Qe,Xt;if(h.visualMode){Ot=vt(L.head,L.anchor),Pt=On(L.head,L.anchor),Fe=h.visualLine||T.linewise,Qe=h.visualBlock?"block":Fe?"line":"char";var Yt=i(u,Ot,Pt);if(Xt=jt(u,{anchor:Yt.start,head:Yt.end},Qe),Fe){var cn=Xt.ranges;if(Qe=="block")for(var ja=0;ja<cn.length;ja++)cn[ja].head.ch=St(u,cn[ja].head.line);else Qe=="line"&&(cn[0].head=new n(cn[0].head.line+1,0))}}else{if(Ot=Ge(X||re),Pt=Ge(J||oe),lt(Pt,Ot)){var fc=Ot;Ot=Pt,Pt=fc}Fe=x.linewise||T.linewise,Fe?ee(u,Ot,Pt):x.forward&&j(u,Ot,Pt),Qe="char";var Ui=!x.inclusive||Fe,Yt=i(u,Ot,Pt);Xt=jt(u,{anchor:Yt.start,head:Yt.end},Qe,Ui)}u.setSelections(Xt.ranges,Xt.primary),h.lastMotion=null,T.repeat=_e,T.registerName=O,T.linewise=Fe;var Fs=Lr[k](u,T,Xt.ranges,re,J);h.visualMode&&Je(u,Fs!=null),Fs&&u.setCursor(Fs)}},recordLastEdit:function(u,h,y){var b=K.macroModeState;b.isPlaying||(u.lastEditInputState=h,u.lastEditActionCommand=y,b.lastInsertModeChanges.changes=[],b.lastInsertModeChanges.expectCursorActivityForChange=!1,b.lastInsertModeChanges.visualBlock=u.visualBlock?u.sel.head.line-u.sel.anchor.line:0)}},rn={moveToTopLine:function(u,h,y){var b=Ms(u).top+y.repeat-1;return new n(b,ye(u.getLine(b)))},moveToMiddleLine:function(u){var h=Ms(u),y=Math.floor((h.top+h.bottom)*.5);return new n(y,ye(u.getLine(y)))},moveToBottomLine:function(u,h,y){var b=Ms(u).bottom-y.repeat+1;return new n(b,ye(u.getLine(b)))},expandToLine:function(u,h,y){return new n(h.line+y.repeat-1,1/0)},findNext:function(u,h,y){var b=bn(u),x=b.getQuery();if(x){var k=!y.forward;k=b.isReversed()?!k:k,Gr(u,x);var T=cc(u,k,x,y.repeat);return T||$e(u,"No match found "+x+(be("pcre")?" (set nopcre to use Vim regexps)":"")),T}},findAndSelectNextInclusive:function(u,h,y,b,x){var k=bn(u),T=k.getQuery();if(T){var O=!y.forward;O=k.isReversed()?!O:O;var L=uc(u,O,T,y.repeat,b);if(L){if(x.operator)return L;var z=L[0],A=new n(L[1].line,L[1].ch-1);if(b.visualMode){(b.visualLine||b.visualBlock)&&(b.visualLine=!1,b.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""}));var oe=b.sel.anchor;if(oe)return k.isReversed()?y.forward?[oe,z]:[oe,A]:y.forward?[oe,A]:[oe,z]}else b.visualMode=!0,b.visualLine=!1,b.visualBlock=!1,e.signal(u,"vim-mode-change",{mode:"visual",subMode:""});return O?[A,z]:[z,A]}}},goToMark:function(u,h,y,b){var x=Do(u,b,y.selectedCharacter||"");return x?y.linewise?{line:x.line,ch:ye(u.getLine(x.line))}:x:null},moveToOtherHighlightedEnd:function(u,h,y,b){var x=b.sel;return b.visualBlock&&y.sameLine?[yt(u,new n(x.anchor.line,x.head.ch)),yt(u,new n(x.head.line,x.anchor.ch))]:[x.head,x.anchor]},jumpToMark:function(u,h,y,b){for(var x=h,k=0;k<y.repeat;k++){var T=x;for(var O in b.marks)if(I(O)){var L=b.marks[O].find();if(!(y.forward?lt(L,T):lt(T,L))&&!(y.linewise&&L.line==T.line)){var z=$t(T,x),A=y.forward?Ur(T,L,x):Ur(x,L,T);(z||A)&&(x=L)}}}return y.linewise&&(x=new n(x.line,ye(u.getLine(x.line)))),x},moveByCharacters:function(u,h,y){var b=h,x=y.repeat,k=y.forward?b.ch+x:b.ch-x;return new n(b.line,k)},moveByLines:function(u,h,y,b){var x=h,k=x.ch;switch(b.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:k=b.lastHPos;break;default:b.lastHPos=k}var T=y.repeat+(y.repeatOffset||0),O=y.forward?x.line+T:x.line-T,L=u.firstLine(),z=u.lastLine(),A=u.findPosV(x,y.forward?T:-T,"line",b.lastHSPos);return(y.forward?A.line>O:A.line<O)&&(O=A.line,k=A.ch),O<L&&x.line==L?this.moveToStartOfLine(u,h,y,b):O>z&&x.line==z?Wt(u,h,y,b,!0):(y.toFirstChar&&(k=ye(u.getLine(O)),b.lastHPos=k),b.lastHSPos=u.charCoords(new n(O,k),"div").left,new n(O,k))},moveByDisplayLines:function(u,h,y,b){var x=h;switch(b.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:b.lastHSPos=u.charCoords(x,"div").left}var k=y.repeat,T=u.findPosV(x,y.forward?k:-k,"line",b.lastHSPos);if(T.hitSide)if(y.forward){var O={top:u.charCoords(T,"div").top+8,left:b.lastHSPos};T=u.coordsChar(O,"div")}else{var L=u.charCoords(new n(u.firstLine(),0),"div");L.left=b.lastHSPos,T=u.coordsChar(L,"div")}return b.lastHPos=T.ch,T},moveByPage:function(u,h,y){var b=h,x=y.repeat;return u.findPosV(b,y.forward?x:-x,"page")},moveByParagraph:function(u,h,y){var b=y.forward?1:-1;return ic(u,h,y.repeat,b).start},moveBySentence:function(u,h,y){var b=y.forward?1:-1;return Ro(u,h,y.repeat,b)},moveByScroll:function(u,h,y,b){var x=u.getScrollInfo(),k=null,T=y.repeat;T||(T=x.clientHeight/(2*u.defaultTextHeight()));var O=u.charCoords(h,"local");if(y.repeat=T,k=rn.moveByDisplayLines(u,h,y,b),!k)return null;var L=u.charCoords(k,"local");return u.scrollTo(null,x.top+L.top-O.top),k},moveByWords:function(u,h,y){return mt(u,h,y.repeat,!!y.forward,!!y.wordEnd,!!y.bigWord)},moveTillCharacter:function(u,h,y){var b=y.repeat,x=tr(u,b,y.forward,y.selectedCharacter,h),k=y.forward?-1:1;return it(k,y),x?(x.ch+=k,x):null},moveToCharacter:function(u,h,y){var b=y.repeat;return it(0,y),tr(u,b,y.forward,y.selectedCharacter,h)||h},moveToSymbol:function(u,h,y){var b=y.repeat;return y.selectedCharacter&&Ve(u,b,y.forward,y.selectedCharacter)||h},moveToColumn:function(u,h,y,b){var x=y.repeat;return b.lastHPos=x-1,b.lastHSPos=u.charCoords(h,"div").left,Ss(u,x)},moveToEol:function(u,h,y,b){return Wt(u,h,y,b,!1)},moveToFirstNonWhiteSpaceCharacter:function(u,h){var y=h;return new n(y.line,ye(u.getLine(y.line)))},moveToMatchedSymbol:function(u,h){for(var y=h,b=y.line,x=y.ch,k=u.getLine(b),T;x<k.length;x++)if(T=k.charAt(x),T&&G(T)){var O=u.getTokenTypeAt(new n(b,x+1));if(O!=="string"&&O!=="comment")break}if(x<k.length){var L=T==="<"||T===">"?/[(){}[\]<>]/:/[(){}[\]]/;return u.findMatchingBracket(new n(b,x),{bracketRegex:L}).to}else return y},moveToStartOfLine:function(u,h){return new n(h.line,0)},moveToLineOrEdgeOfDocument:function(u,h,y){var b=y.forward?u.lastLine():u.firstLine();return y.repeatIsExplicit&&(b=y.repeat-u.getOption("firstLineNumber")),new n(b,ye(u.getLine(b)))},moveToStartOfDisplayLine:function(u){return u.execCommand("goLineLeft"),u.getCursor()},moveToEndOfDisplayLine:function(u){u.execCommand("goLineRight");var h=u.getCursor();return h.sticky=="before"&&h.ch--,h},textObjectManipulation:function(u,h,y,b){var x={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},k={"'":!0,'"':!0,"`":!0},T=y.selectedCharacter||"";T=="b"?T="(":T=="B"&&(T="{");var O=!y.textObjectInner,L,z;if(x[T]){if(z=!0,L=mr(u,h,T,O),!L){var A=u.getSearchCursor(RegExp("\\"+T,"g"),h);A.find()&&(L=mr(u,A.from(),T,O))}}else if(k[T])z=!0,L=Es(u,h,T,O);else if(T==="W"||T==="w")for(var oe=y.repeat||1;oe-- >0;){var re=Ce(u,{inclusive:O,innerWord:!O,bigWord:T==="W",noSymbol:T==="W",multiline:!0},L&&L.end);re&&(L||(L=re),L.end=re.end)}else if(T==="p")if(L=ic(u,h,y.repeat,0,O),y.linewise=!0,b.visualMode)b.visualLine||(b.visualLine=!0);else{var J=b.inputState.operatorArgs;J&&(J.linewise=!0),L.end.line--}else if(T==="t")L=ft(u,h,O);else if(T==="s"){var X=u.getLine(h.line);h.ch>0&&V(X[h.ch])&&--h.ch;var _e=Ea(u,h,y.repeat,1,O),we=Ea(u,h,y.repeat,-1,O);q(u.getLine(we.line)[we.ch])&&q(u.getLine(_e.line)[_e.ch-1])&&(we={line:we.line,ch:we.ch+1}),L={start:we,end:_e}}return L?u.state.vim.visualMode?Pn(u,L.start,L.end,z):[L.start,L.end]:null},repeatLastCharacterSearch:function(u,h,y){var b=K.lastCharacterSearch,x=y.repeat,k=y.forward===b.forward,T=(b.increment?1:0)*(k?-1:1);u.moveH(-T,"char"),y.inclusive=!!k;var O=tr(u,x,k,b.selectedCharacter);return O?(O.ch+=T,O):(u.moveH(T,"char"),h)}};function Bi(u,h){rn[u]=h}function Wr(u,h){for(var y=[],b=0;b<h;b++)y.push(u);return y}var Lr={change:function(u,h,y){var b,x,k=u.state.vim,T=y[0].anchor,O=y[0].head;if(k.visualMode)if(h.fullLine)O.ch=Number.MAX_VALUE,O.line--,u.setSelection(T,O),x=u.getSelection(),u.replaceSelection(""),b=T;else{x=u.getSelection();var L=Wr("",y.length);u.replaceSelections(L),b=vt(y[0].head,y[0].anchor)}else{x=u.getRange(T,O);var z=k.lastEditInputState;if((z==null?void 0:z.motion)=="moveByWords"&&!q(x)){var A=/\s+$/.exec(x);A&&z.motionArgs&&z.motionArgs.forward&&(O=Ct(O,0,-A[0].length),x=x.slice(0,-A[0].length))}h.linewise&&(T=new n(T.line,ye(u.getLine(T.line))),O.line>T.line&&(O=new n(O.line-1,Number.MAX_VALUE))),u.replaceRange("",T,O),b=T}K.registerController.pushText(h.registerName,"change",x,h.linewise,y.length>1),Vt.enterInsertMode(u,{head:b},u.state.vim)},delete:function(u,h,y){var b,x,k=u.state.vim;if(k.visualBlock){x=u.getSelection();var T=Wr("",y.length);u.replaceSelections(T),b=vt(y[0].head,y[0].anchor)}else{var O=y[0].anchor,L=y[0].head;h.linewise&&L.line!=u.firstLine()&&O.line==u.lastLine()&&O.line==L.line-1&&(O.line==u.firstLine()?O.ch=0:O=new n(O.line-1,St(u,O.line-1))),x=u.getRange(O,L),u.replaceRange("",O,L),b=O,h.linewise&&(b=rn.moveToFirstNonWhiteSpaceCharacter(u,O))}return K.registerController.pushText(h.registerName,"delete",x,h.linewise,k.visualBlock),yt(u,b)},indent:function(u,h,y){var b=u.state.vim,x=b.visualMode&&h.repeat||1;if(b.visualBlock){for(var k=u.getOption("tabSize"),T=u.getOption("indentWithTabs")?"	":" ".repeat(k),O,L=y.length-1;L>=0;L--)if(O=vt(y[L].anchor,y[L].head),h.indentRight)u.replaceRange(T.repeat(x),O,O);else{for(var z=u.getLine(O.line),A=0,oe=0;oe<x;oe++){var re=z[O.ch+A];if(re=="	")A++;else if(re==" "){A++;for(var J=1;J<T.length&&(re=z[O.ch+A],re===" ");J++)A++}else break}u.replaceRange("",O,Ct(O,0,A))}return O}else if(u.indentMore)for(var oe=0;oe<x;oe++)h.indentRight?u.indentMore():u.indentLess();else{var X=y[0].anchor.line,_e=b.visualBlock?y[y.length-1].anchor.line:y[0].head.line;h.linewise&&_e--;for(var L=X;L<=_e;L++)for(var oe=0;oe<x;oe++)u.indentLine(L,h.indentRight)}return rn.moveToFirstNonWhiteSpaceCharacter(u,y[0].anchor)},indentAuto:function(u,h,y){return u.execCommand("indentAuto"),rn.moveToFirstNonWhiteSpaceCharacter(u,y[0].anchor)},hardWrap:function(u,h,y,b){if(u.hardWrap){var x=y[0].anchor.line,k=y[0].head.line;h.linewise&&k--;var T=u.hardWrap({from:x,to:k});return T>x&&h.linewise&&T--,h.keepCursor?b:new n(T,0)}},changeCase:function(u,h,y,b,x){for(var k=u.getSelections(),T=[],O=h.toLower,L=0;L<k.length;L++){var z=k[L],A="";if(O===!0)A=z.toLowerCase();else if(O===!1)A=z.toUpperCase();else for(var oe=0;oe<z.length;oe++){var re=z.charAt(oe);A+=N(re)?re.toLowerCase():re.toUpperCase()}T.push(A)}return u.replaceSelections(T),h.shouldMoveCursor?x:!u.state.vim.visualMode&&h.linewise&&y[0].anchor.line+1==y[0].head.line?rn.moveToFirstNonWhiteSpaceCharacter(u,b):h.linewise?b:vt(y[0].anchor,y[0].head)},yank:function(u,h,y,b){var x=u.state.vim,k=u.getSelection(),T=x.visualMode?vt(x.sel.anchor,x.sel.head,y[0].head,y[0].anchor):b;return K.registerController.pushText(h.registerName,"yank",k,h.linewise,x.visualBlock),T},rot13:function(u,h,y,b,x){for(var k=u.getSelections(),T=[],O=0;O<k.length;O++){let L=k[O].split("").map(z=>{let A=z.charCodeAt(0);return A>=65&&A<=90?String.fromCharCode(65+(A-65+13)%26):A>=97&&A<=122?String.fromCharCode(97+(A-97+13)%26):z}).join("");T.push(L)}return u.replaceSelections(T),h.shouldMoveCursor?x:!u.state.vim.visualMode&&h.linewise&&y[0].anchor.line+1==y[0].head.line?rn.moveToFirstNonWhiteSpaceCharacter(u,b):h.linewise?b:vt(y[0].anchor,y[0].head)}};function li(u,h){Lr[u]=h}var Vt={jumpListWalk:function(u,h,y){if(!y.visualMode){var b=h.repeat||1,x=h.forward,k=K.jumpList.move(u,x?b:-b),T=k?k.find():void 0;T||(T=u.getCursor()),u.setCursor(T)}},scroll:function(u,h,y){if(!y.visualMode){var b=h.repeat||1,x=u.defaultTextHeight(),k=u.getScrollInfo().top,T=x*b,O=h.forward?k+T:k-T,L=Ge(u.getCursor()),z=u.charCoords(L,"local");if(h.forward)O>z.top?(L.line+=(O-z.top)/x,L.line=Math.ceil(L.line),u.setCursor(L),z=u.charCoords(L,"local"),u.scrollTo(null,z.top)):u.scrollTo(null,O);else{var A=O+u.getScrollInfo().clientHeight;A<z.bottom?(L.line-=(z.bottom-A)/x,L.line=Math.floor(L.line),u.setCursor(L),z=u.charCoords(L,"local"),u.scrollTo(null,z.bottom-u.getScrollInfo().clientHeight)):u.scrollTo(null,O)}}},scrollToCursor:function(u,h){var y=u.getCursor().line,b=u.charCoords(new n(y,0),"local"),x=u.getScrollInfo().clientHeight,k=b.top;switch(h.position){case"center":k=b.bottom-x/2;break;case"bottom":var T=new n(y,u.getLine(y).length-1),O=u.charCoords(T,"local").bottom-k;k=k-x+O;break}u.scrollTo(null,k)},replayMacro:function(u,h,y){var b=h.selectedCharacter||"",x=h.repeat||1,k=K.macroModeState;for(b=="@"?b=k.latestRegister||"":k.latestRegister=b;x--;)As(u,y,k,b)},enterMacroRecordMode:function(u,h){var y=K.macroModeState,b=h.selectedCharacter;K.registerController.isValidRegister(b)&&y.enterMacroRecordMode(u,b)},toggleOverwrite:function(u){u.state.overwrite?(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})):(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(u,h,y){if(!u.getOption("readOnly")){y.insertMode=!0,y.insertModeRepeat=h&&h.repeat||1;var b=h?h.insertAt:null,x=y.sel,k=h.head||u.getCursor("head"),T=u.listSelections().length;if(b=="eol")k=new n(k.line,St(u,k.line));else if(b=="bol")k=new n(k.line,0);else if(b=="charAfter"){var O=i(u,k,Ct(k,0,1));k=O.end}else if(b=="firstNonBlank"){var O=i(u,k,rn.moveToFirstNonWhiteSpaceCharacter(u,k));k=O.end}else if(b=="startOfSelectedArea"){if(!y.visualMode)return;y.visualBlock?(k=new n(Math.min(x.head.line,x.anchor.line),Math.min(x.head.ch,x.anchor.ch)),T=Math.abs(x.head.line-x.anchor.line)+1):k=x.head.line<x.anchor.line?x.head:new n(x.anchor.line,0)}else if(b=="endOfSelectedArea"){if(!y.visualMode)return;y.visualBlock?(k=new n(Math.min(x.head.line,x.anchor.line),Math.max(x.head.ch,x.anchor.ch)+1),T=Math.abs(x.head.line-x.anchor.line)+1):k=x.head.line>=x.anchor.line?Ct(x.head,0,1):new n(x.anchor.line,0)}else if(b=="inplace"){if(y.visualMode)return}else b=="lastEdit"&&(k=Oa(u)||k);u.setOption("disableInput",!1),h&&h.replace?(u.toggleOverwrite(!0),u.setOption("keyMap","vim-replace"),e.signal(u,"vim-mode-change",{mode:"replace"})):(u.toggleOverwrite(!1),u.setOption("keyMap","vim-insert"),e.signal(u,"vim-mode-change",{mode:"insert"})),K.macroModeState.isPlaying||(u.on("change",Ma),y.insertEnd&&y.insertEnd.clear(),y.insertEnd=u.setBookmark(k,{insertLeft:!0}),e.on(u.getInputField(),"keydown",Aa)),y.visualMode&&Je(u),Hn(u,k,T)}},toggleVisualMode:function(u,h,y){var b=h.repeat,x=u.getCursor(),k;if(y.visualMode)y.visualLine!=!!h.linewise||y.visualBlock!=!!h.blockwise?(y.visualLine=!!h.linewise,y.visualBlock=!!h.blockwise,e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""}),bt(u)):Je(u);else{y.visualMode=!0,y.visualLine=!!h.linewise,y.visualBlock=!!h.blockwise,k=yt(u,new n(x.line,x.ch+b-1));var T=i(u,x,k);y.sel={anchor:T.start,head:T.end},e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""}),bt(u),hr(u,y,"<",vt(x,k)),hr(u,y,">",On(x,k))}},reselectLastSelection:function(u,h,y){var b=y.lastSelection;if(y.visualMode&&er(u,y),b){var x=b.anchorMark.find(),k=b.headMark.find();if(!x||!k)return;y.sel={anchor:x,head:k},y.visualMode=!0,y.visualLine=b.visualLine,y.visualBlock=b.visualBlock,bt(u),hr(u,y,"<",vt(x,k)),hr(u,y,">",On(x,k)),e.signal(u,"vim-mode-change",{mode:"visual",subMode:y.visualLine?"linewise":y.visualBlock?"blockwise":""})}},joinLines:function(u,h,y){var b,x;if(y.visualMode){if(b=u.getCursor("anchor"),x=u.getCursor("head"),lt(x,b)){var k=x;x=b,b=k}x.ch=St(u,x.line)-1}else{var T=Math.max(h.repeat,2);b=u.getCursor(),x=yt(u,new n(b.line+T-1,1/0))}for(var O=0,L=b.line;L<x.line;L++){O=St(u,b.line);var z="",A=0;if(!h.keepSpaces){var oe=u.getLine(b.line+1);A=oe.search(/\S/),A==-1?A=oe.length:z=" "}u.replaceRange(z,new n(b.line,O),new n(b.line+1,A))}var re=yt(u,new n(b.line,O));y.visualMode&&Je(u,!1),u.setCursor(re)},newLineAndEnterInsertMode:function(u,h,y){y.insertMode=!0;var b=Ge(u.getCursor());b.line===u.firstLine()&&!h.after?(u.replaceRange(`
`,new n(u.firstLine(),0)),u.setCursor(u.firstLine(),0)):(b.line=h.after?b.line:b.line-1,b.ch=St(u,b.line),u.setCursor(b),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u)),this.enterInsertMode(u,{repeat:h.repeat},y)},paste:function(u,h,y){var b=K.registerController.getRegister(h.registerName);if(h.registerName==="+")navigator.clipboard.readText().then(k=>{this.continuePaste(u,h,y,k,b)});else{var x=b.toString();this.continuePaste(u,h,y,x,b)}},continuePaste:function(u,h,y,b,x){var k=Ge(u.getCursor());if(b){if(h.matchIndent){var T=u.getOption("tabSize"),O=function(Xt){var Yt=Xt.split("	").length-1,cn=Xt.split(" ").length-1;return Yt*T+cn*1},L=O(u.getLine(u.getCursor().line).match(/^\s*/)[0]),z=b.replace(/\n$/,""),A=b!==z,oe=O(b.match(/^\s*/)[0]),b=z.replace(/^\s*/gm,function(Xt){var Yt=L+(O(Xt)-oe);if(Yt<0)return"";if(u.getOption("indentWithTabs")){var cn=Math.floor(Yt/T);return Array(cn+1).join("	")}else return Array(Yt+1).join(" ")});b+=A?`
`:""}h.repeat>1&&(b=Array(h.repeat+1).join(b));var re=x.linewise,J=x.blockwise,X=J?b.split(`
`):void 0;if(X){re&&X.pop();for(var _e=0;_e<X.length;_e++)X[_e]=X[_e]==""?" ":X[_e];k.ch+=h.after?1:0,k.ch=Math.min(St(u,k.line),k.ch)}else re?y.visualMode?b=y.visualLine?b.slice(0,-1):`
`+b.slice(0,b.length-1)+`
`:h.after?(b=`
`+b.slice(0,b.length-1),k.ch=St(u,k.line)):k.ch=0:k.ch+=h.after?1:0;var we;if(y.visualMode){y.lastPastedText=b;var qe,Ee=di(u),Ae=Ee[0],ct=Ee[1],Xe=u.getSelection(),Ot=u.listSelections(),Pt=Array(Ot.length).join("1").split("1");y.lastSelection&&(qe=y.lastSelection.headMark.find()),K.registerController.unnamedRegister.setText(Xe),J?(u.replaceSelections(Pt),ct=new n(Ae.line+b.length-1,Ae.ch),u.setCursor(Ae),qn(u,ct),u.replaceSelections(b),we=Ae):y.visualBlock?(u.replaceSelections(Pt),u.setCursor(Ae),u.replaceRange(b,Ae,Ae),we=Ae):(u.replaceRange(b,Ae,ct),we=u.posFromIndex(u.indexFromPos(Ae)+b.length-1)),qe&&(y.lastSelection.headMark=u.setBookmark(qe)),re&&(we.ch=0)}else if(J&&X){u.setCursor(k);for(var _e=0;_e<X.length;_e++){var Fe=k.line+_e;Fe>u.lastLine()&&u.replaceRange(`
`,new n(Fe,0)),St(u,Fe)<k.ch&&ui(u,Fe,k.ch)}u.setCursor(k),qn(u,new n(k.line+X.length-1,k.ch)),u.replaceSelections(X),we=k}else if(u.replaceRange(b,k),re){var Fe=h.after?k.line+1:k.line;we=new n(Fe,ye(u.getLine(Fe)))}else we=Ge(k),/\n/.test(b)||(we.ch+=b.length-(h.after?1:0));y.visualMode&&Je(u,!1),u.setCursor(we)}},undo:function(u,h){u.operation(function(){pr(u,e.commands.undo,h.repeat)(),u.setCursor(yt(u,u.getCursor("start")))})},redo:function(u,h){pr(u,e.commands.redo,h.repeat)()},setRegister:function(u,h,y){y.inputState.registerName=h.selectedCharacter},insertRegister:function(u,h,y){var b=h.selectedCharacter,x=K.registerController.getRegister(b),k=x&&x.toString();k&&u.replaceSelection(k)},oneNormalCommand:function(u,h,y){Ir(u,!0),y.insertModeReturn=!0,e.on(u,"vim-command-done",function b(){y.visualMode||(y.insertModeReturn&&(y.insertModeReturn=!1,y.insertMode||Vt.enterInsertMode(u,{},y)),e.off(u,"vim-command-done",b))})},setMark:function(u,h,y){var b=h.selectedCharacter;b&&hr(u,y,b,u.getCursor())},replace:function(u,h,y){var b=h.selectedCharacter||"",x=u.getCursor(),k,T,O=u.listSelections();if(y.visualMode)x=u.getCursor("start"),T=u.getCursor("end");else{var L=u.getLine(x.line);k=x.ch+h.repeat,k>L.length&&(k=L.length),T=new n(x.line,k)}var z=i(u,x,T);if(x=z.start,T=z.end,b==`
`)y.visualMode||u.replaceRange("",x,T),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(u);else{var A=u.getRange(x,T);if(A=A.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b),A=A.replace(/[^\n]/g,b),y.visualBlock){var oe=Array(u.getOption("tabSize")+1).join(" ");A=u.getSelection(),A=A.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b);var re=A.replace(/\t/g,oe).replace(/[^\n]/g,b).split(`
`);u.replaceSelections(re)}else u.replaceRange(A,x,T);y.visualMode?(x=lt(O[0].anchor,O[0].head)?O[0].anchor:O[0].head,u.setCursor(x),Je(u,!1)):u.setCursor(Ct(T,0,-1))}},incrementNumberToken:function(u,h){for(var y=u.getCursor(),b=u.getLine(y.line),x=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,k,T,O,L;(k=x.exec(b))!==null&&(T=k.index,O=T+k[0].length,!(y.ch<O)););if(!(!h.backtrack&&O<=y.ch)){if(k){var z=k[2]||k[4],A=k[3]||k[5],oe=h.increase?1:-1,re={"0b":2,0:8,"":10,"0x":16}[z.toLowerCase()];L=(parseInt(k[1]+A,re)+oe*h.repeat).toString(re);var J=z?Array(A.length-L.length+1+k[1].length).join("0"):"";L=L.charAt(0)==="-"?"-"+z+J+L.substr(1):z+J+L;var X=new n(y.line,T),_e=new n(y.line,O);u.replaceRange(L,X,_e)}else return;u.setCursor(new n(y.line,T+L.length-1))}},repeatLastEdit:function(u,h,y){var b=y.lastEditInputState;if(b){var x=h.repeat;x&&h.repeatIsExplicit?b.repeatOverride=x:x=b.repeatOverride||x,zs(u,y,x,!1)}},indent:function(u,h){u.indentLine(u.getCursor().line,h.indentRight)},exitInsertMode:function(u,h){Ir(u)}};function Gt(u,h){Vt[u]=h}function yt(u,h,y){var b=u.state.vim,x=b.insertMode||b.visualMode,k=Math.min(Math.max(u.firstLine(),h.line),u.lastLine()),T=u.getLine(k),O=T.length-1+ +!!x,L=Math.min(Math.max(0,h.ch),O),z=T.charCodeAt(L);if(56320<=z&&z<=57343){var A=1;y&&y.line==k&&y.ch>L&&(A=-1),L+=A,L>O&&(L-=2)}return new n(k,L)}function Bt(u){var h={};for(var y in u)Object.prototype.hasOwnProperty.call(u,y)&&(h[y]=u[y]);return h}function Ct(u,h,y){return typeof h=="object"&&(y=h.ch,h=h.line),new n(u.line+h,u.ch+y)}function ci(u,h,y,b){b.operator&&(y="operatorPending");for(var x,k=[],T=[],O=De?h.length-c:0;O<h.length;O++){var L=h[O];y=="insert"&&L.context!="insert"||L.context&&L.context!=y||b.operator&&L.type=="action"||!(x=Hi(u,L.keys))||(x=="partial"&&k.push(L),x=="full"&&T.push(L))}return{partial:k,full:T}}function Hi(u,h){let y=h.slice(-11)=="<character>",b=h.slice(-10)=="<register>";if(y||b){var x=h.length-(y?11:10),k=u.slice(0,x),T=h.slice(0,x);return k==T&&u.length>x?"full":T.indexOf(k)==0?"partial":!1}else return u==h?"full":h.indexOf(u)==0?"partial":!1}function Mr(u){var h=/^.*(<[^>]+>)$/.exec(u),y=h?h[1]:u.slice(-1);if(y.length>1)switch(y){case"<CR>":case"<S-CR>":y=`
`;break;case"<Space>":case"<S-Space>":y=" ";break;default:y="";break}return y}function pr(u,h,y){return function(){for(var b=0;b<y;b++)h(u)}}function Ge(u){return new n(u.line,u.ch)}function $t(u,h){return u.ch==h.ch&&u.line==h.line}function lt(u,h){return u.line<h.line||u.line==h.line&&u.ch<h.ch}function vt(u,h){return arguments.length>2&&(h=vt.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,h)?u:h}function On(u,h){return arguments.length>2&&(h=On.apply(void 0,Array.prototype.slice.call(arguments,1))),lt(u,h)?h:u}function Ur(u,h,y){var b=lt(u,h),x=lt(h,y);return b&&x}function St(u,h){return u.getLine(h).length}function Zn(u){return u.trim?u.trim():u.replace(/^\s+|\s+$/g,"")}function Kr(u){return u.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function ui(u,h,y){var b=St(u,h),x=Array(y-b+1).join(" ");u.setCursor(new n(h,b)),u.replaceRange(x,u.getCursor())}function qn(u,h){var y=[],b=u.listSelections(),x=Ge(u.clipPos(h)),k=!$t(h,x),T=Qr(b,u.getCursor("head")),O=$t(b[T].head,b[T].anchor),L=b.length-1,z=L-T>T?L:0,A=b[z].anchor,oe=Math.min(A.line,x.line),re=Math.max(A.line,x.line),J=A.ch,X=x.ch,_e=b[z].head.ch-J,we=X-J;_e>0&&we<=0?(J++,k||X--):_e<0&&we>=0?(J--,O||X++):_e<0&&we==-1&&(J--,X++);for(var qe=oe;qe<=re;qe++){var Ee={anchor:new n(qe,J),head:new n(qe,X)};y.push(Ee)}return u.setSelections(y),h.ch=X,A.ch=J,A}function Hn(u,h,y){for(var b=[],x=0;x<y;x++){var k=Ct(h,x,0);b.push({anchor:k,head:k})}u.setSelections(b,0)}function Qr(u,h,y){for(var b=0;b<u.length;b++){var x=$t(u[b].anchor,h),k=$t(u[b].head,h);if(x||k)return b}return-1}function di(u,h){var y=u.listSelections(),b=y[0],x=y[y.length-1];return[lt(b.anchor,b.head)?b.anchor:b.head,lt(x.anchor,x.head)?x.head:x.anchor]}function er(u,h){var y=h.sel.anchor,b=h.sel.head;h.lastPastedText&&(h.lastPastedText=(b=u.posFromIndex(u.indexFromPos(y)+h.lastPastedText.length),void 0)),h.lastSelection={anchorMark:u.setBookmark(y),headMark:u.setBookmark(b),anchor:Ge(y),head:Ge(b),visualMode:h.visualMode,visualLine:h.visualLine,visualBlock:h.visualBlock}}function Pn(u,h,y,b){var x=u.state.vim.sel,k=b?h:x.head,T=b?h:x.anchor,O;return lt(y,h)&&(O=y,y=h,h=O),lt(k,T)?(k=vt(h,k),T=On(T,y)):(T=vt(h,T),k=On(k,y),k=Ct(k,0,-1),k.ch==-1&&k.line!=u.firstLine()&&(k=new n(k.line-1,St(u,k.line-1)))),[T,k]}function bt(u,h,y){var b=u.state.vim;h||(h=b.sel),y||(y=b.visualLine?"line":b.visualBlock?"block":"char");var x=jt(u,h,y);u.setSelections(x.ranges,x.primary)}function jt(u,h,y,b){var x=Ge(h.head),k=Ge(h.anchor);if(y=="char"){var T=!b&&!lt(h.head,h.anchor)?1:0,O=lt(h.head,h.anchor)?1:0;return x=Ct(h.head,0,T),k=Ct(h.anchor,0,O),{ranges:[{anchor:k,head:x}],primary:0}}else if(y=="line"){if(lt(h.head,h.anchor))x.ch=0,k.ch=St(u,k.line);else{k.ch=0;var L=u.lastLine();x.line>L&&(x.line=L),x.ch=St(u,x.line)}return{ranges:[{anchor:k,head:x}],primary:0}}else if(y=="block"){var z=Math.min(k.line,x.line),A=k.ch,oe=Math.max(k.line,x.line),re=x.ch;A<re?re+=1:A+=1;for(var J=oe-z+1,X=x.line==z?0:J-1,_e=[],we=0;we<J;we++)_e.push({anchor:new n(z+we,A),head:new n(z+we,re)});return{ranges:_e,primary:X}}throw"never happens"}function P(u){var h=u.getCursor("head");return u.getSelection().length==1&&(h=vt(h,u.getCursor("anchor"))),h}function Je(u,h){var y=u.state.vim;h!==!1&&u.setCursor(yt(u,y.sel.head)),er(u,y),y.visualMode=!1,y.visualLine=!1,y.visualBlock=!1,y.insertMode||e.signal(u,"vim-mode-change",{mode:"normal"})}function j(u,h,y){var b=u.getRange(h,y);if(/\n\s*$/.test(b)){var x=b.split(`
`);x.pop();for(var k=x.pop();x.length>0&&k&&q(k);k=x.pop())y.line--,y.ch=0;k?(y.line--,y.ch=St(u,y.line)):y.ch=0}}function ee(u,h,y){h.ch=0,y.ch=0,y.line++}function ye(u){if(!u)return 0;var h=u.search(/\S/);return h==-1?u.length:h}function Ce(u,{inclusive:h,innerWord:y,bigWord:b,noSymbol:x,multiline:k},T){var O=T||P(u),L=u.getLine(O.line),z=L,A=O.line,oe=A,re=O.ch,J,X=x?C[0]:E[0];if(y&&/\s/.test(L.charAt(re)))X=function(ct){return/\s/.test(ct)};else{for(;!X(L.charAt(re));)if(re++,re>=L.length){if(!k)return null;re--,J=at(u,O,!0,b,!0);break}b?X=E[0]:(X=C[0],X(L.charAt(re))||(X=C[1]))}for(var _e=re,we=re;X(L.charAt(we))&&we>=0;)we--;if(we++,J)_e=J.to,oe=J.line,z=u.getLine(oe),!z&&_e==0&&_e++;else for(;X(L.charAt(_e))&&_e<L.length;)_e++;if(h){var qe=_e,Ee=O.ch<=we&&/\s/.test(L.charAt(O.ch));if(!Ee)for(;/\s/.test(z.charAt(_e))&&_e<z.length;)_e++;if(qe==_e||Ee){for(var Ae=we;/\s/.test(L.charAt(we-1))&&we>0;)we--;!we&&!Ee&&(we=Ae)}}return{start:new n(A,we),end:new n(oe,_e)}}function ft(u,h,y){var b=h;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:b,end:b};var x=e.findMatchingTag(u,h)||e.findEnclosingTag(u,h);return!x||!x.open||!x.close?{start:b,end:b}:y?{start:x.open.from,end:x.close.to}:{start:x.open.to,end:x.close.from}}function tt(u,h,y){$t(h,y)||K.jumpList.add(u,h,y)}function it(u,h){K.lastCharacterSearch.increment=u,K.lastCharacterSearch.forward=h.forward,K.lastCharacterSearch.selectedCharacter=h.selectedCharacter}var _t={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},We={bracket:{isComplete:function(u){if(u.nextCh===u.symb){if(u.depth++,u.depth>=1)return!0}else u.nextCh===u.reverseSymb&&u.depth--;return!1}},section:{init:function(u){u.curMoveThrough=!0,u.symb=(u.forward?"]":"[")===u.symb?"{":"}"},isComplete:function(u){return u.index===0&&u.nextCh===u.symb}},comment:{isComplete:function(u){var h=u.lastCh==="*"&&u.nextCh==="/";return u.lastCh=u.nextCh,h}},method:{init:function(u){u.symb=u.symb==="m"?"{":"}",u.reverseSymb=u.symb==="{"?"}":"{"},isComplete:function(u){return u.nextCh===u.symb}},preprocess:{init:function(u){u.index=0},isComplete:function(u){var y;if(u.nextCh==="#"){var h=(y=u.lineText.match(/^#(\w+)/))==null?void 0:y[1];if(h==="endif"){if(u.forward&&u.depth===0)return!0;u.depth++}else if(h==="if"){if(!u.forward&&u.depth===0)return!0;u.depth--}if(h==="else"&&u.depth===0)return!0}return!1}}};function Ve(u,h,y,b){var x=Ge(u.getCursor()),k=y?1:-1,T=y?u.lineCount():-1,O=x.ch,L=x.line,z=u.getLine(L),A={lineText:z,nextCh:z.charAt(O),lastCh:null,index:O,symb:b,reverseSymb:(y?{")":"(","}":"{"}:{"(":")","{":"}"})[b],forward:y,depth:0,curMoveThrough:!1},oe=_t[b];if(!oe)return x;var re=We[oe].init,J=We[oe].isComplete;for(re&&re(A);L!==T&&h;){if(A.index+=k,A.nextCh=A.lineText.charAt(A.index),!A.nextCh){if(L+=k,A.lineText=u.getLine(L)||"",k>0)A.index=0;else{var X=A.lineText.length;A.index=X>0?X-1:0}A.nextCh=A.lineText.charAt(A.index)}J(A)&&(x.line=L,x.ch=A.index,h--)}return A.nextCh||A.curMoveThrough?new n(L,A.index):x}function at(u,h,y,b,x){var k=h.line,T=h.ch,O=u.getLine(k),L=y?1:-1,z=b?E:C;if(x&&O==""){if(k+=L,O=u.getLine(k),!U(u,k))return null;T=y?0:O.length}for(;;){if(x&&O=="")return{from:0,to:0,line:k};for(var A=L>0?O.length:-1,oe=A,re=A;T!=A;){for(var J=!1,X=0;X<z.length&&!J;++X)if(z[X](O.charAt(T))){for(oe=T;T!=A&&z[X](O.charAt(T));)T+=L;if(re=T,J=oe!=re,oe==h.ch&&k==h.line&&re==oe+L)continue;return{from:Math.min(oe,re+1),to:Math.max(oe,re),line:k}}J||(T+=L)}if(k+=L,!U(u,k))return null;O=u.getLine(k),T=L>0?0:O.length}}function mt(u,h,y,b,x,k){var T=Ge(h),O=[];(b&&!x||!b&&x)&&y++;for(var L=!(b&&x),z=0;z<y;z++){var A=at(u,h,b,k,L);if(!A){var oe=St(u,u.lastLine());O.push(b?{line:u.lastLine(),from:oe,to:oe}:{line:0,from:0,to:0});break}O.push(A),h=new n(A.line,b?A.to-1:A.from)}var re=O.length!=y,J=O[0],X=O.pop();return b&&!x?(!re&&(J.from!=T.ch||J.line!=T.line)&&(X=O.pop()),X&&new n(X.line,X.from)):b&&x?X&&new n(X.line,X.to-1):!b&&x?(!re&&(J.to!=T.ch||J.line!=T.line)&&(X=O.pop()),X&&new n(X.line,X.to)):X&&new n(X.line,X.from)}function Wt(u,h,y,b,x){var k=new n(h.line+y.repeat-1,1/0),T=u.clipPos(k);return T.ch--,x||(b.lastHPos=1/0,b.lastHSPos=u.charCoords(T,"div").left),k}function tr(u,h,y,b,x){if(b){for(var k=x||u.getCursor(),T=k.ch,O,L=0;L<h;L++){var z=u.getLine(k.line);if(O=rc(T,z,b,y),O==-1)return;T=O}if(O!=null)return new n(u.getCursor().line,O)}}function Ss(u,h){var y=u.getCursor().line;return yt(u,new n(y,h-1))}function hr(u,h,y,b){!de(y,R)&&!H.test(y)||(h.marks[y]&&h.marks[y].clear(),h.marks[y]=u.setBookmark(b))}function rc(u,h,y,b,x){return b?h.indexOf(y,u+1):h.lastIndexOf(y,u-1)}function ic(u,h,y,b,x){var k=h.line,T=u.firstLine(),O=u.lastLine(),L,z,A=k;function oe(we){return!u.getLine(we)}function re(we,qe,Ee){return Ee?oe(we)!=oe(we+qe):!oe(we)&&oe(we+qe)}if(b){for(;T<=A&&A<=O&&y>0;)re(A,b)&&y--,A+=b;return{start:new n(A,0),end:h}}var J=u.state.vim;if(J.visualLine&&re(k,1,!0)){var X=J.sel.anchor;re(X.line,-1,!0)&&(!x||X.line!=k)&&(k+=1)}var _e=oe(k);for(A=k;A<=O&&y;A++)re(A,1,!0)&&(!x||oe(A)!=_e)&&y--;for(z=new n(A,0),A>O&&!_e?_e=!0:x=!1,A=k;A>T&&!((!x||oe(A)==_e||A==k)&&re(A,-1,!0));A--);return L=new n(A,0),{start:L,end:z}}function Ea(u,h,y,b,x){function k(z){z.line!==null&&(z.pos+z.dir<0||z.pos+z.dir>=z.line.length?z.line=null:z.pos+=z.dir)}function T(z,A,oe,re){var J={line:z.getLine(A),ln:A,pos:oe,dir:re};if(J.line==="")return{ln:J.ln,pos:J.pos};var X=J.pos;for(k(J);J.line!==null;){if(X=J.pos,V(J.line[J.pos]))if(x){for(k(J);J.line!==null&&q(J.line[J.pos]);)X=J.pos,k(J);return{ln:J.ln,pos:X+1}}else return{ln:J.ln,pos:J.pos+1};k(J)}return{ln:J.ln,pos:X+1}}function O(z,A,oe,re){var J=z.getLine(A),X={line:J,ln:A,pos:oe,dir:re};if(X.line==="")return{ln:X.ln,pos:X.pos};var _e=X.pos;for(k(X);X.line!==null;){if(!q(X.line[X.pos])&&!V(X.line[X.pos]))_e=X.pos;else if(V(X.line[X.pos]))return x&&q(X.line[X.pos+1])?{ln:X.ln,pos:X.pos+1}:{ln:X.ln,pos:_e};k(X)}return X.line=J,x&&q(X.line[X.pos])?{ln:X.ln,pos:X.pos}:{ln:X.ln,pos:_e}}for(var L={ln:h.line,pos:h.ch};y>0;)L=b<0?O(u,L.ln,L.pos,b):T(u,L.ln,L.pos,b),y--;return new n(L.ln,L.pos)}function Ro(u,h,y,b){function x(L,z){if(z.line!==null)if(z.pos+z.dir<0||z.pos+z.dir>=z.line.length){if(z.ln+=z.dir,!U(L,z.ln)){z.line=null;return}z.line=L.getLine(z.ln),z.pos=z.dir>0?0:z.line.length-1}else z.pos+=z.dir}function k(L,z,A,oe){var we=L.getLine(z),re=we==="",J={line:we,ln:z,pos:A,dir:oe},X={ln:J.ln,pos:J.pos},_e=J.line==="";for(x(L,J);J.line!==null;){if(X.ln=J.ln,X.pos=J.pos,J.line===""&&!_e||re&&J.line!==""&&!q(J.line[J.pos]))return{ln:J.ln,pos:J.pos};V(J.line[J.pos])&&!re&&(J.pos===J.line.length-1||q(J.line[J.pos+1]))&&(re=!0),x(L,J)}var we=L.getLine(X.ln);X.pos=0;for(var qe=we.length-1;qe>=0;--qe)if(!q(we[qe])){X.pos=qe;break}return X}function T(L,z,A,oe){var we=L.getLine(z),re={line:we,ln:z,pos:A,dir:oe},J=re.ln,X=null,_e=re.line==="";for(x(L,re);re.line!==null;){if(re.line===""&&!_e)return X===null?{ln:re.ln,pos:re.pos}:{ln:J,pos:X};if(V(re.line[re.pos])&&X!==null&&!(re.ln===J&&re.pos+1===X))return{ln:J,pos:X};re.line!==""&&!q(re.line[re.pos])&&(_e=!1,J=re.ln,X=re.pos),x(L,re)}var we=L.getLine(J);X=0;for(var qe=0;qe<we.length;++qe)if(!q(we[qe])){X=qe;break}return{ln:J,pos:X}}for(var O={ln:h.line,pos:h.ch};y>0;)O=b<0?T(u,O.ln,O.pos,b):k(u,O.ln,O.pos,b),y--;return new n(O.ln,O.pos)}function mr(u,h,y,b){var x=h,k={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[y],T={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[y],O=u.getLine(x.line).charAt(x.ch)===T?1:0,L=u.scanForBracket(new n(x.line,x.ch+O),-1,void 0,{bracketRegex:k}),z=u.scanForBracket(new n(x.line,x.ch+O),1,void 0,{bracketRegex:k});if(!L||!z)return null;var A=L.pos,oe=z.pos;if(A.line==oe.line&&A.ch>oe.ch||A.line>oe.line){var re=A;A=oe,oe=re}return b?oe.ch+=1:A.ch+=1,{start:A,end:oe}}function Es(u,h,y,b){var x=Ge(h),k=u.getLine(x.line).split(""),T,O,L,z,A=k.indexOf(y);if(x.ch<A)x.ch=A;else if(A<x.ch&&k[x.ch]==y){var oe=/string/.test(u.getTokenTypeAt(Ct(h,0,1))),re=/string/.test(u.getTokenTypeAt(h));oe&&!re||(O=x.ch,--x.ch)}if(k[x.ch]==y&&!O)T=x.ch+1;else for(L=x.ch;L>-1&&!T;L--)k[L]==y&&(T=L+1);if(T&&!O)for(L=T,z=k.length;L<z&&!O;L++)k[L]==y&&(O=L);return!T||!O?{start:x,end:x}:(b&&(--T,++O),{start:new n(x.line,T),end:new n(x.line,O)})}xe("pcre",!0,"boolean");class ac{constructor(){this.highlightTimeout}getQuery(){return K.query}setQuery(h){K.query=h}getOverlay(){return this.searchOverlay}setOverlay(h){this.searchOverlay=h}isReversed(){return K.isReversed}setReversed(h){K.isReversed=h}getScrollbarAnnotate(){return this.annotate}setScrollbarAnnotate(h){this.annotate=h}}function bn(u){var h=u.state.vim;return h.searchState_||(h.searchState_=new ac)}function Ts(u){return oc(u,"/")}function Rs(u){return Ds(u,"/")}function oc(u,h){var y=Ds(u,h)||[];if(!y.length)return[];var b=[];if(y[0]===0){for(var x=0;x<y.length;x++)typeof y[x]=="number"&&b.push(u.substring(y[x]+1,y[x+1]));return b}}function Ds(u,h){h||(h="/");for(var y=!1,b=[],x=0;x<u.length;x++){var k=u.charAt(x);!y&&k==h&&b.push(x),y=!y&&k=="\\"}return b}function Vn(u){var h={V:"|(){+?*.[$^",M:"|(){+?*.[",m:"|(){+?",v:"<>"},y={">":"(?<=[\\w])(?=[^\\w]|$)","<":"(?<=[^\\w]|^)(?=[\\w])"},b=h.m,x=u.replace(/\\.|[\[|(){+*?.$^<>]/g,function(T){if(T[0]==="\\"){var O=T[1];return O==="}"||b.indexOf(O)!=-1?O:O in h?(b=h[O],""):O in y?y[O]:T}else return b.indexOf(T)==-1?T:y[T]||"\\"+T}),k=x.indexOf("\\zs");return k!=-1&&(x="(?<="+x.slice(0,k)+")"+x.slice(k+3)),k=x.indexOf("\\ze"),k!=-1&&(x=x.slice(0,k)+"(?="+x.slice(k+3)+")"),x}var Os={"\\n":`
`,"\\r":"\r","\\t":"	"};function df(u){for(var h=!1,y=[],b=-1;b<u.length;b++){var x=u.charAt(b)||"",k=u.charAt(b+1)||"";Os[x+k]?(y.push(Os[x+k]),b++):h?(y.push(x),h=!1):x==="\\"?(h=!0,me(k)||k==="$"?y.push("$"):k!=="/"&&k!=="\\"&&y.push("\\")):(x==="$"&&y.push("$"),y.push(x),k==="/"&&y.push("\\"))}return y.join("")}var Ta={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function sc(u){for(var h=new e.StringStream(u),y=[];!h.eol();){for(;h.peek()&&h.peek()!="\\";)y.push(h.next());var b=!1;for(var x in Ta)if(h.match(x,!0)){b=!0,y.push(Ta[x]);break}b||y.push(h.next())}return y.join("")}function Ra(u,h,y){K.registerController.getRegister("/").setText(u);var b=Rs(u),x,k;return b.length?(x=u.substring(0,b[0]),k=u.substring(b[0]).indexOf("i")!=-1):x=u,x?(be("pcre")||(x=Vn(x)),y&&(h=/^[^A-Z]*$/.test(x)),new RegExp(x,h||k?"im":"m")):null}function nr(u){typeof u=="string"&&(u=document.createElement(u));for(var h=1;h<arguments.length;h++){var y=arguments[h];if(y)if(typeof y!="object"&&(y=document.createTextNode(y)),y.nodeType)u.appendChild(y);else for(var b in y)Object.prototype.hasOwnProperty.call(y,b)&&(b[0]==="$"?u.style[b.slice(1)]=y[b]:typeof y[b]=="function"?u[b]=y[b]:u.setAttribute(b,y[b]))}return u}function $e(u,h,y){var b=nr("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},h);u.openNotification?y?(b=nr("div",{},b,nr("div",{},"Press ENTER or type command to continue")),u.state.closeVimNotification&&u.state.closeVimNotification(),u.state.closeVimNotification=u.openNotification(b,{bottom:!0,duration:0})):u.openNotification(b,{bottom:!0,duration:15e3}):alert(b.innerText)}function Ps(u,h){return nr("div",{$display:"flex",$flex:1},nr("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1,$display:"flex"},u,nr("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$flex:1})),h&&nr("span",{$color:"#888"},h))}function Da(u,h){var x;if(He.length){h.value||(h.value=""),Le=h;return}var y=Ps(h.prefix,h.desc);if(u.openDialog)u.openDialog(y,h.onClose,{onKeyDown:h.onKeyDown,onKeyUp:h.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:h.value});else{var b="";typeof h.prefix!="string"&&h.prefix&&(b+=h.prefix.textContent),h.desc&&(b+=" "+h.desc),(x=h.onClose)==null||x.call(h,prompt(b,""))}}function Ns(u,h){return u instanceof RegExp&&h instanceof RegExp?u.flags==h.flags&&u.source==h.source:!1}function gr(u,h,y,b){if(h){var x=bn(u),k=Ra(h,!!y,!!b);if(k)return Gr(u,k),Ns(k,x.getQuery())||x.setQuery(k),k}}function lc(u){if(u.source.charAt(0)=="^")var h=!0;return{token:function(y){if(h&&!y.sol()){y.skipToEnd();return}var b=y.match(u,!1);if(b)return b[0].length==0?(y.next(),"searching"):!y.sol()&&(y.backUp(1),!u.exec(y.next()+b[0]))?(y.next(),null):(y.match(u),"searching");for(;!y.eol()&&(y.next(),!y.match(u,!1)););},query:u}}var Vi=0;function Gr(u,h){clearTimeout(Vi);var y=bn(u);y.highlightTimeout=Vi,Vi=setTimeout(function(){if(u.state.vim){var b=bn(u);b.highlightTimeout=void 0;var x=b.getOverlay();(!x||h!=x.query)&&(x&&u.removeOverlay(x),x=lc(h),u.addOverlay(x),u.showMatchesOnScrollbar&&(b.getScrollbarAnnotate()&&b.getScrollbarAnnotate().clear(),b.setScrollbarAnnotate(u.showMatchesOnScrollbar(h))),b.setOverlay(x))}},50)}function cc(u,h,y,b){return u.operation(function(){b===void 0&&(b=1);for(var x=u.getCursor(),k=u.getSearchCursor(y,x),T=0;T<b;T++){var O=k.find(h);if(T==0&&O&&$t(k.from(),x)){var L=h?k.from():k.to();O=k.find(h),O&&!O[0]&&$t(k.from(),L)&&u.getLine(L.line).length==L.ch&&(O=k.find(h))}if(!O&&(k=u.getSearchCursor(y,h?new n(u.lastLine()):new n(u.firstLine(),0)),!k.find(h)))return}return k.from()})}function uc(u,h,y,b,x){return u.operation(function(){b===void 0&&(b=1);var k=u.getCursor(),T=u.getSearchCursor(y,k),O=T.find(!h);!x.visualMode&&O&&$t(T.from(),k)&&T.find(!h);for(var L=0;L<b;L++)if(O=T.find(h),!O&&(T=u.getSearchCursor(y,h?new n(u.lastLine()):new n(u.firstLine(),0)),!T.find(h)))return;var z=T.from(),A=T.to();return z&&A&&[z,A]})}function fi(u){var h=bn(u);h.highlightTimeout&&(h.highlightTimeout=(clearTimeout(h.highlightTimeout),void 0)),u.removeOverlay(bn(u).getOverlay()),h.setOverlay(null),h.getScrollbarAnnotate()&&(h.getScrollbarAnnotate().clear(),h.setScrollbarAnnotate(null))}function Ls(u,h,y){return typeof u!="number"&&(u=u.line),h instanceof Array?de(u,h):typeof y=="number"?u>=h&&u<=y:u==h}function Ms(u){var h=u.getScrollInfo(),y=6,b=10,x=u.coordsChar({left:0,top:y+h.top},"local"),k=h.clientHeight-b+h.top,T=u.coordsChar({left:0,top:k},"local");return{top:x.line,bottom:T.line}}function Do(u,h,y){if(y=="'"||y=="`")return K.jumpList.find(u,-1)||new n(0,0);if(y==".")return Oa(u);var b=h.marks[y];return b&&b.find()}function Oa(u){if(u.getLastEditEnd)return u.getLastEditEnd();for(var h=u.doc.history.done,y=h.length;y--;)if(h[y].changes)return Ge(h[y].changes[0].to)}class Is{constructor(){this.commandMap_,this.buildCommandMap_()}processCommand(h,y,b){var x=this;h.operation(function(){h.curOp&&(h.curOp.isVimOp=!0),x._processCommand(h,y,b)})}_processCommand(h,y,b){var x=h.state.vim,k=K.registerController.getRegister(":"),T=k.toString(),O=new e.StringStream(y);k.setText(y);var L=b||{};L.input=y;try{this.parseInput_(h,O,L)}catch(oe){throw $e(h,oe+""),oe}x.visualMode&&Je(h);var z,A;if(!L.commandName)L.line!==void 0&&(A="move");else if(z=this.matchCommand_(L.commandName),z){if(A=z.name,z.excludeFromCommandHistory&&k.setText(T),this.parseCommandArgs_(O,L,z),z.type=="exToKey"){qt(h,z.toKeys||"",z);return}else if(z.type=="exToEx"){this.processCommand(h,z.toInput||"");return}}if(!A){$e(h,'Not an editor command ":'+y+'"');return}try{Oo[A](h,L),(!z||!z.possiblyAsync)&&L.callback&&L.callback()}catch(oe){throw $e(h,oe+""),oe}}parseInput_(h,y,b){var k,T;y.eatWhile(":"),y.eat("%")?(b.line=h.firstLine(),b.lineEnd=h.lastLine()):(b.line=this.parseLineSpec_(h,y),b.line!==void 0&&y.eat(",")&&(b.lineEnd=this.parseLineSpec_(h,y))),b.line==null?h.state.vim.visualMode?(b.selectionLine=(k=Do(h,h.state.vim,"<"))==null?void 0:k.line,b.selectionLineEnd=(T=Do(h,h.state.vim,">"))==null?void 0:T.line):b.selectionLine=h.getCursor().line:(b.selectionLine=b.line,b.selectionLineEnd=b.lineEnd);var x=y.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return x?b.commandName=x[1]:b.commandName=(y.match(/.*/)||[""])[0],b}parseLineSpec_(h,y){var b=y.match(/^(\d+)/);if(b)return parseInt(b[1],10)-1;switch(y.next()){case".":return this.parseLineSpecOffset_(y,h.getCursor().line);case"$":return this.parseLineSpecOffset_(y,h.lastLine());case"'":var x=y.next()||"",k=Do(h,h.state.vim,x);if(!k)throw Error("Mark not set");return this.parseLineSpecOffset_(y,k.line);case"-":case"+":return y.backUp(1),this.parseLineSpecOffset_(y,h.getCursor().line);default:y.backUp(1);return}}parseLineSpecOffset_(h,y){var b=h.match(/^([+-])?(\d+)/);if(b){var x=parseInt(b[2],10);b[1]=="-"?y-=x:y+=x}return y}parseCommandArgs_(h,y,b){var T;if(!h.eol()){y.argString=(T=h.match(/.*/))==null?void 0:T[0];var x=b.argDelimiter||/\s+/,k=Zn(y.argString||"").split(x);k.length&&k[0]&&(y.args=k)}}matchCommand_(h){for(var y=h.length;y>0;y--){var b=h.substring(0,y);if(this.commandMap_[b]){var x=this.commandMap_[b];if(x.name.indexOf(h)===0)return x}}}buildCommandMap_(){this.commandMap_={};for(var h=0;h<d.length;h++){var y=d[h],b=y.shortName||y.name;this.commandMap_[b]=y}}map(h,y,b,x){if(h!=":"&&h.charAt(0)==":"){if(b)throw Error("Mode not supported for ex mappings");var k=h.substring(1);y!=":"&&y.charAt(0)==":"?this.commandMap_[k]={name:k,type:"exToEx",toInput:y.substring(1),user:!0}:this.commandMap_[k]={name:k,type:"exToKey",toKeys:y,user:!0}}else{var T={keys:h,type:"keyToKey",toKeys:y,noremap:!!x};b&&(T.context=b),Pa(T)}}unmap(h,y){if(h!=":"&&h.charAt(0)==":"){if(y)throw Error("Mode not supported for ex mappings");var b=h.substring(1);if(this.commandMap_[b]&&this.commandMap_[b].user)return delete this.commandMap_[b],!0}else for(var x=h,k=0;k<o.length;k++)if(x==o[k].keys&&o[k].context===y)return o.splice(k,1),Na(x),!0}}var Oo={colorscheme:function(u,h){if(!h.args||h.args.length<1){$e(u,u.getOption("theme"));return}u.setOption("theme",h.args[0])},map:function(u,h,y,b){var x=h.args;if(!x||x.length<2){u&&$e(u,"Invalid mapping: "+h.input);return}Jt.map(x[0],x[1],y,b)},imap:function(u,h){this.map(u,h,"insert")},nmap:function(u,h){this.map(u,h,"normal")},vmap:function(u,h){this.map(u,h,"visual")},omap:function(u,h){this.map(u,h,"operatorPending")},noremap:function(u,h){this.map(u,h,void 0,!0)},inoremap:function(u,h){this.map(u,h,"insert",!0)},nnoremap:function(u,h){this.map(u,h,"normal",!0)},vnoremap:function(u,h){this.map(u,h,"visual",!0)},onoremap:function(u,h){this.map(u,h,"operatorPending",!0)},unmap:function(u,h,y){var b=h.args;(!b||b.length<1||!Jt.unmap(b[0],y))&&u&&$e(u,"No such mapping: "+h.input)},mapclear:function(u,h){ze.mapclear()},imapclear:function(u,h){ze.mapclear("insert")},nmapclear:function(u,h){ze.mapclear("normal")},vmapclear:function(u,h){ze.mapclear("visual")},omapclear:function(u,h){ze.mapclear("operatorPending")},move:function(u,h){An.processCommand(u,u.state.vim,{keys:"",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:h.line+1})},set:function(u,h){var y=h.args,b=h.setCfg||{};if(!y||y.length<1){u&&$e(u,"Invalid mapping: "+h.input);return}var x=y[0].split("="),k=x.shift()||"",T=x.length>0?x.join("="):void 0,O=!1,L=!1;if(k.charAt(k.length-1)=="?"){if(T)throw Error("Trailing characters: "+h.argString);k=k.substring(0,k.length-1),O=!0}else k.charAt(k.length-1)=="!"&&(k=k.substring(0,k.length-1),L=!0);T===void 0&&k.substring(0,2)=="no"&&(k=k.substring(2),T=!1);var z=fe[k]&&fe[k].type=="boolean";if(z&&(L?T=!be(k,u,b):T??(T=!0)),!z&&T===void 0||O){var A=be(k,u,b);A instanceof Error?$e(u,A.message):A===!0||A===!1?$e(u," "+(A?"":"no")+k):$e(u,"  "+k+"="+A)}else{var oe=Z(k,T,u,b);oe instanceof Error&&$e(u,oe.message)}},setlocal:function(u,h){h.setCfg={scope:"local"},this.set(u,h)},setglobal:function(u,h){h.setCfg={scope:"global"},this.set(u,h)},registers:function(u,h){var y=h.args,b=K.registerController.registers,x=`----------Registers----------

`;if(y)for(var k=y.join(""),T=0;T<k.length;T++){var O=k.charAt(T);if(K.registerController.isValidRegister(O)){var L=b[O]||new yn;x+='"'+O+"    "+L.toString()+`
`}}else for(var O in b){var z=b[O].toString();z.length&&(x+='"'+O+"    "+z+`
`)}$e(u,x,!0)},marks:function(u,h){var y=h.args,b=u.state.vim.marks,x=`-----------Marks-----------
mark	line	col

`;if(y)for(var k=y.join(""),T=0;T<k.length;T++){var O=k.charAt(T),L=b[O]&&b[O].find();L&&(x+=O+"	"+L.line+"	"+L.ch+`
`)}else for(var O in b){var L=b[O]&&b[O].find();L&&(x+=O+"	"+L.line+"	"+L.ch+`
`)}$e(u,x,!0)},sort:function(u,h){var y,b,x,k,T;function O(){if(h.argString){var Fe=new e.StringStream(h.argString);if(Fe.eat("!")&&(y=!0),Fe.eol())return;if(!Fe.eatSpace())return"Invalid arguments";var Qe=Fe.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Qe||!Fe.eol())return"Invalid arguments";if(Qe[1]){b=Qe[1].indexOf("i")!=-1,x=Qe[1].indexOf("u")!=-1;var Xt=Qe[1].indexOf("d")!=-1||Qe[1].indexOf("n")!=-1,Yt=Qe[1].indexOf("x")!=-1,cn=Qe[1].indexOf("o")!=-1;if(Number(Xt)+Number(Yt)+Number(cn)>1)return"Invalid arguments";k=Xt&&"decimal"||Yt&&"hex"||cn&&"octal"}Qe[2]&&(T=new RegExp(Qe[2].substr(1,Qe[2].length-2),b?"i":""))}}var L=O();if(L){$e(u,L+": "+h.argString);return}var z=h.line||u.firstLine(),A=h.lineEnd||h.line||u.lastLine();if(z==A)return;var oe=new n(z,0),re=new n(A,St(u,A)),J=u.getRange(oe,re).split(`
`),X=k=="decimal"?/(-?)([\d]+)/:k=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:k=="octal"?/([0-7]+)/:null,_e=k=="decimal"?10:k=="hex"?16:k=="octal"?8:void 0,we=[],qe=[];if(k||T)for(var Ee=0;Ee<J.length;Ee++){var Ae=T?J[Ee].match(T):null;Ae&&Ae[0]!=""?we.push(Ae):X&&X.exec(J[Ee])?we.push(J[Ee]):qe.push(J[Ee])}else qe=J;function ct(Fe,Qe){if(y){var Xt=Fe;Fe=Qe,Qe=Xt}b&&(Fe=Fe.toLowerCase(),Qe=Qe.toLowerCase());var Yt=X&&X.exec(Fe),cn=X&&X.exec(Qe);return!Yt||!cn?Fe<Qe?-1:1:parseInt((Yt[1]+Yt[2]).toLowerCase(),_e)-parseInt((cn[1]+cn[2]).toLowerCase(),_e)}function Xe(Fe,Qe){if(y){var Xt=Fe;Fe=Qe,Qe=Xt}return b&&(Fe[0]=Fe[0].toLowerCase(),Qe[0]=Qe[0].toLowerCase()),Fe[0]<Qe[0]?-1:1}if(we.sort(T?Xe:ct),T)for(var Ee=0;Ee<we.length;Ee++)we[Ee]=we[Ee].input;else k||qe.sort(ct);if(J=y?we.concat(qe):qe.concat(we),x){var Ot=J,Pt;J=[];for(var Ee=0;Ee<Ot.length;Ee++)Ot[Ee]!=Pt&&J.push(Ot[Ee]),Pt=Ot[Ee]}u.replaceRange(J.join(`
`),oe,re)},vglobal:function(u,h){this.global(u,h)},normal:function(u,h){var y=!1,b=h.argString;if(b&&b[0]=="!"&&(b=b.slice(1),y=!0),b=b.trimStart(),!b){$e(u,"Argument is required.");return}var x=h.line;if(typeof x=="number")for(var k=isNaN(h.lineEnd)?x:h.lineEnd,T=x;T<=k;T++)u.setCursor(T,0),qt(u,h.argString.trimStart(),{noremap:y}),u.state.vim.insertMode&&Ir(u,!0);else qt(u,h.argString.trimStart(),{noremap:y}),u.state.vim.insertMode&&Ir(u,!0)},global:function(u,h){var y=h.argString;if(!y){$e(u,"Regular Expression missing from global");return}var b=h.commandName[0]==="v";y[0]==="!"&&h.commandName[0]==="g"&&(b=!0,y=y.slice(1));var x=h.line===void 0?u.firstLine():h.line,k=h.lineEnd||h.line||u.lastLine(),T=Ts(y),O=y,L="";if(T&&T.length&&(O=T[0],L=T.slice(1,T.length).join("/")),O)try{gr(u,O,!0,!0)}catch{$e(u,"Invalid regex: "+O);return}for(var z=bn(u).getQuery(),A=[],oe=x;oe<=k;oe++){var re=u.getLine(oe);z.test(re)!==b&&A.push(L?u.getLineHandle(oe):re)}if(!L){$e(u,A.join(`
`));return}var J=0,X=function(){if(J<A.length){var _e=A[J++],we=u.getLineNumber(_e);if(we==null){X();return}var qe=we+1+L;Jt.processCommand(u,qe,{callback:X})}else u.releaseLineHandles&&u.releaseLineHandles()};X()},substitute:function(u,h){if(!u.getSearchCursor)throw Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var y=h.argString,b=y?oc(y,y[0]):[],x="",k="",T,O,L,z=!1,A=!1;if(b&&b.length)x=b[0],be("pcre")&&x!==""&&(x=new RegExp(x).source),k=b[1],k!==void 0&&(k=be("pcre")?sc(k.replace(/([^\\])&/g,"$1$$&")):df(k),K.lastSubstituteReplacePart=k),T=b[2]?b[2].split(" "):[];else if(y&&y.length){$e(u,"Substitutions should be of the form :s/pattern/replace/");return}if(T&&(O=T[0],L=parseInt(T[1]),O&&(O.indexOf("c")!=-1&&(z=!0),O.indexOf("g")!=-1&&(A=!0),x=be("pcre")?x+"/"+O:x.replace(/\//g,"\\/")+"/"+O)),x)try{gr(u,x,!0,!0)}catch{$e(u,"Invalid regex: "+x);return}if(k||(k=K.lastSubstituteReplacePart),k===void 0){$e(u,"No previous substitute regular expression");return}var oe=bn(u).getQuery(),re=h.line===void 0?u.getCursor().line:h.line,J=h.lineEnd||re;re==u.firstLine()&&J==u.lastLine()&&(J=1/0),L&&(re=J,J=re+L-1);var X=yt(u,new n(re,0)),_e=u.getSearchCursor(oe,X);$i(u,z,A,re,J,_e,oe,k,h.callback)},startinsert:function(u,h){qt(u,h.argString=="!"?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(u){e.commands.save?e.commands.save(u):u.save&&u.save()},nohlsearch:function(u){fi(u)},yank:function(u){var h=Ge(u.getCursor()).line,y=u.getLine(h);K.registerController.pushText("0","yank",y,!0,!0)},delete:function(u,h){var y=h.selectionLine,b=isNaN(h.selectionLineEnd)?y:h.selectionLineEnd;Lr.delete(u,{linewise:!0},[{anchor:new n(y,0),head:new n(b+1,0)}])},join:function(u,h){var y=h.selectionLine,b=isNaN(h.selectionLineEnd)?y:h.selectionLineEnd;u.setCursor(new n(y,0)),Vt.joinLines(u,{repeat:b-y},u.state.vim)},delmarks:function(u,h){if(!h.argString||!Zn(h.argString)){$e(u,"Argument required");return}for(var y=u.state.vim,b=new e.StringStream(Zn(h.argString));!b.eol();){b.eatSpace();var x=b.pos;if(!b.match(/[a-zA-Z]/,!1)){$e(u,"Invalid argument: "+h.argString.substring(x));return}var k=b.next();if(b.match("-",!0)){if(!b.match(/[a-zA-Z]/,!1)){$e(u,"Invalid argument: "+h.argString.substring(x));return}var T=k,O=b.next();if(T&&O&&I(T)==I(O)){var L=T.charCodeAt(0),z=O.charCodeAt(0);if(L>=z){$e(u,"Invalid argument: "+h.argString.substring(x));return}for(var A=0;A<=z-L;A++){var oe=String.fromCharCode(L+A);delete y.marks[oe]}}else{$e(u,"Invalid argument: "+T+"-");return}}else k&&delete y.marks[k]}}},Jt=new Is;ze.defineEx("version","ve",u=>{$e(u,"Codemirror-vim version: 6.3.0")});function $i(u,h,y,b,x,k,T,O,L){u.state.vim.exMode=!0;var z=!1,A=0,oe,re,J;function X(){u.operation(function(){for(;!z;)_e(),qe();Ee()})}function _e(){var ct="",Xe=k.match||k.pos&&k.pos.match;ct=Xe?O.replace(/\$(\d{1,3}|[$&])/g,function(Pt,Fe){if(Fe=="$")return"$";if(Fe=="&")return Xe[0];for(var Qe=Fe;parseInt(Qe)>=Xe.length&&Qe.length>0;)Qe=Qe.slice(0,Qe.length-1);return Qe?Xe[Qe]+Fe.slice(Qe.length,Fe.length):Pt}):u.getRange(k.from(),k.to()).replace(T,O);var Ot=k.to().line;k.replace(ct),re=k.to().line,x+=re-Ot,J=re<Ot}function we(){var ct=oe&&Ge(k.to()),Xe=k.findNext();return Xe&&!Xe[0]&&ct&&$t(k.from(),ct)&&(Xe=k.findNext()),Xe&&A++,Xe}function qe(){for(;we()&&Ls(k.from(),b,x);)if(!(!y&&k.from().line==re&&!J)){u.scrollIntoView(k.from(),30),u.setSelection(k.from(),k.to()),oe=k.from(),z=!1;return}z=!0}function Ee(ct){if(ct&&ct(),u.focus(),oe){u.setCursor(oe);var Xe=u.state.vim;Xe.exMode=!1,Xe.lastHPos=Xe.lastHSPos=oe.ch}L?L():z&&$e(u,(A?"Found "+A+" matches":"No matches found")+" for pattern: "+T+(be("pcre")?" (set nopcre to use Vim regexps)":""))}function Ae(ct,Xe,Ot){switch(e.e_stop(ct),nn(ct)){case"y":_e(),qe();break;case"n":qe();break;case"a":var Pt=L;L=void 0,u.operation(X),L=Pt;break;case"l":_e();case"q":case"<Esc>":case"<C-c>":case"<C-[>":Ee(Ot);break}return z&&Ee(Ot),!0}if(qe(),z){$e(u,"No matches for "+T+(be("pcre")?" (set nopcre to use vim regexps)":""));return}if(!h){X(),L&&L();return}Da(u,{prefix:nr("span","replace with ",nr("strong",O)," (y/n/a/q/l)"),onKeyDown:Ae})}function Ir(u,h){var y=u.state.vim,b=K.macroModeState,x=K.registerController.getRegister("."),k=b.isPlaying,T=b.lastInsertModeChanges;k||(u.off("change",Ma),y.insertEnd&&y.insertEnd.clear(),y.insertEnd=void 0,e.off(u.getInputField(),"keydown",Aa)),!k&&y.insertModeRepeat&&y.insertModeRepeat>1&&(zs(u,y,y.insertModeRepeat-1,!0),y.lastEditInputState.repeatOverride=y.insertModeRepeat),delete y.insertModeRepeat,y.insertMode=!1,h||u.setCursor(u.getCursor().line,u.getCursor().ch-1),u.setOption("keyMap","vim"),u.setOption("disableInput",!0),u.toggleOverwrite(!1),x.setText(T.changes.join("")),e.signal(u,"vim-mode-change",{mode:"normal"}),b.isRecording&&Jr(b)}function Pa(u){o.unshift(u),u.keys&&dc(u.keys)}function dc(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){h&&(s[h]||(s[h]=0),s[h]++)})}function Na(u){u.split(/(<(?:[CSMA]-)*\w+>|.)/i).forEach(function(h){s[h]&&s[h]--})}function Ar(u,h,y,b,x){var k={keys:u,type:h};for(var T in k[h]=y,k[h+"Args"]=b,x)k[T]=x[T];Pa(k)}xe("insertModeEscKeysTimeout",200,"number");function As(u,h,y,b){var x=K.registerController.getRegister(b);if(b==":"){x.keyBuffer[0]&&Jt.processCommand(u,x.keyBuffer[0]),y.isPlaying=!1;return}var k=x.keyBuffer,T=0;y.isPlaying=!0,y.replaySearchQueries=x.searchQueries.slice(0);for(var O=0;O<k.length;O++)for(var L=k[O],z,A,oe=/<(?:[CSMA]-)*\w+>|./gi;z=oe.exec(L);)if(A=z[0],ze.handleKey(u,A,"macro"),h.insertMode){var re=x.insertModeChanges[T++].changes;K.macroModeState.lastInsertModeChanges.changes=re,Xr(u,re,1),Ir(u)}y.isPlaying=!1}function La(u,h){if(!u.isPlaying){var y=u.latestRegister,b=K.registerController.getRegister(y);b&&b.pushText(h)}}function Jr(u){if(!u.isPlaying){var h=u.latestRegister,y=K.registerController.getRegister(h);y&&y.pushInsertModeChanges&&y.pushInsertModeChanges(u.lastInsertModeChanges)}}function qs(u,h){if(!u.isPlaying){var y=u.latestRegister,b=K.registerController.getRegister(y);b&&b.pushSearchQuery&&b.pushSearchQuery(h)}}function Ma(u,h){var y=K.macroModeState,b=y.lastInsertModeChanges;if(!y.isPlaying)for(var x=u.state.vim;h;){if(b.expectCursorActivityForChange=!0,b.ignoreCount>1)b.ignoreCount--;else if(h.origin=="+input"||h.origin=="paste"||h.origin===void 0){var k=u.listSelections().length;k>1&&(b.ignoreCount=k);var T=h.text.join(`
`);if(b.maybeReset&&(b.maybeReset=(b.changes=[],!1)),T)if(u.state.overwrite&&!/\n/.test(T))b.changes.push([T]);else{if(T.length>1){var O=x&&x.insertEnd&&x.insertEnd.find(),L=u.getCursor();if(O&&O.line==L.line){var z=O.ch-L.ch;z>0&&z<T.length&&(b.changes.push([T,z]),T="")}}T&&b.changes.push(T)}}h=h.next}}function js(u){var x;var h=u.state.vim;if(h.insertMode){var y=K.macroModeState;if(y.isPlaying)return;var b=y.lastInsertModeChanges;b.expectCursorActivityForChange?b.expectCursorActivityForChange=!1:(b.maybeReset=!0,h.insertEnd&&h.insertEnd.clear(),h.insertEnd=u.setBookmark(u.getCursor(),{insertLeft:!0}))}else(x=u.curOp)!=null&&x.isVimOp||Ia(u,h)}function Ia(u,h){var y=u.getCursor("anchor"),b=u.getCursor("head");if(h.visualMode&&!u.somethingSelected()?Je(u,!1):!h.visualMode&&!h.insertMode&&u.somethingSelected()&&(h.visualMode=!0,h.visualLine=!1,e.signal(u,"vim-mode-change",{mode:"visual"})),h.visualMode){var x=lt(b,y)?0:-1,k=lt(b,y)?-1:0;b=Ct(b,0,x),y=Ct(y,0,k),h.sel={anchor:y,head:b},hr(u,h,"<",vt(b,y)),hr(u,h,">",On(b,y))}else h.insertMode||(h.lastHPos=u.getCursor().ch)}function Aa(u){var h=K.macroModeState.lastInsertModeChanges,y=e.keyName?e.keyName(u):u.key;y&&(y.indexOf("Delete")!=-1||y.indexOf("Backspace")!=-1)&&(h.maybeReset&&(h.maybeReset=(h.changes=[],!1)),h.changes.push(new Ue(y,u)))}function zs(u,h,y,b){var x=K.macroModeState;x.isPlaying=!0;var k=h.lastEditActionCommand,T=h.inputState;function O(){k?An.processAction(u,h,k):An.evalInput(u,h)}function L(A){if(x.lastInsertModeChanges.changes.length>0){A=h.lastEditActionCommand?A:1;var oe=x.lastInsertModeChanges;Xr(u,oe.changes,A)}}if(h.inputState=h.lastEditInputState,k&&k.interlaceInsertRepeat)for(var z=0;z<y;z++)O(),L(1);else b||O(),L(y);h.inputState=T,h.insertMode&&!b&&Ir(u),x.isPlaying=!1}function kn(u,h){e.lookupKey(h,"vim-insert",function(y){return typeof y=="string"?e.commands[y](u):y(u),!0})}function Xr(u,h,y){var b=u.getCursor("head"),x=K.macroModeState.lastInsertModeChanges.visualBlock;x&&(Hn(u,b,x+1),y=u.listSelections().length,u.setCursor(b));for(var k=0;k<y;k++){x&&u.setCursor(Ct(b,k,0));for(var T=0;T<h.length;T++){var O=h[T];if(O instanceof Ue)kn(u,O.keyName);else if(typeof O=="string")u.replaceSelection(O);else{var L=u.getCursor(),z=Ct(L,0,O[0].length-(O[1]||0));u.replaceRange(O[0],L,O[1]?L:z),u.setCursor(z)}}}x&&u.setCursor(Ct(b,0,1))}function Wi(u){var h=new u.constructor;return Object.keys(u).forEach(function(y){if(y!="insertEnd"){var b=u[y];Array.isArray(b)?b=b.slice():b&&typeof b=="object"&&b.constructor!=Object&&(b=Wi(b)),h[y]=b}}),u.sel&&(h.sel={head:u.sel.head&&Ge(u.sel.head),anchor:u.sel.anchor&&Ge(u.sel.anchor)}),h}function qa(u,h,y){var k=le(u),b=u,x=!1,k=ze.maybeInitVimState_(b),T=k.visualBlock||k.wasInVisualBlock;if(b.state.closeVimNotification){var O=b.state.closeVimNotification;if(b.state.closeVimNotification=null,O(),h=="<CR>")return kt(b),!0}var L=b.isInMultiSelectMode();if(k.wasInVisualBlock&&!L?k.wasInVisualBlock=!1:L&&k.visualBlock&&(k.wasInVisualBlock=!0),h=="<Esc>"&&!k.insertMode&&!k.visualMode&&L&&k.status=="<Esc>")kt(b);else if(T||!L||b.inVirtualSelectionMode)x=ze.handleKey(b,h,y);else{var z=Wi(k),A=k.inputState.changeQueueList||[];b.operation(function(){var re;b.curOp&&(b.curOp.isVimOp=!0);var oe=0;b.forEachSelection(function(){b.state.vim.inputState.changeQueue=A[oe];var J=b.getCursor("head"),X=b.getCursor("anchor"),_e=lt(J,X)?0:-1,we=lt(J,X)?-1:0;J=Ct(J,0,_e),X=Ct(X,0,we),b.state.vim.sel.head=J,b.state.vim.sel.anchor=X,x=ze.handleKey(b,h,y),b.virtualSelection&&(A[oe]=b.state.vim.inputState.changeQueue,b.state.vim=Wi(z)),oe++}),(re=b.curOp)!=null&&re.cursorActivity&&!x&&(b.curOp.cursorActivity=!1),b.state.vim=k,k.inputState.changeQueueList=A,k.inputState.changeQueue=null},!0)}return x&&!k.visualMode&&!k.insertMode&&k.visualMode!=b.somethingSelected()&&Ia(b,k),x}return Ne(),ze}function Gn(e,n){var i=n.ch,o=n.line+1;o<1&&(o=1,i=0),o>e.lines&&(o=e.lines,i=Number.MAX_VALUE);var s=e.line(o);return Math.min(s.from+Math.max(0,i),s.to)}function Dr(e,n){let i=e.lineAt(n);return{line:i.number-1,ch:n-i.from}}var Vr=class{constructor(e,n){this.line=e,this.ch=n}};function D0(e,n,i){if(e.addEventListener)e.addEventListener(n,i,!1);else{var o=e._handlers||(e._handlers={});o[n]=(o[n]||[]).concat(i)}}function O0(e,n,i){if(e.removeEventListener)e.removeEventListener(n,i,!1);else{var o=e._handlers,s=o&&o[n];if(s){var c=s.indexOf(i);c>-1&&(o[n]=s.slice(0,c).concat(s.slice(c+1)))}}}function P0(e,n,...i){var c;var o=(c=e._handlers)==null?void 0:c[n];if(o)for(var s=0;s<o.length;++s)o[s](...i)}function N0(e,...n){if(e)for(var i=0;i<e.length;++i)e[i](...n)}var Od;try{Od=RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{Od=/[\w]/}function bs(e,n){var i=e.cm6;if(!i.state.readOnly){var o="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(o="input.type.compose.start")),n.annotations)try{n.annotations.some(function(s){s.value=="input"&&(s.value=o)})}catch(s){console.error(s)}else n.userEvent=o;return i.dispatch(n)}}function L0(e,n){var o;e.curOp&&(e.curOp.$changeStart=void 0),(n?oR:sR)(e.cm6);let i=(o=e.curOp)==null?void 0:o.$changeStart;i!=null&&e.cm6.dispatch({selection:{anchor:i}})}var vk={Left:e=>os(e.cm6,{key:"Left"},"editor"),Right:e=>os(e.cm6,{key:"Right"},"editor"),Up:e=>os(e.cm6,{key:"Up"},"editor"),Down:e=>os(e.cm6,{key:"Down"},"editor"),Backspace:e=>os(e.cm6,{key:"Backspace"},"editor"),Delete:e=>os(e.cm6,{key:"Delete"},"editor")},Ze=class fw{openDialog(n,i,o){return _k(this,n,i,o)}openNotification(n,i){return bk(this,n,i)}constructor(n){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=n,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}on(n,i){D0(this,n,i)}off(n,i){O0(this,n,i)}signal(n,i,o){P0(this,n,i,o)}indexFromPos(n){return Gn(this.cm6.state.doc,n)}posFromIndex(n){return Dr(this.cm6.state.doc,n)}foldCode(n){let i=this.cm6,o=i.state.selection.ranges,s=this.cm6.state.doc,c=Gn(s,n),d=fn.create([fn.range(c,c)],0).ranges;i.state.selection.ranges=d,JT(i),i.state.selection.ranges=o}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(n,i){typeof n=="object"&&(i=n.ch,n=n.line);var o=Gn(this.cm6.state.doc,{line:n,ch:i||0});this.cm6.dispatch({selection:{anchor:o}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(n){var i=this.cm6.state.selection.main,o=n=="head"||!n?i.head:n=="anchor"?i.anchor:n=="start"?i.from:n=="end"?i.to:null;if(o==null)throw Error("Invalid cursor type");return this.posFromIndex(o)}listSelections(){var n=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(i=>({anchor:Dr(n,i.anchor),head:Dr(n,i.head)}))}setSelections(n,i){var o=this.cm6.state.doc,s=n.map(c=>{var d=Gn(o,c.head),p=Gn(o,c.anchor);return d==p?fn.cursor(d,1):fn.range(p,d)});this.cm6.dispatch({selection:fn.create(s,i)})}setSelection(n,i,o){this.setSelections([{anchor:n,head:i}],0),o&&o.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(n){var i=this.cm6.state.doc;return n<0||n>=i.lines?"":this.cm6.state.doc.line(n+1).text}getLineHandle(n){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:n,index:this.indexFromPos(new Vr(n,0))}}getLineNumber(n){var i=this.$lineHandleChanges;if(!i)return null;for(var o=n.index,s=0;s<i.length;s++)if(o=i[s].changes.mapPos(o,1,r2.TrackAfter),o==null)return null;var c=this.posFromIndex(o);return c.ch==0?c.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(n,i){var o=this.cm6.state.doc;return this.cm6.state.sliceDoc(Gn(o,n),Gn(o,i))}replaceRange(n,i,o,s){o||(o=i);var c=this.cm6.state.doc,d=Gn(c,i),p=Gn(c,o);bs(this,{changes:{from:d,to:p,insert:n}})}replaceSelection(n){bs(this,this.cm6.state.replaceSelection(n))}replaceSelections(n){var i=this.cm6.state.selection.ranges.map((o,s)=>({from:o.from,to:o.to,insert:n[s]||""}));bs(this,{changes:i})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var n=this.cm6;return n.state.selection.ranges.map(i=>n.state.sliceDoc(i.from,i.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(n=>!n.empty)}getInputField(){return this.cm6.contentDOM}clipPos(n){var i=this.cm6.state.doc,o=n.ch,s=n.line+1;s<1&&(s=1,o=0),s>i.lines&&(s=i.lines,o=Number.MAX_VALUE);var c=i.line(s);return o=Math.min(Math.max(0,o),c.to-c.from),new Vr(s-1,o)}getValue(){return this.cm6.state.doc.toString()}setValue(n){var i=this.cm6;return i.dispatch({changes:{from:0,to:i.state.doc.length,insert:n},selection:fn.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(n,i){var o=this.cm6.state,s=Gn(o.doc,n),c=a2(o,s+1,-1);return c&&c.end||(c=a2(o,s,1),c&&c.end)?{to:Dr(o.doc,c.end.from)}:{to:void 0}}scanForBracket(n,i,o,s){return kk(this,n,i,o,s)}indentLine(n,i){i?this.indentMore():this.indentLess()}indentMore(){uR(this.cm6)}indentLess(){_R(this.cm6)}execCommand(n){if(n=="indentAuto")fw.commands.indentAuto(this);else if(n=="goLineLeft")gR(this.cm6);else if(n=="goLineRight"){hR(this.cm6);let i=this.cm6.state,o=i.selection.main.head;o<i.doc.length&&i.sliceDoc(o,o+1)!==`
`&&dR(this.cm6)}else console.log(n+" is not implemented")}setBookmark(n,i){var o=i!=null&&i.insertLeft?1:-1,s=this.indexFromPos(n);return new Ek(this,s,o)}addOverlay({query:n}){let i=new mR({regexp:!0,search:n.source,caseSensitive:!/i/.test(n.flags)});if(i.valid){i.forVim=!0,this.cm6Query=i;let o=ah.of(i);return this.cm6.dispatch({effects:o}),i}}removeOverlay(n){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let i=ah.of(this.cm6Query);this.cm6.dispatch({effects:i})}getSearchCursor(n,i){var o=this,s=null,c=null,d=!1;i.ch??(i.ch=Number.MAX_VALUE);var p=Gn(o.cm6.state.doc,i),m=n.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(E,R){return R||"\\"+E});function v(E,R=0,M=E.length){return new cR(E,m,{ignoreCase:n.ignoreCase},R,M)}function _(E){var R=o.cm6.state.doc;if(E>R.length)return null;let M=v(R,E).next();return M.done?null:M.value}var w=1e4;function C(E,R){var M=o.cm6.state.doc;for(let H=1;;H++){let W=Math.max(E,R-H*w),U=v(M,W,R),I=null;for(;!U.next().done;)I=U.value;if(I&&(W==E||I.from>W+10))return I;if(W==E)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(E){var R=o.cm6.state.doc;return s=E?C(0,s?d?s.to-1:s.from:p):_(s?d?s.to+1:s.to:p),c=s&&{from:Dr(R,s.from),to:Dr(R,s.to),match:s.match},d=s?s.from==s.to:!1,s&&s.match},from:function(){return c==null?void 0:c.from},to:function(){return c==null?void 0:c.to},replace:function(E){s&&(bs(o,{changes:{from:s.from,to:s.to,insert:E}}),s.to=s.from+E.length,c&&(c.to=Dr(o.cm6.state.doc,s.to)))},get match(){return c&&c.match}}}findPosV(n,i,o,s){let{cm6:c}=this,d=c.state.doc,p=o=="page"?c.dom.clientHeight:0,m=Gn(d,n),v=fn.cursor(m,1,void 0,s),_=Math.round(Math.abs(i));for(let C=0;C<_;C++)o=="page"?v=c.moveVertically(v,i>0,p):o=="line"&&(v=c.moveVertically(v,i>0));let w=Dr(d,v.head);return(i<0&&v.head==0&&s!=0&&n.line==0&&n.ch!=0||i>0&&v.head==d.length&&w.ch!=s&&n.line==w.line)&&(w.hitSide=!0),w}charCoords(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=Gn(this.cm6.state.doc,n),c=this.cm6.coordsAtPos(s),d=-o.top;return{left:((c==null?void 0:c.left)||0)-o.left,top:((c==null?void 0:c.top)||0)+d,bottom:((c==null?void 0:c.bottom)||0)+d}}coordsChar(n,i){var o=this.cm6.contentDOM.getBoundingClientRect(),s=this.cm6.posAtCoords({x:n.left+o.left,y:n.top+o.top})||0;return Dr(this.cm6.state.doc,s)}getScrollInfo(){var n=this.cm6.scrollDOM;return{left:n.scrollLeft,top:n.scrollTop,height:n.scrollHeight,width:n.scrollWidth,clientHeight:n.clientHeight,clientWidth:n.clientWidth}}scrollTo(n,i){n!=null&&(this.cm6.scrollDOM.scrollLeft=n),i!=null&&(this.cm6.scrollDOM.scrollTop=i)}scrollIntoView(n,i){if(n){var o=this.indexFromPos(n);this.cm6.dispatch({effects:Tn.scrollIntoView(o)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(n,i){this.cm6.dom.style.width=n+4+"px",this.cm6.dom.style.height=i+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(n){for(let o in this.$lineHandleChanges&&this.$lineHandleChanges.push(n),this.marks)this.marks[o].update(n.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(o=>o.map(n.changes)));var i=this.curOp=this.curOp||{};n.changes.iterChanges((o,s,c,d,p)=>{(i.$changeStart==null||i.$changeStart>c)&&(i.$changeStart=c),this.$lastChangeEndOffset=d;var m={text:p.toJSON()};i.lastChange?i.lastChange.next=i.lastChange=m:i.lastChange=i.change=m},!0),i.changeHandlers||(i.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var n=this.curOp=this.curOp||{};n.cursorActivityHandlers||(n.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(n,i){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var o=n()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return o}onBeforeEndOperation(){var n=this.curOp,i=!1;n&&(n.change&&N0(n.changeHandlers,this,n.change),n&&n.cursorActivity&&(N0(n.cursorActivityHandlers,this,null),n.isVimOp&&(i=!0)),this.curOp=null),i&&this.scrollIntoView()}moveH(n,i){if(i=="char"){var o=this.getCursor();this.setCursor(o.line,o.ch+n)}}setOption(n,i){switch(n){case"keyMap":this.state.keyMap=i;break;case"textwidth":this.state.textwidth=i;break}}getOption(n){switch(n){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readOnly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(i2)=="	";case"indentUnit":return this.cm6.state.facet(i2).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(n){this.state.overwrite=n}getTokenTypeAt(n){var s,c,d;var i=this.indexFromPos(n),o=((d=(c=(s=c2(this.cm6.state,i))==null?void 0:s.resolve(i))==null?void 0:c.type)==null?void 0:d.name)||"";return/comment/i.test(o)?"comment":/string/i.test(o)?"string":""}overWriteSelection(n){var i=this.cm6.state.doc,o=this.cm6.state.selection,s=o.ranges.map(c=>{if(c.empty){var d=c.to<i.length?i.sliceString(c.from,c.to+1):"";if(d&&!/\n/.test(d))return fn.range(c.from,c.to+1)}return c});this.cm6.dispatch({selection:fn.create(s,o.mainIndex)}),this.replaceSelection(n)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(n){var i=this.cm6.state.selection;this.virtualSelection=fn.create(i.ranges,i.mainIndex);for(var o=0;o<this.virtualSelection.ranges.length;o++){var s=this.virtualSelection.ranges[o];s&&(this.cm6.dispatch({selection:fn.create([s])}),n(),this.virtualSelection.ranges[o]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(n){return Tk(this,n)}};Ze.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ze.Pos=Vr,Ze.StringStream=iR,Ze.commands={cursorCharLeft:function(e){fR(e.cm6)},redo:function(e){L0(e,!1)},undo:function(e){L0(e,!0)},newlineAndIndent:function(e){aR({state:e.cm6.state,dispatch:n=>bs(e,n)})},indentAuto:function(e){bR(e.cm6)},newlineAndIndentContinueComment:void 0,save:void 0},Ze.isWordChar=function(e){return Od.test(e)},Ze.keys=vk,Ze.addClass=function(e,n){},Ze.rmClass=function(e,n){},Ze.e_preventDefault=function(e){e.preventDefault()},Ze.e_stop=function(e){var n,i;(n=e==null?void 0:e.stopPropagation)==null||n.call(e),(i=e==null?void 0:e.preventDefault)==null||i.call(e)},Ze.lookupKey=function(e,n,i){var o=Ze.keys[e];!o&&/^Arrow/.test(e)&&(o=Ze.keys[e.slice(5)]),o&&i(o)},Ze.on=D0,Ze.off=O0,Ze.signal=P0,Ze.findMatchingTag=Ck,Ze.findEnclosingTag=Sk,Ze.keyName=void 0;function M0(e,n,i){var o=document.createElement("div");return o.appendChild(n),o}function I0(e,n){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=n}function bk(e,n,i){I0(e,p);var o=M0(e,n,i&&i.bottom),s=!1,c,d=i&&i.duration!==void 0?i.duration:5e3;function p(){s||(s=!0,clearTimeout(c),o.remove(),q0(e,o))}return o.onclick=function(m){m.preventDefault(),p()},A0(e,o),d&&(c=setTimeout(p,d)),p}function A0(e,n){var i=e.state.dialog;e.state.dialog=n,n.style.flex="1",n&&i!==n&&(i&&i.contains(document.activeElement)&&e.focus(),i&&i.parentElement?i.parentElement.replaceChild(n,i):i&&i.remove(),Ze.signal(e,"dialog"))}function q0(e,n){e.state.dialog==n&&(e.state.dialog=null,Ze.signal(e,"dialog"))}function _k(e,n,i,o){o||(o={}),I0(e,void 0);var s=M0(e,n,o.bottom),c=!1;A0(e,s);function d(m){if(typeof m=="string")p.value=m;else{if(c)return;c=!0,q0(e,s),e.state.dialog||e.focus(),o.onClose&&o.onClose(s)}}var p=s.getElementsByTagName("input")[0];return p&&(o.value&&(p.value=o.value,o.selectValueOnOpen!==!1&&p.select()),o.onInput&&Ze.on(p,"input",function(m){o.onInput(m,p.value,d)}),o.onKeyUp&&Ze.on(p,"keyup",function(m){o.onKeyUp(m,p.value,d)}),Ze.on(p,"keydown",function(m){o&&o.onKeyDown&&o.onKeyDown(m,p.value,d)||(m.keyCode==13&&i&&i(p.value),(m.keyCode==27||o.closeOnEnter!==!1&&m.keyCode==13)&&(p.blur(),Ze.e_stop(m),d()))}),o.closeOnBlur!==!1&&Ze.on(p,"blur",function(){setTimeout(function(){document.activeElement!==p&&d()})}),p.focus()),d}var wk={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function xk(e){return e&&e.bracketRegex||/[(){}[\]]/}function kk(e,n,i,o,s){for(var c=s&&s.maxScanLineLength||1e4,d=s&&s.maxScanLines||1e3,p=[],m=xk(s),v=i>0?Math.min(n.line+d,e.lastLine()+1):Math.max(e.firstLine()-1,n.line-d),_=n.line;_!=v;_+=i){var w=e.getLine(_);if(w){var C=i>0?0:w.length-1,E=i>0?w.length:-1;if(!(w.length>c))for(_==n.line&&(C=n.ch-(i<0?1:0));C!=E;C+=i){var R=w.charAt(C);if(m.test(R)){var M=wk[R];if(M&&M.charAt(1)==">"==i>0)p.push(R);else if(p.length)p.pop();else return{pos:new Vr(_,C),ch:R}}}}}return _-i==(i>0?e.lastLine():e.firstLine())?!1:null}function Ck(e,n){return null}function Sk(e,n){var c,d,p;var i=e.cm6.state,o=e.indexFromPos(n);o<i.doc.length&&i.sliceDoc(o,o+1)=="<"&&o++;for(var s=((c=c2(i,o))==null?void 0:c.resolve(o))||null;s;){if(((d=s.firstChild)==null?void 0:d.type.name)=="OpenTag"&&((p=s.lastChild)==null?void 0:p.type.name)=="CloseTag")return{open:j0(i.doc,s.firstChild),close:j0(i.doc,s.lastChild)};s=s.parent}}function j0(e,n){return{from:Dr(e,n.from),to:Dr(e,n.to)}}var Ek=class{constructor(e,n,i){this.cm=e,this.id=e.$mid++,this.offset=n,this.assoc=i,e.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(e){this.offset!=null&&(this.offset=e.mapPos(this.offset,this.assoc,r2.TrackDel))}};function Tk(e,n){var R;for(var i=n.column||e.getOption("textwidth")||80,o=n.allowMerge!=0,s=Math.min(n.from,n.to),c=Math.max(n.from,n.to);s<=c;){var d=e.getLine(s);if(d.length>i){var p=E(d,i,5);if(p){var m=(R=/^\s*/.exec(d))==null?void 0:R[0];e.replaceRange(`
`+m,new Vr(s,p.start),new Vr(s,p.end))}c++}else if(o&&/\S/.test(d)&&s!=c){var v=e.getLine(s+1);if(v&&/\S/.test(v)){var _=d.replace(/\s+$/,""),w=v.replace(/^\s+/,""),C=_+" "+w,p=E(C,i,5);p&&p.start>_.length||C.length<i?(e.replaceRange(" ",new Vr(s,_.length),new Vr(s+1,v.length-w.length)),s--,c--):_.length<d.length&&e.replaceRange("",new Vr(s,_.length),new Vr(s,d.length))}}s++}return s;function E(M,H,W){if(!(M.length<H)){var U=M.slice(0,H),I=M.slice(H),G=/^(?:(\s+)|(\S+)(\s+))/.exec(I),me=/(?:(\s+)|(\s+)(\S+))$/.exec(U),N=0,q=0;if(me&&!me[2]&&(N=H-me[1].length,q=H),G&&!G[2]&&(N||(N=H),q=H+G[1].length),N)return{start:N,end:q};if(me&&me[2]&&me.index>W)return{start:me.index,end:me.index+me[2].length};if(G&&G[2])return N=H+G[2].length,{start:N,end:N+G[3].length}}}}var Pd=tR||(function(){let e={cursorBlinkRate:1200};return function(){return e}})(),Rk=class{constructor(e,n,i,o,s,c,d,p,m,v){this.left=e,this.top=n,this.height=i,this.fontFamily=o,this.fontSize=s,this.fontWeight=c,this.color=d,this.className=p,this.letter=m,this.partial=v}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",e.style.height=this.height+"px",e.style.lineHeight=this.height+"px",e.style.fontFamily=this.fontFamily,e.style.fontSize=this.fontSize,e.style.fontWeight=this.fontWeight,e.style.color=this.partial?"transparent":this.color,e.className=this.className,e.textContent=this.letter}eq(e){return this.left==e.left&&this.top==e.top&&this.height==e.height&&this.fontFamily==e.fontFamily&&this.fontSize==e.fontSize&&this.fontWeight==e.fontWeight&&this.color==e.color&&this.className==e.className&&this.letter==e.letter}},Dk=class{constructor(e,n){this.view=e,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=e.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),e.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let e=Pd(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=e+"ms"}update(e){(e.selectionSet||e.geometryChanged||e.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),Ok(e)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:e}=this.view,n=[];for(let i of e.selection.ranges){let o=i==e.selection.main,s=Lk(this.cm,this.view,i,o);s&&n.push(s)}return{cursors:n}}drawSel({cursors:e}){if(e.length!=this.cursors.length||e.some((n,i)=>!n.eq(this.cursors[i]))){let n=this.cursorLayer.children;if(n.length!==e.length){this.cursorLayer.textContent="";for(let i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,o)=>i.adjust(n[o]));this.cursors=e}}destroy(){this.cursorLayer.remove()}};function Ok(e){return Pd(e.startState)!=Pd(e.state)}var Pk=bu.highest(Tn.theme({".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}}));function Nk(e){let n=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==rR.LTR?n.left:n.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft*e.scaleX,top:n.top-e.scrollDOM.scrollTop*e.scaleY}}function Lk(e,n,i,o){var _,w,C;var s;let c=i.head,d=!1,p=1,m=e.state.vim;if(m&&(!m.insertMode||e.state.overwrite)){if(d=!0,m.visualBlock&&!o)return null;i.anchor<i.head&&(c<n.state.doc.length&&n.state.sliceDoc(c,c+1))!=`
`&&c--,e.state.overwrite?p=.2:m.status&&(p=.5)}if(d){let E=c<n.state.doc.length&&n.state.sliceDoc(c,c+1);E&&/[\uDC00-\uDFFF]/.test(E)&&c>1&&(c--,E=n.state.sliceDoc(c,c+1));let R=n.coordsAtPos(c,1);if(!R)return null;let M=Nk(n),H=n.domAtPos(c),W=H?H.node:n.contentDOM;for(W instanceof Text&&H.offset>=W.data.length&&((_=W.parentElement)==null?void 0:_.nextSibling)&&(W=(w=W.parentElement)==null?void 0:w.nextSibling,H={node:W,offset:0});H&&H.node instanceof HTMLElement;)W=H.node,H={node:H.node.childNodes[H.offset],offset:0};if(!(W instanceof HTMLElement)){if(!W.parentNode)return null;W=W.parentNode}let U=getComputedStyle(W),I=R.left,G=(C=(s=n).coordsForChar)==null?void 0:C.call(s,c);if(G&&(I=G.left),!E||E==`
`||E=="\r")E="\xA0";else if(E=="	"){E="\xA0";var v=n.coordsAtPos(c+1,-1);v&&(I=v.left-(v.left-R.left)/parseInt(U.tabSize))}else/[\uD800-\uDBFF]/.test(E)&&c<n.state.doc.length-1&&(E+=n.state.sliceDoc(c+1,c+2));let me=R.bottom-R.top;return new Rk((I-M.left)/n.scaleX,(R.top-M.top+me*(1-p))/n.scaleY,me*p/n.scaleY,U.fontFamily,U.fontSize,U.fontWeight,U.color,o?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",E,p!=1)}else return null}let z0,F0,B0,H0;z0=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent),Pi=yk(Ze),F0=250,B0=Tn.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em",display:"flex"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),H0=io.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=Ri.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.compositionText="",this.view=e;let n=this.cm=new Ze(e);Pi.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new Dk(e,n),this.updateClass(),this.cm.on("vim-command-done",()=>{n.state.vim&&(n.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",i=>{n.state.vim&&(n.state.vim.mode=i.mode,i.subMode&&(n.state.vim.mode+=" block"),n.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus())}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:V0.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.spacer=document.createElement("span"),this.spacer.style.flex="1",this.statusButton=document.createElement("span"),this.statusButton.onclick=i=>{Pi.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var n;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions){for(let i of e.transactions)for(let o of i.effects)if(o.is(ah))if(!((n=o.value)!=null&&n.forVim))this.highlight(null);else{let s=o.value.create();this.highlight(s)}}this.blockCursor.update(e)}updateClass(){let e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,n=this.cm.state.vim;if(!e||!n)return;let i=this.cm.state.dialog;if(i)i.parentElement!=e&&(e.textContent="",e.appendChild(i));else{e.textContent="";var o=(n.mode||"normal").toUpperCase();n.insertModeReturn&&(o+="(C-O)"),this.statusButton.textContent=`--${o}--`,e.appendChild(this.statusButton),e.appendChild(this.spacer)}this.dom.textContent=n.status,e.appendChild(this.dom)}destroy(){Pi.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=Ri.none;let{view:n}=this,i=new s2;for(let o=0,s=n.visibleRanges,c=s.length;o<c;o++){let{from:d,to:p}=s[o];for(;o<c-1&&p>s[o+1].from-2*F0;)p=s[++o].to;e.highlight(n.state,d,p,(m,v)=>{i.add(m,v,Ik)})}return this.decorations=i.finish()}handleKey(e,n){let i=this.cm,o=i.state.vim;if(!o)return;let s=Pi.vimKeyFromEvent(e,o);if(Ze.signal(this.cm,"inputEvent",{type:"handleKey",key:s}),!s)return;if(s=="<Esc>"&&!o.insertMode&&!o.visualMode&&this.query){let d=o.searchState_;d&&(i.removeOverlay(d.getOverlay()),d.setOverlay(null))}if(s==="<C-c>"&&!Ze.isMac&&i.somethingSelected())return this.waitForCopy=!0,!0;o.status=(o.status||"")+s;let c=Pi.multiSelectHandleKey(i,s,"user");return o=Pi.maybeInitVimState_(i),!c&&o.insertMode&&i.state.overwrite&&(e.key&&e.key.length==1&&!/\n/.test(e.key)?(c=!0,i.overWriteSelection(e.key)):e.key=="Backspace"&&(c=!0,Ze.commands.cursorCharLeft(i))),c&&(Ze.signal(this.cm,"vim-keypress",s),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!c}},{eventHandlers:{copy:function(e,n){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var i=this.cm,o=i.state.vim;o&&(o.insertMode?i.setSelection(i.getCursor(),i.getCursor()):i.operation(()=>{i.curOp&&(i.curOp.isVimOp=!0),Pi.handleKey(i,"<Esc>","user")}))}))},compositionstart:function(e,n){this.useNextTextInput=!0,Ze.signal(this.cm,"inputEvent",e)},compositionupdate:function(e,n){Ze.signal(this.cm,"inputEvent",e)},compositionend:function(e,n){Ze.signal(this.cm,"inputEvent",e)},keypress:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=="Dead"&&this.handleKey(e,n)},keydown:function(e,n){Ze.signal(this.cm,"inputEvent",e),this.lastKeydown=e.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,n))}},provide:()=>[Tn.inputHandler.of((e,n,i,o)=>{var _,w;var s=jl(e);if(!s)return!1;var c=(_=s.state)==null?void 0:_.vim,d=s.state.vimPlugin;if(c&&!c.insertMode&&!((w=s.curOp)!=null&&w.isVimOp)){if(o==="\0\0")return!0;if(Ze.signal(s,"inputEvent",{type:"text",text:o,from:n,to:i}),o.length==1&&d.useNextTextInput){if(c.expectLiteralNext&&e.composing)return d.compositionText=o,!1;if(d.compositionText){var p=d.compositionText;d.compositionText="";var m=e.state.selection.main.head;if(p===e.state.sliceDoc(m-p.length,m)){var v=s.getCursor();s.replaceRange("",s.posFromIndex(m-p.length),v)}}return d.handleKey({key:o,preventDefault:()=>{},stopPropagation:()=>{}}),Mk(e),!0}}return!1})],decorations:e=>e.decorations});function Mk(e){var n=e.scrollDOM.parentElement;if(n){if(z0){e.contentDOM.textContent="\0\0",e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var i=e.scrollDOM.nextSibling,o=window.getSelection(),s=o&&{anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset};e.scrollDOM.remove(),n.insertBefore(e.scrollDOM,i);try{s&&o&&(o.setPosition(s.anchorNode,s.anchorOffset),s.focusNode&&o.extend(s.focusNode,s.focusOffset))}catch(c){console.error(c)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}var Ik=Ri.mark({class:"cm-searchMatch"}),V0=no.define(),Ak=yu.define({create:()=>!1,update(e,n){for(let i of n.effects)i.is(V0)&&(e=i.value);return e},provide:e=>ih.from(e,n=>n?qk:null)});function qk(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.dialog&&n.appendChild(i.state.dialog),{top:!1,dom:n}}function jk(e){let n=document.createElement("div");n.className="cm-vim-panel";let i=e.cm;return i.state.statusbar=n,i.state.vimPlugin.updateStatus(),{dom:n}}W_=function(e={}){return[B0,H0,Pk,e.status?ih.of(jk):Ak]},jl=function(e){return e.cm||null},qh=function(e){let n=e.state.selection.main;return n.from===0&&n.to===0},Fh=function(e,n=!1){let i=e.state.selection.main,o=e.state.doc.length;return n&&i.from===o-1&&i.to===o-1?!0:i.from===o&&i.to===o},R2=function(e){e&&e.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length}})},d_=function(e){var n;return((n=jl(e))==null?void 0:n.state.vim)!=null},t_=function(e){var i;let n=(i=jl(e))==null?void 0:i.state.vim;return n?!n.mode&&!n.insertMode&&!n.visualMode?!0:n.mode==="normal":!1},b_=function(e){e&&e.dispatch({selection:{anchor:0,head:e.state.doc.length}})};function $0(e,n){if(!(n!=null&&n.length))return Ri.none;let i=new s2,o=e.facet(uo),s=n.filter(c=>c.kind==="cell"&&c.cellId===o).sort((c,d)=>c.lineNumber-d.lineNumber);for(let c of s){let d=e.doc.line(c.lineNumber),p=Ri.line({class:"cm-error-line"});i.add(d.from,d.from,p)}return i.finish()}var zk=class{constructor(e,n){this.decorations=$0(e.state,n.get()),this.unsubscribe=n.sub(i=>{let o=this.decorations.size;this.decorations=$0(e.state,i),o!==this.decorations.size&&e.dispatch({userEvent:"marimo.error-decoration-update"})})}update(e){this.decorations=this.decorations.map(e.changes)}destroy(){this.unsubscribe()}};function Fk(e){return io.define(n=>new zk(n,e),{decorations:n=>n.decorations})}function Bk(e){return[Fk(e),Tn.theme({".cm-error-line":{backgroundColor:"color-mix(in srgb, var(--red-4) 40%, transparent)"},"&.cm-focused .cm-error-line.cm-activeLine":{backgroundColor:"color-mix(in srgb, var(--red-6) 40%, transparent)"}})]}function Hk({cellId:e,hotkeys:n}){let i=[];return i.push({key:n.getHotkey("cell.run").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).onRun(),!0)},{key:n.getHotkey("cell.runAndNewBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})),!0}},{key:n.getHotkey("cell.runAndNewAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.onRun(),e==="__scratch__"||(o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!0})),!0}},{key:n.getHotkey("cell.aiCompletion").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).aiCellCompletion()&&o.contentDOM.focus(),!0)}),e!=="__scratch__"&&i.push({key:n.getHotkey("cell.goToDefinition").key,preventDefault:!0,stopPropagation:!0,run:o=>(em(o),!0)},{key:n.getHotkey("cell.delete").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.doc.length===0&&o.state.facet(Dt).deleteCell(),!0)},{key:n.getHotkey("cell.moveUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.moveDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.moveLeft").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!0,direction:"left"}),!0)},{key:n.getHotkey("cell.moveRight").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveCell({cellId:e,before:!1,direction:"right"}),!0)},{key:"ArrowUp",preventDefault:!0,stopPropagation:!0,run:o=>b2(o.state)?!1:qh(o)?(o.state.facet(Dt).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0):!1},{key:"ArrowDown",preventDefault:!0,stopPropagation:!0,run:o=>b2(o.state)?!1:Fh(o)?(o.state.facet(Dt).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0):!1},{key:n.getHotkey("cell.focusDown").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveToNextCell({cellId:e,before:!1,noCreate:!0}),!0)},{key:n.getHotkey("cell.focusUp").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).moveToNextCell({cellId:e,before:!0,noCreate:!0}),!0)},{key:n.getHotkey("cell.sendToBottom").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).sendToBottom({cellId:e}),!0)},{key:n.getHotkey("cell.sendToTop").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.state.facet(Dt).sendToTop({cellId:e}),!0)},{key:n.getHotkey("cell.createAbove").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Dt).createNewCell({cellId:e,before:!0}),!0)},{key:n.getHotkey("cell.createBelow").key,preventDefault:!0,stopPropagation:!0,run:o=>(o.contentDOM.blur(),o.state.facet(Dt).createNewCell({cellId:e,before:!1}),!0)},{key:n.getHotkey("cell.hideCode").key,preventDefault:!0,stopPropagation:!0,run:o=>{var c;let s=o.state.facet(Dt).toggleHideCode();return _2(o),s?(o.contentDOM.blur(),(c=document.getElementById(dr.create(e)))==null||c.focus()):o.contentDOM.focus(),!0}},{key:n.getHotkey("cell.splitCell").key,preventDefault:!0,stopPropagation:!0,run:o=>{let s=o.state.facet(Dt);return s.splitCell({cellId:e}),s.moveToNextCell&&requestAnimationFrame(()=>{o.contentDOM.blur(),s.moveToNextCell({cellId:e,before:!1})}),!0}}),[bu.high(ro.of(i))]}function Vk(e){return[Tn.updateListener.of(n=>{if(n.docChanged){let i=n.transactions.some(d=>d.effects.some(p=>p.is(vs))),o=ai(n.view),s=n.view.state.facet(Dt),c=n.view.state.facet(uo);s.updateCellCode({cellId:c,code:o,formattingChange:i})}}),Ux(e)]}function $k({predicate:e}){return Tn.updateListener.of(n=>{n.docChanged&&n.view.hasFocus&&e()&&(n.transactions.some(i=>i.effects.some(o=>o.is(vs)))||n.view.state.facet(Dt).onRun())})}H2=function({cellId:e,hotkeys:n,cellActions:i}){return[Dt.of(i),uo.of(e),Hk({cellId:e,hotkeys:n}),Vk(n),Bk(Vx(WE(e),ut))]};const W0=async e=>{let n=e.state.doc.sliceString(0,e.pos),i=document.activeElement,o=null;if(i!==null){let d=dr.findElement(i);d!==null&&(o=dr.parse(d.id))}if(o===null)return Oe.error("Failed to find active cell."),null;let s=await Gu.request({document:n,cellId:o});if(!s)return null;let c=Dd.asHoverTooltip({position:e.pos,message:s,limitToType:"tooltip"});return c&&ut.set(Zu,{documentation:c.html??null}),c?null:Dd.asCompletionResult(e.pos,s)};function Wk(e){return n=>e.predicate(n.state)?e.completion(n):null}var Uk=async e=>{let n=e.matchBefore(/:\w*$/);if(!e.explicit&&!n)return null;let i=await Kk();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w:]*$/}},Kk=ni(async()=>{let e=await fetch("https://unpkg.com/emojilib@3.0.11/dist/emoji-en-US.json").then(n=>{if(!n.ok)throw Error("Failed to fetch emoji list");return n.json()}).catch(()=>({}));return Object.entries(e).map(([n,i])=>({shortcode:i[0],label:i.map(o=>`:${o}`).join(" "),emoji:n,displayLabel:`${n} ${i[0].replaceAll("_"," ")}`,apply:n,type:"emoji"}))}),Qk=async e=>{let n=e.matchBefore(/::[\w-:]*$/);if(!e.explicit&&!n)return null;let i=await Gk();return{from:(n==null?void 0:n.from)??e.pos,options:i,validFor:/^[\w-:]*$/}},Gk=ni(async()=>{let e=await fetch("https://unpkg.com/lucide-static@0.452.0/tags.json").then(i=>{if(!i.ok)throw Error("Failed to fetch Lucide icon list");return i.json()}).catch(()=>({})),n=i=>`https://cdn.jsdelivr.net/npm/lucide-static@0.452.0/icons/${i}.svg`;return Object.entries(e).map(([i,o])=>({label:`::${i}`,displayLabel:i,type:"lucide-icon",boost:10,apply:`::lucide:${i}::`,detail:o.join(", "),info:()=>{let s=document.createElement("img");return s.src=n(i),s.style.width="24px",s.style.height="24px",s}}))}),Jk=e=>{let n=e.matchBefore(/\\\w*$/);return!e.explicit&&!n?null:{from:(n==null?void 0:n.from)??e.pos,options:Xk(),validFor:/^[\w\\]*$/}},Xk=ni(()=>[["alpha","\u03B1","Greek small letter alpha"],["beta","\u03B2","Greek small letter beta"],["gamma","\u03B3","Greek small letter gamma"],["delta","\u03B4","Greek small letter delta"],["epsilon","\u03B5","Greek small letter epsilon"],["zeta","\u03B6","Greek small letter zeta"],["eta","\u03B7","Greek small letter eta"],["theta","\u03B8","Greek small letter theta"],["iota","\u03B9","Greek small letter iota"],["kappa","\u03BA","Greek small letter kappa"],["lambda","\u03BB","Greek small letter lambda"],["mu","\u03BC","Greek small letter mu"],["nu","\u03BD","Greek small letter nu"],["xi","\u03BE","Greek small letter xi"],["omicron","\u03BF","Greek small letter omicron"],["pi","\u03C0","Greek small letter pi"],["rho","\u03C1","Greek small letter rho"],["sigma","\u03C3","Greek small letter sigma"],["tau","\u03C4","Greek small letter tau"],["upsilon","\u03C5","Greek small letter upsilon"],["phi","\u03C6","Greek small letter phi"],["chi","\u03C7","Greek small letter chi"],["psi","\u03C8","Greek small letter psi"],["omega","\u03C9","Greek small letter omega"],["Gamma","\u0393","Greek capital letter gamma"],["Delta","\u0394","Greek capital letter delta"],["Theta","\u0398","Greek capital letter theta"],["Lambda","\u039B","Greek capital letter lambda"],["Xi","\u039E","Greek capital letter xi"],["Pi","\u03A0","Greek capital letter pi"],["Sigma","\u03A3","Greek capital letter sigma"],["Phi","\u03A6","Greek capital letter phi"],["Psi","\u03A8","Greek capital letter psi"],["Omega","\u03A9","Greek capital letter omega"],["pm","\xB1","Plus-minus sign"],["mp","\u2213","Minus-plus sign"],["times","\xD7","Multiplication sign"],["div","\xF7","Division sign"],["cdot","\u22C5","Dot operator"],["ast","\u2217","Asterisk operator"],["star","\u22C6","Star operator"],["circ","\u2218","Ring operator"],["bullet","\u2022","Bullet"],["cap","\u2229","Intersection"],["cup","\u222A","Union"],["uplus","\u228E","Multiset union"],["sqcap","\u2293","Square cap"],["sqcup","\u2294","Square cup"],["vee","\u2228","Logical or"],["wedge","\u2227","Logical and"],["setminus","\u2216","Set minus"],["oplus","\u2295","Circled plus"],["ominus","\u2296","Circled minus"],["otimes","\u2297","Circled times"],["oslash","\u2298","Circled division slash"],["odot","\u2299","Circled dot operator"],["leq","\u2264","Less than or equal to"],["geq","\u2265","Greater than or equal to"],["equiv","\u2261","Identical to"],["prec","\u227A","Precedes"],["succ","\u227B","Succeeds"],["sim","\u223C","Tilde operator"],["perp","\u22A5","Up tack"],["mid","\u2223","Divides"],["parallel","\u2225","Parallel to"],["subset","\u2282","Subset of"],["supset","\u2283","Superset of"],["subseteq","\u2286","Subset of or equal to"],["supseteq","\u2287","Superset of or equal to"],["cong","\u2245","Approximately equal to"],["approx","\u2248","Almost equal to"],["neq","\u2260","Not equal to"],["ne","\u2260","Not equal to"],["propto","\u221D","Proportional to"],["leftarrow","\u2190","Leftward arrow"],["rightarrow","\u2192","Rightward arrow"],["Leftarrow","\u21D0","Leftward double arrow"],["Rightarrow","\u21D2","Rightward double arrow"],["leftrightarrow","\u2194","Left right arrow"],["Leftrightarrow","\u21D4","Left right double arrow"],["uparrow","\u2191","Upward arrow"],["downarrow","\u2193","Downward arrow"],["Uparrow","\u21D1","Upward double arrow"],["Downarrow","\u21D3","Downward double arrow"],["infty","\u221E","Infinity"],["nabla","\u2207","Nabla"],["partial","\u2202","Partial differential"],["forall","\u2200","For all"],["exists","\u2203","There exists"],["nexists","\u2204","There does not exist"],["emptyset","\u2205","Empty set"],["in","\u2208","Element of"],["notin","\u2209","Not an element of"],["sum","\u2211","N-ary summation"],["prod","\u220F","N-ary product"],["int","\u222B","Integral"],["oint","\u222E","Contour integral"],["sqrt","\u221A","Square root"],["hbar","\u210F","Planck constant over 2pi"],["ldots","\u2026","Horizontal ellipsis"],["cdots","\u22EF","Midline horizontal ellipsis"],["vdots","\u22EE","Vertical ellipsis"],["ddots","\u22F1","Down right diagonal ellipsis"]].map(([e,n,i])=>({label:`\\${e} ${i}`,displayLabel:e,type:"latex-symbol",boost:10,apply:`\\${e}`,info:()=>{let o=document.createElement("div");return o.textContent=`${n} ${i}`,o},detail:n})));let U0;U0=[Uk,Qk,Jk],ed={isAbsolute:e=>e.startsWith("/")||e.startsWith("\\")||e.startsWith("C:\\"),dirname:e=>Ml.guessDeliminator(e).dirname(e),basename:e=>Ml.guessDeliminator(e).basename(e),rest:(e,n)=>Ml.guessDeliminator(e).rest(e,n),extension:e=>{let n=e.split(".");return n.length===1?"":n.at(-1)??""}},Ml=class sm{constructor(n){this.deliminator=n}static guessDeliminator(n){return n.includes("/")?new sm("/"):new sm("\\")}join(...n){return n.filter(Boolean).join(this.deliminator)}basename(n){return n.split(this.deliminator).pop()??""}rest(n,i){let o=n.split(this.deliminator),s=i.split(this.deliminator),c=0;for(;c<o.length&&c<s.length&&o[c]===s[c];++c);return o.slice(c).join(this.deliminator)}dirname(n){let i=n.split(this.deliminator);return i.pop(),i.join(this.deliminator)}};function vo(e){return!e.state.selection.main.empty}function Nd({view:e,selection:n,markup:i}){let o=[],s=!0;for(let c=n.from;c<=n.to;c++)if(!e.state.doc.lineAt(c).text.startsWith(i)){s=!1;break}for(let c=n.from;c<=n.to;){let d=e.state.doc.lineAt(c),p=d.text.startsWith(i);s?o.push({from:d.from,to:d.from+i.length,insert:ao.of([""])}):(p&&o.push({from:d.from,to:d.from+i.length,insert:ao.of([""])}),o.push({from:d.from,insert:ao.of([i])})),c=d.to+1}return o}function Ld({view:e,range:n,markupAfter:i,markupBefore:o}){if(n.empty){let v=e.state.wordAt(n.head);v&&(n=v)}let s=e.state.sliceDoc(n.from-o.length,n.from)===o,c=e.state.sliceDoc(n.to,n.to+i.length)===i,d=[];d.push(s?{from:n.from-o.length,to:n.from,insert:ao.of([""])}:{from:n.from,insert:ao.of(o.split(`
`))},c?{from:n.to,to:n.to+i.length,insert:ao.of([""])}:{from:n.to,insert:ao.of(i.split(`
`))});let p=s?-o.length:o.length,m=c?-i.length:i.length;return{changes:d,range:fn.range(n.from+p,n.to+m)}}function Yk(e){if(!vo(e))return!1;let n=Nd({view:e,selection:e.state.selection.main,markup:"> "});return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function Zk(e){if(!vo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return Ld({view:e,range:i,markupBefore:"**",markupAfter:"**"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ss.userEvent.of("input")})),e.focus(),!0}function K0(e){if(!vo(e))return!1;let n=e.state.changeByRange(i=>{if(i.empty){let s=e.state.wordAt(i.head);s&&(i=s)}let o=e.state.doc.lineAt(i.from).number!==e.state.doc.lineAt(i.to).number;return Ld({view:e,range:i,markupBefore:o?"```\n":"`",markupAfter:o?"\n```":"`"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ss.userEvent.of("input")})),e.focus(),!0}function eC(e){let n=e.state.changeByRange(i=>{if(i.empty){let o=e.state.wordAt(i.head);o&&(i=o)}return Ld({view:e,range:i,markupBefore:"_",markupAfter:"_"})});return e.dispatch(e.state.update(n,{scrollIntoView:!0,annotations:ss.userEvent.of("input")})),e.focus(),!0}function Q0(e,n="http://"){if(!vo(e))return!1;let i=e.state.changeByRange(s=>{let c=e.state.sliceDoc(s.from,s.to);return{changes:[{from:s.from,to:s.to,insert:`[${c}](${n})`}],range:s}});e.dispatch(e.state.update(i,{scrollIntoView:!0,annotations:ss.userEvent.of("input")}));let{to:o}=i.selection.main;try{e.dispatch({selection:fn.create([fn.range(o+3,o+3+n.length),fn.cursor(o+3+n.length)])})}catch{}return e.focus(),!0}Ih=async function(e,n){var p;let i=new FileReader,o=await new Promise(m=>{i.onload=()=>m(i.result),i.readAsDataURL(n)}),s;try{if(o.startsWith("data:")){let m=o.split(",")[1],v=prompt("We can save your image as a file. Enter a filename.",n.name),_=n.type.split("/")[1];if(v!==null){v.trim()===""?v=n.name:v.endsWith(`.${_}`)||(v=`${v}.${_}`);let w=ut.get(ls),C=w?ed.dirname(w):null,E=C?`${C}/public`:"public",R=await Di().sendCreateFileOrFolder({path:E,type:"file",name:v,contents:m});R.success?(s=(p=R.info)==null?void 0:p.path,xu({title:"Image uploaded successfully",description:`We've uploaded your image at ${s}`})):xu({title:"Failed to upload image. Using raw base64 string."})}}}catch{xu({title:"Failed to upload image. Using raw base64 string."})}let c=e.state.changeByRange(m=>{let v=e.state.sliceDoc(m.from,m.to);return{changes:[{from:m.from,to:m.to,insert:`![${v}](${s??o})`}],range:m}});e.dispatch(e.state.update(c,{scrollIntoView:!0,annotations:ss.userEvent.of("input")}));let{to:d}=c.selection.main;try{e.dispatch({selection:fn.create([fn.range(d+4,d+4+o.length),fn.cursor(d+4+o.length)])})}catch{}return e.focus(),!0},bh=async function(e,n){let i=await n.text(),o=e.state.changeByRange(s=>({changes:[{from:s.from,to:s.from,insert:i}],range:s}));return e.dispatch(e.state.update(o,{scrollIntoView:!0,annotations:ss.userEvent.of("input")})),e.focus(),!0};function tC(e){if(!vo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:Nd({view:e,selection:i,markup:e.state.sliceDoc(i.from,i.to+2).startsWith("* ")?"* ":"- "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function nC(e){if(!vo(e))return!1;let{changes:n}=e.state.changeByRange(i=>({range:i,changes:Nd({view:e,selection:i,markup:"1. "})}));return n.length>0&&e.dispatch(e.state.update({changes:n,scrollIntoView:!0,userEvent:"input"})),e.focus(),!0}function rC(e){return[bu.highest(ro.of([{key:e.getHotkey("markdown.bold").key,stopPropagation:!0,run:Zk},{key:e.getHotkey("markdown.italic").key,stopPropagation:!0,run:eC},{key:e.getHotkey("markdown.link").key,stopPropagation:!0,run:n=>Q0(n)},{key:e.getHotkey("markdown.orderedList").key,run:nC},{key:e.getHotkey("markdown.unorderedList").key,run:tC},{key:e.getHotkey("markdown.blockquote").key,run:Yk},{key:e.getHotkey("markdown.code").key,run:K0},{key:"`",run:K0}])),Tn.domEventHandlers({paste:(n,i)=>{var s;if(i.state.selection.main.empty)return!1;let o=(s=n.clipboardData)==null?void 0:s.getData("text/plain");o!=null&&o.startsWith("http")&&(n.preventDefault(),Q0(i,o))}}),Tn.domEventHandlers({paste:(n,i)=>{var s;let o=(s=n.clipboardData)==null?void 0:s.files[0];if(!o)return!1;if(o.type.startsWith("image/"))return n.preventDefault(),Ih(i,o),!0;if(o.type.startsWith("text/"))return n.preventDefault(),bh(i,o),!0}})]}function iC(e,n,i=3,o=""){return Object.values(e).flatMap(s=>n.has(s.name)?[]:{label:`${o}${s.name}`,displayLabel:s.name,detail:s.dataType??"",boost:i,type:"variable",apply:`${o}${s.name}`,section:"Variable",info:()=>Nh(s)})}Nh=function(e){let n=document.createElement("div");n.classList.add("mo-cm-tooltip","docs-documentation","min-w-[200px]","flex","flex-col","gap-1","p-2");let i=document.createElement("div");i.classList.add("flex","items-center","gap-2");let o=document.createElement("span");if(o.classList.add("font-bold","text-base"),o.textContent=e.name,i.append(o),e.dataType){let s=document.createElement("span");s.classList.add("text-xs","px-1.5","py-0.5","rounded-full","bg-purple-100","text-purple-800","dark:bg-purple-900","dark:text-purple-200"),s.textContent=e.dataType,i.append(s)}if(n.append(i),e.value){let s=document.createElement("div");s.classList.add("flex","flex-col","gap-1");let c=document.createElement("div");c.classList.add("text-xs","text-muted-foreground"),c.textContent="Value:",s.append(c);let d=document.createElement("div");d.classList.add("text-xs","font-mono","bg-muted","p-2","rounded","overflow-auto","max-h-40"),d.textContent=e.value,s.append(d),n.append(s)}return n};var bo="Python",Md=123,G0=125,Id=1,aC={mark:`${bo}Mark`,resolve:bo};function oC(e,n){return{defineNodes:[{name:bo,style:gu.emphasis},{name:`${bo}Mark`,style:gu.processingInstruction}],parseInline:[{name:bo,parse(i,o,s){return!n()||o!==Md&&o!==G0||o===Md&&i.slice(s-1,s)==="{"?-1:i.addDelimiter(aC,s,s+Id,o===Md,o===G0)}}],wrap:u2(i=>{if(!n()||i.type.name!==bo)return null;let o=i.from+Id,s=i.to-Id;return o>=s||o<0||s<0?null:{parser:e,overlay:[{from:o,to:s}],extensions:[C2().support]}})}}const sC=e=>{let n=e.state.doc.sliceString(0,e.pos),i=n.lastIndexOf("{");if(n.at(i-1)==="{"||i===-1||n.indexOf("}",i)>i)return null;let o=e.matchBefore(/\w*$/);if(!o)return null;let s=iC(ut.get(ma),new Set,99);return{from:o.from,options:s,validFor:/^\w*$/}};var Kl="InlineMathDollar",_o="InlineMathBracket",Ql="BlockMathDollar",wo="BlockMathBracket",_a={[Kl]:1,[_o]:3,[Ql]:2,[wo]:3},Lt={DOLLAR:36,BACKSLASH:92,OPEN_PAREN:40,CLOSE_PAREN:41,OPEN_BRACKET:91,CLOSE_BRACKET:93},xo=Object.keys(_a).reduce((e,n)=>(e[n]={mark:`${n}Mark`,resolve:n},e),{});function lC(e){let n=[];return Object.keys(_a).forEach(i=>{n.push({name:i,style:gu.emphasis},{name:`${i}Mark`,style:gu.processingInstruction})}),{defineNodes:n,parseInline:[{name:Ql,parse(i,o,s){return o!==Lt.DOLLAR||i.char(s+1)!==Lt.DOLLAR?-1:i.addDelimiter(xo[Ql],s,s+_a[Ql],!0,!0)}},{name:Kl,parse(i,o,s){return o!==Lt.DOLLAR||i.char(s+1)===Lt.DOLLAR?-1:i.addDelimiter(xo[Kl],s,s+_a[Kl],!0,!0)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Lt.BACKSLASH||i.char(s+1)!==Lt.BACKSLASH||![Lt.OPEN_PAREN,Lt.CLOSE_PAREN].includes(i.char(s+2))?-1:i.addDelimiter(xo[_o],s,s+_a[_o],i.char(s+2)===Lt.OPEN_PAREN,i.char(s+2)===Lt.CLOSE_PAREN)}},{name:wo,before:"Escape",parse(i,o,s){return o!==Lt.BACKSLASH||i.char(s+1)!==Lt.BACKSLASH||![Lt.OPEN_BRACKET,Lt.CLOSE_BRACKET].includes(i.char(s+2))?-1:i.addDelimiter(xo[wo],s,s+_a[wo],i.char(s+2)===Lt.OPEN_BRACKET,i.char(s+2)===Lt.CLOSE_BRACKET)}},{name:_o,before:"Escape",parse(i,o,s){return o!==Lt.BACKSLASH||![Lt.OPEN_PAREN,Lt.CLOSE_PAREN].includes(i.char(s+1))?-1:i.addDelimiter(xo[_o],s,s+2,i.char(s+1)===Lt.OPEN_PAREN,i.char(s+1)===Lt.CLOSE_PAREN)}},{name:wo,before:"Escape",parse(i,o,s){return o!==Lt.BACKSLASH||![Lt.OPEN_BRACKET,Lt.CLOSE_BRACKET].includes(i.char(s+1))?-1:i.addDelimiter(xo[wo],s,s+2,i.char(s+1)===Lt.OPEN_BRACKET,i.char(s+1)===Lt.CLOSE_BRACKET)}}],wrap:u2(i=>{let o=_a[i.type.name];if(o){let s=i.from+o,c=i.to-o;return s>=c||s<0||c<0?null:{parser:e,overlay:[{from:s,to:c}]}}return null})}}ju=no.define(),Pu=no.define(),ii=yu.define({create:()=>({}),update:(e,n)=>{for(let i of n.effects){if(i.is(ju))return i.value;if(i.is(Pu))return{...e,...i.value}}return e}});let Ad,J0,ko,X0,Co,Y0;rd=class{constructor(){Te(this,"parser",new m0);Te(this,"type","markdown");Te(this,"defaultCode",this.parser.defaultCode);Te(this,"defaultMetadata",this.parser.defaultMetadata)}static fromMarkdown(e){return m0.fromMarkdown(e)}transformIn(e){let n=this.parser.transformIn(e);return[n.code,n.offset,n.metadata]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o){let s=k2().language.data,c,d=()=>{var m;if(!c)return!0;let p=c==null?void 0:c.state.field(ii);return p===void 0?!1:((m=p.quotePrefix)==null?void 0:m.includes("f"))??!1};return[io.define(p=>(c=p,{})),k2({base:UR,codeLanguages:vx,extensions:[lC(d2.define(JR).parser),oC(uh.parser,d)]}),rC(i),U0.map(p=>s.of({autocomplete:p})),C2().language.data.of({autocomplete:Wk({completion:W0,predicate:d})}),_u({defaultKeymap:!1,activateOnTyping:!0}),$k({predicate:()=>!d()})]}},Ad=ke(((e,n)=>{var i=typeof Reflect=="object"?Reflect:null,o=i&&typeof i.apply=="function"?i.apply:function(N,q,V){return Function.prototype.apply.call(N,q,V)},s=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};function c(N){console&&console.warn&&console.warn(N)}var d=Number.isNaN||function(N){return N!==N};function p(){p.init.call(this)}n.exports=p,n.exports.once=I,p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var m=10;function v(N){if(typeof N!="function")throw TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return m},set:function(N){if(typeof N!="number"||N<0||d(N))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");m=N}}),p.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||d(N))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function _(N){return N._maxListeners===void 0?p.defaultMaxListeners:N._maxListeners}p.prototype.getMaxListeners=function(){return _(this)},p.prototype.emit=function(N){for(var q=[],V=1;V<arguments.length;V++)q.push(arguments[V]);var de=N==="error",fe=this._events;if(fe!==void 0)de&&(de=fe.error===void 0);else if(!de)return!1;if(de){var xe;if(q.length>0&&(xe=q[0]),xe instanceof Error)throw xe;var Z=Error("Unhandled error."+(xe?" ("+xe.message+")":""));throw Z.context=xe,Z}var be=fe[N];if(be===void 0)return!1;if(typeof be=="function")o(be,this,q);else for(var Se=be.length,ne=H(be,Se),V=0;V<Se;++V)o(ne[V],this,q);return!0};function w(N,q,V,de){var fe,xe,Z;if(v(V),xe=N._events,xe===void 0?(xe=N._events=Object.create(null),N._eventsCount=0):(xe.newListener!==void 0&&(N.emit("newListener",q,V.listener?V.listener:V),xe=N._events),Z=xe[q]),Z===void 0)Z=xe[q]=V,++N._eventsCount;else if(typeof Z=="function"?Z=xe[q]=de?[V,Z]:[Z,V]:de?Z.unshift(V):Z.push(V),fe=_(N),fe>0&&Z.length>fe&&!Z.warned){Z.warned=!0;var be=Error("Possible EventEmitter memory leak detected. "+Z.length+" "+String(q)+" listeners added. Use emitter.setMaxListeners() to increase limit");be.name="MaxListenersExceededWarning",be.emitter=N,be.type=q,be.count=Z.length,c(be)}return N}p.prototype.addListener=function(N,q){return w(this,N,q,!1)},p.prototype.on=p.prototype.addListener,p.prototype.prependListener=function(N,q){return w(this,N,q,!0)};function C(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(N,q,V){var de={fired:!1,wrapFn:void 0,target:N,type:q,listener:V},fe=C.bind(de);return fe.listener=V,de.wrapFn=fe,fe}p.prototype.once=function(N,q){return v(q),this.on(N,E(this,N,q)),this},p.prototype.prependOnceListener=function(N,q){return v(q),this.prependListener(N,E(this,N,q)),this},p.prototype.removeListener=function(N,q){var V,de,fe,xe,Z;if(v(q),de=this._events,de===void 0||(V=de[N],V===void 0))return this;if(V===q||V.listener===q)--this._eventsCount===0?this._events=Object.create(null):(delete de[N],de.removeListener&&this.emit("removeListener",N,V.listener||q));else if(typeof V!="function"){for(fe=-1,xe=V.length-1;xe>=0;xe--)if(V[xe]===q||V[xe].listener===q){Z=V[xe].listener,fe=xe;break}if(fe<0)return this;fe===0?V.shift():W(V,fe),V.length===1&&(de[N]=V[0]),de.removeListener!==void 0&&this.emit("removeListener",N,Z||q)}return this},p.prototype.off=p.prototype.removeListener,p.prototype.removeAllListeners=function(N){var q,V=this._events,de;if(V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete V[N]),this;if(arguments.length===0){var fe=Object.keys(V),xe;for(de=0;de<fe.length;++de)xe=fe[de],xe!=="removeListener"&&this.removeAllListeners(xe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(q=V[N],typeof q=="function")this.removeListener(N,q);else if(q!==void 0)for(de=q.length-1;de>=0;de--)this.removeListener(N,q[de]);return this};function R(N,q,V){var de=N._events;if(de===void 0)return[];var fe=de[q];return fe===void 0?[]:typeof fe=="function"?V?[fe.listener||fe]:[fe]:V?U(fe):H(fe,fe.length)}p.prototype.listeners=function(N){return R(this,N,!0)},p.prototype.rawListeners=function(N){return R(this,N,!1)},p.listenerCount=function(N,q){return typeof N.listenerCount=="function"?N.listenerCount(q):M.call(N,q)},p.prototype.listenerCount=M;function M(N){var q=this._events;if(q!==void 0){var V=q[N];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}p.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function H(N,q){for(var V=Array(q),de=0;de<q;++de)V[de]=N[de];return V}function W(N,q){for(;q+1<N.length;q++)N[q]=N[q+1];N.pop()}function U(N){for(var q=Array(N.length),V=0;V<q.length;++V)q[V]=N[V].listener||N[V];return q}function I(N,q){return new Promise(function(V,de){function fe(Z){N.removeListener(q,xe),de(Z)}function xe(){typeof N.removeListener=="function"&&N.removeListener("error",fe),V([].slice.call(arguments))}me(N,q,xe,{once:!0}),q!=="error"&&G(N,fe,{once:!0})})}function G(N,q,V){typeof N.on=="function"&&me(N,"error",q,V)}function me(N,q,V,de){if(typeof N.on=="function")de.once?N.once(q,V):N.on(q,V);else if(typeof N.addEventListener=="function")N.addEventListener(q,function fe(xe){de.once&&N.removeEventListener(q,fe),V(xe)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}})),J0=ke((e=>{var n=e&&e.__awaiter||function(s,c,d,p){function m(v){return v instanceof d?v:new d(function(_){_(v)})}return new(d||(d=Promise))(function(v,_){function w(R){try{E(p.next(R))}catch(M){_(M)}}function C(R){try{E(p.throw(R))}catch(M){_(M)}}function E(R){R.done?v(R.value):m(R.value).then(w,C)}E((p=p.apply(s,c||[])).next())})},i=e&&e.__generator||function(s,c){var d={label:0,sent:function(){if(v[0]&1)throw v[1];return v[1]},trys:[],ops:[]},p,m,v,_;return _={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function w(E){return function(R){return C([E,R])}}function C(E){if(p)throw TypeError("Generator is already executing.");for(;d;)try{if(p=1,m&&(v=E[0]&2?m.return:E[0]?m.throw||((v=m.return)&&v.call(m),0):m.next)&&!(v=v.call(m,E[1])).done)return v;switch(m=0,v&&(E=[E[0]&2,v.value]),E[0]){case 0:case 1:v=E;break;case 4:return d.label++,{value:E[1],done:!1};case 5:d.label++,m=E[1],E=[0];continue;case 7:E=d.ops.pop(),d.trys.pop();continue;default:if(v=d.trys,!(v=v.length>0&&v[v.length-1])&&(E[0]===6||E[0]===2)){d=0;continue}if(E[0]===3&&(!v||E[1]>v[0]&&E[1]<v[3])){d.label=E[1];break}if(E[0]===6&&d.label<v[1]){d.label=v[1],v=E;break}if(v&&d.label<v[2]){d.label=v[2],d.ops.push(E);break}v[2]&&d.ops.pop(),d.trys.pop();continue}E=c.call(s,d)}catch(R){E=[6,R],m=0}finally{p=v=0}if(E[0]&5)throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNextRequest=void 0;var o=Ad();e.defaultNextRequest=function(){var s=-1;return function(){return++s}},e.default=(function(){function s(c,d){d===void 0&&(d=e.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=c,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new o.EventEmitter,this.nextID=d}return s.prototype.connect=function(){var c=this;return Promise.all(this.transports.map(function(d){return n(c,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:return d.subscribe("error",this.handleError.bind(this)),d.subscribe("notification",this.handleNotification.bind(this)),[4,d.connect()];case 1:return p.sent(),[2]}})})}))},s.prototype.getPrimaryTransport=function(){return this.transports[0]},s.prototype.request=function(c,d,p){return d===void 0&&(d=!1),n(this,void 0,void 0,function(){var m,v,_,w,C=this;return i(this,function(E){return m=this.nextID().toString(),v=d?null:m,_={request:this.makeRequest(c.method,c.params||[],v),internalID:m},this.batchStarted?(w=new Promise(function(R,M){C.batch.push({resolve:R,reject:M,request:_})}),[2,w]):[2,this.getPrimaryTransport().sendData(_,p)]})})},s.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(c){c.unsubscribe(),c.close()})},s.prototype.startBatch=function(){this.batchStarted=!0},s.prototype.stopBatch=function(){if(this.batchStarted===!1)throw Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},s.prototype.makeRequest=function(c,d,p){return p?{jsonrpc:"2.0",id:p,method:c,params:d}:{jsonrpc:"2.0",method:c,params:d}},s.prototype.handleError=function(c){this.requestChannel.emit("error",c)},s.prototype.handleNotification=function(c){this.requestChannel.emit("notification",c)},s})()})),ko=ke((e=>{var n=e&&e.__extends||(function(){var o=function(s,c){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var m in p)p.hasOwnProperty(m)&&(d[m]=p[m])},o(s,c)};return function(s,c){o(s,c);function d(){this.constructor=s}s.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.convertJSONToRPCError=e.JSONRPCError=e.ERR_UNKNOWN=e.ERR_MISSIING_ID=e.ERR_TIMEOUT=void 0,e.ERR_TIMEOUT=7777,e.ERR_MISSIING_ID=7878,e.ERR_UNKNOWN=7979;var i=(function(o){n(s,o);function s(c,d,p){var m=this.constructor,v=o.call(this,c)||this;return v.message=c,v.code=d,v.data=p,Object.setPrototypeOf(v,m.prototype),v}return s})(Error);e.JSONRPCError=i,e.convertJSONToRPCError=function(o){if(o.error){var s=o.error,c=s.message,d=s.code,p=s.data;return new i(c,d,p)}return new i("Unknown error",e.ERR_UNKNOWN,o)}})),X0=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TransportRequestManager=void 0;var n=Ad(),i=ko();e.TransportRequestManager=(function(){function o(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new n.EventEmitter}return o.prototype.addRequest=function(s,c){return this.transportEventChannel.emit("pending",s),s instanceof Array?(this.addBatchReq(s,c),Promise.resolve()):this.addReq(s.internalID,c)},o.prototype.settlePendingRequest=function(s,c){var d=this;s.forEach(function(p){var m=d.pendingRequest[p.internalID];if(delete d.pendingBatchRequest[p.internalID],m!==void 0){if(c){m.reject(c);return}m.resolve(),(p.request.id===null||p.request.id===void 0)&&delete d.pendingRequest[p.internalID]}})},o.prototype.isPendingRequest=function(s){return this.pendingRequest.hasOwnProperty(s)},o.prototype.resolveResponse=function(s,c){c===void 0&&(c=!0);var d=s;try{return d=JSON.parse(s),this.checkJSONRPC(d)===!1?void 0:d instanceof Array?this.resolveBatch(d,c):this.resolveRes(d,c)}catch{var p=new i.JSONRPCError("Bad response format",i.ERR_UNKNOWN,s);return c&&this.transportEventChannel.emit("error",p),p}},o.prototype.addBatchReq=function(s,c){var d=this;return s.forEach(function(p){var m=p.resolve,v=p.reject,_=p.request.internalID;d.pendingBatchRequest[_]=!0,d.pendingRequest[_]={resolve:m,reject:v}}),Promise.resolve()},o.prototype.addReq=function(s,c){var d=this;return new Promise(function(p,m){c!==null&&c&&d.setRequestTimeout(s,c,m),d.pendingRequest[s]={resolve:p,reject:m}})},o.prototype.checkJSONRPC=function(s){var c=[s];return s instanceof Array&&(c=s),c.every(function(d){return d.result!==void 0||d.error!==void 0||d.method!==void 0})},o.prototype.processResult=function(s,c){if(s.error){var d=i.convertJSONToRPCError(s);c.reject(d);return}c.resolve(s.result)},o.prototype.resolveBatch=function(s,c){var d=this,p=s.map(function(m){return d.resolveRes(m,c)}).filter(function(m){return m});if(p.length>0)return p[0]},o.prototype.resolveRes=function(s,c){var d=s.id,p=s.error,m=this.pendingRequest[d];if(m){delete this.pendingRequest[d],this.processResult(s,m),this.transportEventChannel.emit("response",s);return}if(d===void 0&&p===void 0){this.transportEventChannel.emit("notification",s);return}var v;return p&&(v=i.convertJSONToRPCError(s)),c&&p&&v&&this.transportEventChannel.emit("error",v),v},o.prototype.setRequestTimeout=function(s,c,d){var p=this;setTimeout(function(){delete p.pendingRequest[s],d(new i.JSONRPCError("Request timeout request took longer than "+c+" ms to resolve",i.ERR_TIMEOUT))},c)},o})()})),pa=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Transport=void 0;var n=X0();e.Transport=(function(){function i(){this.transportRequestManager=new n.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return i.prototype.subscribe=function(o,s){this.transportRequestManager.transportEventChannel.addListener(o,s)},i.prototype.unsubscribe=function(o,s){if(!o)return this.transportRequestManager.transportEventChannel.removeAllListeners();o&&s&&this.transportRequestManager.transportEventChannel.removeListener(o,s)},i.prototype.parseData=function(o){return o instanceof Array?o.map(function(s){return s.request.request}):o.request},i})()})),Co=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getNotifications=e.getBatchRequests=e.isNotification=void 0,e.isNotification=function(n){return n.request.id===void 0||n.request.id===null},e.getBatchRequests=function(n){return n instanceof Array?n.filter(function(i){return i.request.request.id!=null}).map(function(i){return i.request}):[]},e.getNotifications=function(n){return n instanceof Array?n.filter(function(i){return e.isNotification(i.request)}).map(function(i){return i.request}):e.isNotification(n)?[n]:[]}})),Y0=ke((e=>{var n=e&&e.__extends||(function(){var c=function(d,p){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var _ in v)v.hasOwnProperty(_)&&(m[_]=v[_])},c(d,p)};return function(d,p){c(d,p);function m(){this.constructor=d}d.prototype=p===null?Object.create(p):(m.prototype=p.prototype,new m)}})();Object.defineProperty(e,"__esModule",{value:!0});var i=pa(),o=Co(),s=ko();e.default=(function(c){n(d,c);function d(p,m,v){var _=c.call(this)||this;return _.connection=p,_.reqUri=m,_.resUri=v,_}return d.prototype.connect=function(){var p=this;return this.connection.on(this.resUri,function(m){p.transportRequestManager.resolveResponse(m)}),Promise.resolve()},d.prototype.sendData=function(p,m){m===void 0&&(m=null);var v=this.transportRequestManager.addRequest(p,m),_=o.getNotifications(p),w=this.parseData(p);try{return this.connection.emit(this.reqUri,w),this.transportRequestManager.settlePendingRequest(_),v}catch(E){var C=new s.JSONRPCError(E.message,s.ERR_UNKNOWN,E);return this.transportRequestManager.settlePendingRequest(_,C),Promise.reject(C)}},d.prototype.close=function(){this.connection.removeAllListeners()},d})(i.Transport)}));function cC(e){return e&&DataView.prototype.isPrototypeOf(e)}function So(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function qd(e){return typeof e!="string"&&(e=String(e)),e}function jd(e){var n={next:function(){var i=e.shift();return{done:i===void 0,value:i}}};return Rn.iterable&&(n[Symbol.iterator]=function(){return n}),n}function sn(e){this.map={},e instanceof sn?e.forEach(function(n,i){this.append(i,n)},this):Array.isArray(e)?e.forEach(function(n){if(n.length!=2)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+n.length);this.append(n[0],n[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(n){this.append(n,e[n])},this)}function zd(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function Z0(e){return new Promise(function(n,i){e.onload=function(){n(e.result)},e.onerror=function(){i(e.error)}})}function uC(e){var n=new FileReader,i=Z0(n);return n.readAsArrayBuffer(e),i}function dC(e){var n=new FileReader,i=Z0(n),o=/charset=([A-Za-z0-9_-]+)/.exec(e.type),s=o?o[1]:"utf-8";return n.readAsText(e,s),i}function fC(e){for(var n=new Uint8Array(e),i=Array(n.length),o=0;o<n.length;o++)i[o]=String.fromCharCode(n[o]);return i.join("")}function eg(e){if(e.slice)return e.slice(0);var n=new Uint8Array(e.byteLength);return n.set(new Uint8Array(e)),n.buffer}function tg(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Rn.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Rn.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Rn.arrayBuffer&&Rn.blob&&cC(e)?(this._bodyArrayBuffer=eg(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Rn.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ig(e))?this._bodyArrayBuffer=eg(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Rn.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Rn.blob&&(this.blob=function(){var e=zd(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return zd(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(Rn.blob)return this.blob().then(uC);throw Error("could not read as ArrayBuffer")},this.text=function(){var e=zd(this);if(e)return e;if(this._bodyBlob)return dC(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(fC(this._bodyArrayBuffer));if(this._bodyFormData)throw Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Rn.formData&&(this.formData=function(){return this.text().then(hC)}),this.json=function(){return this.text().then(JSON.parse)},this}function pC(e){var n=e.toUpperCase();return ag.indexOf(n)>-1?n:e}function wa(e,n){if(!(this instanceof wa))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');n||(n={});var i=n.body;if(e instanceof wa){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new sn(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!i&&e._bodyInit!=null&&(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=n.credentials||this.credentials||"same-origin",(n.headers||!this.headers)&&(this.headers=new sn(n.headers)),this.method=pC(n.method||this.method||"GET"),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal||(function(){if("AbortController"in pn)return new AbortController().signal})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),(this.method==="GET"||this.method==="HEAD")&&(n.cache==="no-store"||n.cache==="no-cache")){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function hC(e){var n=new FormData;return e.trim().split("&").forEach(function(i){if(i){var o=i.split("="),s=o.shift().replace(/\+/g," "),c=o.join("=").replace(/\+/g," ");n.append(decodeURIComponent(s),decodeURIComponent(c))}}),n}function mC(e){var n=new sn;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(i){return i.indexOf(`
`)===0?i.substr(1,i.length):i}).forEach(function(i){var o=i.split(":"),s=o.shift().trim();if(s){var c=o.join(":").trim();try{n.append(s,c)}catch(d){console.warn("Response "+d.message)}}}),n}function $r(e,n){if(!(this instanceof $r))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(n||(n={}),this.type="default",this.status=n.status===void 0?200:n.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=n.statusText===void 0?"":""+n.statusText,this.headers=new sn(n.headers),this.url=n.url||"",this._initBody(e)}function ng(e,n){return new Promise(function(i,o){var s=new wa(e,n);if(s.signal&&s.signal.aborted)return o(new Ii("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var v={statusText:c.statusText,headers:mC(c.getAllResponseHeaders()||"")};s.url.indexOf("file://")===0&&(c.status<200||c.status>599)?v.status=200:v.status=c.status,v.url="responseURL"in c?c.responseURL:v.headers.get("X-Request-URL");var _="response"in c?c.response:c.responseText;setTimeout(function(){i(new $r(_,v))},0)},c.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},c.onabort=function(){setTimeout(function(){o(new Ii("Aborted","AbortError"))},0)};function p(v){try{return v===""&&pn.location.href?pn.location.href:v}catch{return v}}if(c.open(s.method,p(s.url),!0),s.credentials==="include"?c.withCredentials=!0:s.credentials==="omit"&&(c.withCredentials=!1),"responseType"in c&&(Rn.blob?c.responseType="blob":Rn.arrayBuffer&&(c.responseType="arraybuffer")),n&&typeof n.headers=="object"&&!(n.headers instanceof sn||pn.Headers&&n.headers instanceof pn.Headers)){var m=[];Object.getOwnPropertyNames(n.headers).forEach(function(v){m.push(So(v)),c.setRequestHeader(v,qd(n.headers[v]))}),s.headers.forEach(function(v,_){m.indexOf(_)===-1&&c.setRequestHeader(_,v)})}else s.headers.forEach(function(v,_){c.setRequestHeader(_,v)});s.signal&&(s.signal.addEventListener("abort",d),c.onreadystatechange=function(){c.readyState===4&&s.signal.removeEventListener("abort",d)}),c.send(s._bodyInit===void 0?null:s._bodyInit)})}let pn,Rn,rg,ig,ag,og,Ii,sg,lg,cg,ug,xa,dg,fg,pg,hg,mg,gg,Eo,Fd,Bd,yg,Ai,To,Gl,vg,Hd,bg,_g,wg,xg,Jl,kg,ka,Vd,zt,Xl,Cg,Sg,Eg,Tg,Rg,Dg,Og,Pg,Ng,Lg,Mg,Ig,Ag,qg,jg,zg,Fg,Bg,Hg,Vg,$g,Wg,Ug,Kg;sg=Gb((()=>{pn=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Rn={searchParams:"URLSearchParams"in pn,iterable:"Symbol"in pn&&"iterator"in Symbol,blob:"FileReader"in pn&&"Blob"in pn&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in pn,arrayBuffer:"ArrayBuffer"in pn},Rn.arrayBuffer&&(rg=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ig=ArrayBuffer.isView||function(e){return e&&rg.indexOf(Object.prototype.toString.call(e))>-1}),sn.prototype.append=function(e,n){e=So(e),n=qd(n);var i=this.map[e];this.map[e]=i?i+", "+n:n},sn.prototype.delete=function(e){delete this.map[So(e)]},sn.prototype.get=function(e){return e=So(e),this.has(e)?this.map[e]:null},sn.prototype.has=function(e){return this.map.hasOwnProperty(So(e))},sn.prototype.set=function(e,n){this.map[So(e)]=qd(n)},sn.prototype.forEach=function(e,n){for(var i in this.map)this.map.hasOwnProperty(i)&&e.call(n,this.map[i],i,this)},sn.prototype.keys=function(){var e=[];return this.forEach(function(n,i){e.push(i)}),jd(e)},sn.prototype.values=function(){var e=[];return this.forEach(function(n){e.push(n)}),jd(e)},sn.prototype.entries=function(){var e=[];return this.forEach(function(n,i){e.push([i,n])}),jd(e)},Rn.iterable&&(sn.prototype[Symbol.iterator]=sn.prototype.entries),ag=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"],wa.prototype.clone=function(){return new wa(this,{body:this._bodyInit})},tg.call(wa.prototype),tg.call($r.prototype),$r.prototype.clone=function(){return new $r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new sn(this.headers),url:this.url})},$r.error=function(){var e=new $r(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e},og=[301,302,303,307,308],$r.redirect=function(e,n){if(og.indexOf(n)===-1)throw RangeError("Invalid status code");return new $r(null,{status:n,headers:{location:e}})},Ii=pn.DOMException;try{new Ii}catch{Ii=function(e,n){this.message=e,this.name=n,this.stack=Error(e).stack},Ii.prototype=Object.create(Error.prototype),Ii.prototype.constructor=Ii}ng.polyfill=!0,pn.fetch||(pn.fetch=ng,pn.Headers=sn,pn.Request=wa,pn.Response=$r)})),lg=ke(((e,n)=>{sg(),n.exports=self.fetch.bind(self)})),cg=ke((e=>{var n=e&&e.__extends||(function(){var _=function(w,C){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,R){E.__proto__=R}||function(E,R){for(var M in R)R.hasOwnProperty(M)&&(E[M]=R[M])},_(w,C)};return function(w,C){_(w,C);function E(){this.constructor=w}w.prototype=C===null?Object.create(C):(E.prototype=C.prototype,new E)}})(),i=e&&e.__awaiter||function(_,w,C,E){function R(M){return M instanceof C?M:new C(function(H){H(M)})}return new(C||(C=Promise))(function(M,H){function W(G){try{I(E.next(G))}catch(me){H(me)}}function U(G){try{I(E.throw(G))}catch(me){H(me)}}function I(G){G.done?M(G.value):R(G.value).then(W,U)}I((E=E.apply(_,w||[])).next())})},o=e&&e.__generator||function(_,w){var C={label:0,sent:function(){if(M[0]&1)throw M[1];return M[1]},trys:[],ops:[]},E,R,M,H;return H={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(H[Symbol.iterator]=function(){return this}),H;function W(I){return function(G){return U([I,G])}}function U(I){if(E)throw TypeError("Generator is already executing.");for(;C;)try{if(E=1,R&&(M=I[0]&2?R.return:I[0]?R.throw||((M=R.return)&&M.call(R),0):R.next)&&!(M=M.call(R,I[1])).done)return M;switch(R=0,M&&(I=[I[0]&2,M.value]),I[0]){case 0:case 1:M=I;break;case 4:return C.label++,{value:I[1],done:!1};case 5:C.label++,R=I[1],I=[0];continue;case 7:I=C.ops.pop(),C.trys.pop();continue;default:if(M=C.trys,!(M=M.length>0&&M[M.length-1])&&(I[0]===6||I[0]===2)){C=0;continue}if(I[0]===3&&(!M||I[1]>M[0]&&I[1]<M[3])){C.label=I[1];break}if(I[0]===6&&C.label<M[1]){C.label=M[1],M=I;break}if(M&&C.label<M[2]){C.label=M[2],C.ops.push(I);break}M[2]&&C.ops.pop(),C.trys.pop();continue}I=w.call(_,C)}catch(G){I=[6,G],R=0}finally{E=M=0}if(I[0]&5)throw I[1];return{value:I[0]?I[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(e,"__esModule",{value:!0}),e.HTTPTransport=void 0;var c=s(lg()),d=pa(),p=Co(),m=ko(),v=(function(_){n(w,_);function w(C,E){var R=_.call(this)||this;return R.onlyNotifications=function(M){return M instanceof Array?M.every(function(H){return H.request.request.id===null||H.request.request.id===void 0}):M.request.id===null||M.request.id===void 0},R.uri=C,R.credentials=E&&E.credentials,R.headers=w.setupHeaders(E&&E.headers),R.injectedFetcher=E==null?void 0:E.fetcher,R}return w.prototype.connect=function(){return Promise.resolve()},w.prototype.sendData=function(C,E){return E===void 0&&(E=null),i(this,void 0,void 0,function(){var R,M,H,W,U,I,me,G,me;return o(this,function(N){switch(N.label){case 0:R=this.transportRequestManager.addRequest(C,E),M=p.getNotifications(C),H=p.getBatchRequests(C),W=this.injectedFetcher||c.default,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,W(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(C)),credentials:this.credentials})];case 2:return U=N.sent(),this.transportRequestManager.settlePendingRequest(M),this.onlyNotifications(C)?[2,Promise.resolve()]:[4,U.text()];case 3:return I=N.sent(),me=this.transportRequestManager.resolveResponse(I),me?(this.transportRequestManager.settlePendingRequest(H,me),[2,Promise.reject(me)]):[3,5];case 4:return G=N.sent(),me=new m.JSONRPCError(G.message,m.ERR_UNKNOWN,G),this.transportRequestManager.settlePendingRequest(M,me),this.transportRequestManager.settlePendingRequest(p.getBatchRequests(C),me),[2,Promise.reject(me)];case 5:return[2,R]}})})},w.prototype.close=function(){},w.setupHeaders=function(C){var E=new Headers(C);return E.set("Content-Type","application/json"),E},w})(d.Transport);e.HTTPTransport=v,e.default=v})),ug=CT({default:()=>dg}),fg=Gb((()=>{xa=null,typeof WebSocket<"u"?xa=WebSocket:typeof MozWebSocket<"u"?xa=MozWebSocket:typeof global<"u"?xa=global.WebSocket||global.MozWebSocket:typeof window<"u"?xa=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(xa=self.WebSocket||self.MozWebSocket),dg=xa})),pg=ke((e=>{var n=e&&e.__extends||(function(){var v=function(_,w){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,E){C.__proto__=E}||function(C,E){for(var R in E)E.hasOwnProperty(R)&&(C[R]=E[R])},v(_,w)};return function(_,w){v(_,w);function C(){this.constructor=_}_.prototype=w===null?Object.create(w):(C.prototype=w.prototype,new C)}})(),i=e&&e.__awaiter||function(v,_,w,C){function E(R){return R instanceof w?R:new w(function(M){M(R)})}return new(w||(w=Promise))(function(R,M){function H(I){try{U(C.next(I))}catch(G){M(G)}}function W(I){try{U(C.throw(I))}catch(G){M(G)}}function U(I){I.done?R(I.value):E(I.value).then(H,W)}U((C=C.apply(v,_||[])).next())})},o=e&&e.__generator||function(v,_){var w={label:0,sent:function(){if(R[0]&1)throw R[1];return R[1]},trys:[],ops:[]},C,E,R,M;return M={next:H(0),throw:H(1),return:H(2)},typeof Symbol=="function"&&(M[Symbol.iterator]=function(){return this}),M;function H(U){return function(I){return W([U,I])}}function W(U){if(C)throw TypeError("Generator is already executing.");for(;w;)try{if(C=1,E&&(R=U[0]&2?E.return:U[0]?E.throw||((R=E.return)&&R.call(E),0):E.next)&&!(R=R.call(E,U[1])).done)return R;switch(E=0,R&&(U=[U[0]&2,R.value]),U[0]){case 0:case 1:R=U;break;case 4:return w.label++,{value:U[1],done:!1};case 5:w.label++,E=U[1],U=[0];continue;case 7:U=w.ops.pop(),w.trys.pop();continue;default:if(R=w.trys,!(R=R.length>0&&R[R.length-1])&&(U[0]===6||U[0]===2)){w=0;continue}if(U[0]===3&&(!R||U[1]>R[0]&&U[1]<R[3])){w.label=U[1];break}if(U[0]===6&&w.label<R[1]){w.label=R[1],R=U;break}if(R&&w.label<R[2]){w.label=R[2],w.ops.push(U);break}R[2]&&w.ops.pop(),w.trys.pop();continue}U=_.call(v,w)}catch(I){U=[6,I],E=0}finally{C=R=0}if(U[0]&5)throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}},s=e&&e.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var c=s((fg(),fu(ug))),d=pa(),p=Co(),m=ko();e.default=(function(v){n(_,v);function _(w){var C=v.call(this)||this;return C.uri=w,C.connection=new c.default(w),C}return _.prototype.connect=function(){var w=this;return new Promise(function(C,E){var R=function(){w.connection.removeEventListener("open",R),C()};w.connection.addEventListener("open",R),w.connection.addEventListener("message",function(M){var H=M.data;w.transportRequestManager.resolveResponse(H)})})},_.prototype.sendData=function(w,C){return C===void 0&&(C=5e3),i(this,void 0,void 0,function(){var E,R,M;return o(this,function(H){E=this.transportRequestManager.addRequest(w,C),R=p.getNotifications(w);try{this.connection.send(JSON.stringify(this.parseData(w))),this.transportRequestManager.settlePendingRequest(R)}catch(W){M=new m.JSONRPCError(W.message,m.ERR_UNKNOWN,W),this.transportRequestManager.settlePendingRequest(R,M),this.transportRequestManager.settlePendingRequest(p.getBatchRequests(w),M),E=Promise.reject(M)}return[2,E]})})},_.prototype.close=function(){this.connection.close()},_})(d.Transport)})),hg=ke((e=>{var n=e&&e.__extends||(function(){var p=function(m,v){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var C in w)w.hasOwnProperty(C)&&(_[C]=w[C])},p(m,v)};return function(m,v){p(m,v);function _(){this.constructor=m}m.prototype=v===null?Object.create(v):(_.prototype=v.prototype,new _)}})(),i=e&&e.__awaiter||function(p,m,v,_){function w(C){return C instanceof v?C:new v(function(E){E(C)})}return new(v||(v=Promise))(function(C,E){function R(W){try{H(_.next(W))}catch(U){E(U)}}function M(W){try{H(_.throw(W))}catch(U){E(U)}}function H(W){W.done?C(W.value):w(W.value).then(R,M)}H((_=_.apply(p,m||[])).next())})},o=e&&e.__generator||function(p,m){var v={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},_,w,C,E;return E={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(E[Symbol.iterator]=function(){return this}),E;function R(H){return function(W){return M([H,W])}}function M(H){if(_)throw TypeError("Generator is already executing.");for(;v;)try{if(_=1,w&&(C=H[0]&2?w.return:H[0]?w.throw||((C=w.return)&&C.call(w),0):w.next)&&!(C=C.call(w,H[1])).done)return C;switch(w=0,C&&(H=[H[0]&2,C.value]),H[0]){case 0:case 1:C=H;break;case 4:return v.label++,{value:H[1],done:!1};case 5:v.label++,w=H[1],H=[0];continue;case 7:H=v.ops.pop(),v.trys.pop();continue;default:if(C=v.trys,!(C=C.length>0&&C[C.length-1])&&(H[0]===6||H[0]===2)){v=0;continue}if(H[0]===3&&(!C||H[1]>C[0]&&H[1]<C[3])){v.label=H[1];break}if(H[0]===6&&v.label<C[1]){v.label=C[1],C=H;break}if(C&&v.label<C[2]){v.label=C[2],v.ops.push(H);break}C[2]&&v.ops.pop(),v.trys.pop();continue}H=m.call(p,v)}catch(W){H=[6,W],w=0}finally{_=C=0}if(H[0]&5)throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=pa(),c=Co(),d=function(p){var m=400,v=window.screen.height;return window.open(p,"inspector:popup","left=0,top=0,width="+m+",height="+v+",resizable,scrollbars=yes,status=1")};e.default=(function(p){n(m,p);function m(v){var _=p.call(this)||this;return _.messageHandler=function(w){_.transportRequestManager.resolveResponse(JSON.stringify(w.data))},_.uri=v,_.postMessageID="post-message-transport-"+Math.random(),_}return m.prototype.createWindow=function(v){return new Promise(function(_,w){var C=d(v);setTimeout(function(){_(C)},3e3)})},m.prototype.connect=function(){var v=this,_=/^(http|https):\/\/.*$/;return new Promise(function(w,C){return i(v,void 0,void 0,function(){var E;return o(this,function(R){switch(R.label){case 0:return _.test(this.uri)||C(Error("Bad URI")),E=this,[4,this.createWindow(this.uri)];case 1:return E.frame=R.sent(),window.addEventListener("message",this.messageHandler),w(),[2]}})})})},m.prototype.sendData=function(v,_){return _===void 0&&(_=5e3),i(this,void 0,void 0,function(){var w,C;return o(this,function(E){return w=this.transportRequestManager.addRequest(v,null),C=c.getNotifications(v),this.frame&&(this.frame.postMessage(v.request,this.uri),this.transportRequestManager.settlePendingRequest(C)),[2,w]})})},m.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},m})(s.Transport)})),mg=ke((e=>{var n=e&&e.__extends||(function(){var d=function(p,m){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var w in _)_.hasOwnProperty(w)&&(v[w]=_[w])},d(p,m)};return function(p,m){d(p,m);function v(){this.constructor=p}p.prototype=m===null?Object.create(m):(v.prototype=m.prototype,new v)}})(),i=e&&e.__awaiter||function(d,p,m,v){function _(w){return w instanceof m?w:new m(function(C){C(w)})}return new(m||(m=Promise))(function(w,C){function E(H){try{M(v.next(H))}catch(W){C(W)}}function R(H){try{M(v.throw(H))}catch(W){C(W)}}function M(H){H.done?w(H.value):_(H.value).then(E,R)}M((v=v.apply(d,p||[])).next())})},o=e&&e.__generator||function(d,p){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},v,_,w,C;return C={next:E(0),throw:E(1),return:E(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function E(M){return function(H){return R([M,H])}}function R(M){if(v)throw TypeError("Generator is already executing.");for(;m;)try{if(v=1,_&&(w=M[0]&2?_.return:M[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,M[1])).done)return w;switch(_=0,w&&(M=[M[0]&2,w.value]),M[0]){case 0:case 1:w=M;break;case 4:return m.label++,{value:M[1],done:!1};case 5:m.label++,_=M[1],M=[0];continue;case 7:M=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(M[0]===6||M[0]===2)){m=0;continue}if(M[0]===3&&(!w||M[1]>w[0]&&M[1]<w[3])){m.label=M[1];break}if(M[0]===6&&m.label<w[1]){m.label=w[1],w=M;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(M);break}w[2]&&m.ops.pop(),m.trys.pop();continue}M=p.call(d,m)}catch(H){M=[6,H],_=0}finally{v=w=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0});var s=pa(),c=Co();e.default=(function(d){n(p,d);function p(m){var v=d.call(this)||this;return v.messageHandler=function(_){v.transportRequestManager.resolveResponse(JSON.stringify(_.data))},v.uri=m,v.postMessageID="post-message-transport-"+Math.random(),v}return p.prototype.createWindow=function(m){var v=this;return new Promise(function(_,w){var C,E=document.createElement("iframe");E.setAttribute("id",v.postMessageID),E.setAttribute("width","0px"),E.setAttribute("height","0px"),E.setAttribute("style","visiblity:hidden;border:none;outline:none;"),E.addEventListener("load",function(){_(C)}),E.setAttribute("src",m),window.document.body.appendChild(E),C=E.contentWindow})},p.prototype.connect=function(){var m=this,v=/^(http|https):\/\/.*$/;return new Promise(function(_,w){return i(m,void 0,void 0,function(){var C;return o(this,function(E){switch(E.label){case 0:return v.test(this.uri)||w(Error("Bad URI")),C=this,[4,this.createWindow(this.uri)];case 1:return C.frame=E.sent(),window.addEventListener("message",this.messageHandler),_(),[2]}})})})},p.prototype.sendData=function(m,v){return v===void 0&&(v=5e3),i(this,void 0,void 0,function(){var _,w;return o(this,function(C){return _=this.transportRequestManager.addRequest(m,null),w=c.getNotifications(m),this.frame&&(this.frame.postMessage(m.request,"*"),this.transportRequestManager.settlePendingRequest(w)),[2,_]})})},p.prototype.close=function(){var m;(m=document.getElementById(this.postMessageID))==null||m.remove(),window.removeEventListener("message",this.messageHandler)},p})(s.Transport)})),gg=ke((e=>{var n=e&&e.__awaiter||function(o,s,c,d){function p(m){return m instanceof c?m:new c(function(v){v(m)})}return new(c||(c=Promise))(function(m,v){function _(E){try{C(d.next(E))}catch(R){v(R)}}function w(E){try{C(d.throw(E))}catch(R){v(R)}}function C(E){E.done?m(E.value):p(E.value).then(_,w)}C((d=d.apply(o,s||[])).next())})},i=e&&e.__generator||function(o,s){var c={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},d,p,m,v;return v={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function _(C){return function(E){return w([C,E])}}function w(C){if(d)throw TypeError("Generator is already executing.");for(;c;)try{if(d=1,p&&(m=C[0]&2?p.return:C[0]?p.throw||((m=p.return)&&m.call(p),0):p.next)&&!(m=m.call(p,C[1])).done)return m;switch(p=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return c.label++,{value:C[1],done:!1};case 5:c.label++,p=C[1],C=[0];continue;case 7:C=c.ops.pop(),c.trys.pop();continue;default:if(m=c.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){c=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){c.label=C[1];break}if(C[0]===6&&c.label<m[1]){c.label=m[1],m=C;break}if(m&&c.label<m[2]){c.label=m[2],c.ops.push(C);break}m[2]&&c.ops.pop(),c.trys.pop();continue}C=s.call(o,c)}catch(E){C=[6,E],p=0}finally{d=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=(function(){function o(s){this.requestManager=s}return o.prototype.startBatch=function(){return this.requestManager.startBatch()},o.prototype.stopBatch=function(){return this.requestManager.stopBatch()},o.prototype.request=function(s,c){return n(this,void 0,void 0,function(){return i(this,function(d){switch(d.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2,this.requestManager.request(s,!1,c)]}})})},o.prototype.notify=function(s){return n(this,void 0,void 0,function(){return i(this,function(c){switch(c.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2,this.requestManager.request(s,!0,null)]}})})},o.prototype.onNotification=function(s){this.requestManager.requestChannel.addListener("notification",s)},o.prototype.onError=function(s){this.requestManager.requestChannel.addListener("error",s)},o.prototype.close=function(){this.requestManager.close()},o})()})),Il=ke((e=>{var n=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostMessageIframeTransport=e.PostMessageWindowTransport=e.JSONRPCError=e.WebSocketTransport=e.EventEmitterTransport=e.HTTPTransport=e.RequestManager=e.Client=void 0,e.RequestManager=n(J0()).default,e.EventEmitterTransport=n(Y0()).default,e.HTTPTransport=n(cg()).default,e.WebSocketTransport=n(pg()).default,e.PostMessageWindowTransport=n(hg()).default,e.PostMessageIframeTransport=n(mg()).default;var i=ko();Object.defineProperty(e,"JSONRPCError",{enumerable:!0,get:function(){return i.JSONRPCError}});var o=n(gg());e.Client=o.default,e.default=o.default})),Eo=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function n(m){return m===!0||m===!1}e.boolean=n;function i(m){return typeof m=="string"||m instanceof String}e.string=i;function o(m){return typeof m=="number"||m instanceof Number}e.number=o;function s(m){return m instanceof Error}e.error=s;function c(m){return typeof m=="function"}e.func=c;function d(m){return Array.isArray(m)}e.array=d;function p(m){return d(m)&&m.every(v=>i(v))}e.stringArray=p})),Fd=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;var n=Eo(),i;(function(d){d.ParseError=-32700,d.InvalidRequest=-32600,d.MethodNotFound=-32601,d.InvalidParams=-32602,d.InternalError=-32603,d.jsonrpcReservedErrorRangeStart=-32099,d.serverErrorStart=-32099,d.MessageWriteError=-32099,d.MessageReadError=-32098,d.PendingResponseRejected=-32097,d.ConnectionInactive=-32096,d.ServerNotInitialized=-32002,d.UnknownErrorCode=-32001,d.jsonrpcReservedErrorRangeEnd=-32e3,d.serverErrorEnd=-32e3})(i||(e.ErrorCodes=i={})),e.ResponseError=class pw extends Error{constructor(p,m,v){super(m),this.code=n.number(p)?p:i.UnknownErrorCode,this.data=v,Object.setPrototypeOf(this,pw.prototype)}toJson(){let p={code:this.code,message:this.message};return this.data!==void 0&&(p.data=this.data),p}};var o=class id{constructor(p){this.kind=p}static is(p){return p===id.auto||p===id.byName||p===id.byPosition}toString(){return this.kind}};e.ParameterStructures=o,o.auto=new o("auto"),o.byPosition=new o("byPosition"),o.byName=new o("byName");var s=class{constructor(d,p){this.method=d,this.numberOfParams=p}get parameterStructures(){return o.auto}};e.AbstractMessageSignature=s,e.RequestType0=class extends s{constructor(d){super(d,0)}},e.RequestType=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.RequestType1=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.RequestType2=class extends s{constructor(d){super(d,2)}},e.RequestType3=class extends s{constructor(d){super(d,3)}},e.RequestType4=class extends s{constructor(d){super(d,4)}},e.RequestType5=class extends s{constructor(d){super(d,5)}},e.RequestType6=class extends s{constructor(d){super(d,6)}},e.RequestType7=class extends s{constructor(d){super(d,7)}},e.RequestType8=class extends s{constructor(d){super(d,8)}},e.RequestType9=class extends s{constructor(d){super(d,9)}},e.NotificationType=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.NotificationType0=class extends s{constructor(d){super(d,0)}},e.NotificationType1=class extends s{constructor(d,p=o.auto){super(d,1),this._parameterStructures=p}get parameterStructures(){return this._parameterStructures}},e.NotificationType2=class extends s{constructor(d){super(d,2)}},e.NotificationType3=class extends s{constructor(d){super(d,3)}},e.NotificationType4=class extends s{constructor(d){super(d,4)}},e.NotificationType5=class extends s{constructor(d){super(d,5)}},e.NotificationType6=class extends s{constructor(d){super(d,6)}},e.NotificationType7=class extends s{constructor(d){super(d,7)}},e.NotificationType8=class extends s{constructor(d){super(d,8)}},e.NotificationType9=class extends s{constructor(d){super(d,9)}};var c;(function(d){function p(_){let w=_;return w&&n.string(w.method)&&(n.string(w.id)||n.number(w.id))}d.isRequest=p;function m(_){let w=_;return w&&n.string(w.method)&&_.id===void 0}d.isNotification=m;function v(_){let w=_;return w&&(w.result!==void 0||!!w.error)&&(n.string(w.id)||n.number(w.id)||w.id===null)}d.isResponse=v})(c||(e.Message=c={}))})),Bd=ke((e=>{var n;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var i;(function(s){s.None=0,s.First=1,s.AsOld=s.First,s.Last=2,s.AsNew=s.Last})(i||(e.Touch=i={}));var o=class{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var s;return(s=this._head)==null?void 0:s.value}get last(){var s;return(s=this._tail)==null?void 0:s.value}has(s){return this._map.has(s)}get(s,c=i.None){let d=this._map.get(s);if(d)return c!==i.None&&this.touch(d,c),d.value}set(s,c,d=i.None){let p=this._map.get(s);if(p)p.value=c,d!==i.None&&this.touch(p,d);else{switch(p={key:s,value:c,next:void 0,previous:void 0},d){case i.None:this.addItemLast(p);break;case i.First:this.addItemFirst(p);break;case i.Last:this.addItemLast(p);break;default:this.addItemLast(p);break}this._map.set(s,p),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){let c=this._map.get(s);if(c)return this._map.delete(s),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw Error("Invalid list");let s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,c){let d=this._state,p=this._head;for(;p;){if(c?s.bind(c)(p.value,p.key,this):s(p.value,p.key,this),this._state!==d)throw Error("LinkedMap got modified during iteration.");p=p.next}}keys(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:c.key,done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}values(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:c.value,done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}entries(){let s=this._state,c=this._head,d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==s)throw Error("LinkedMap got modified during iteration.");if(c){let p={value:[c.key,c.value],done:!1};return c=c.next,p}else return{value:void 0,done:!0}}};return d}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this._head,d=this.size;for(;c&&d>s;)this._map.delete(c.key),c=c.next,d--;this._head=c,this._size=d,c&&(c.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{let c=s.next,d=s.previous;if(!c||!d)throw Error("Invalid list");c.previous=d,d.next=c}s.next=void 0,s.previous=void 0,this._state++}touch(s,c){if(!this._head||!this._tail)throw Error("Invalid list");if(!(c!==i.First&&c!==i.Last)){if(c===i.First){if(s===this._head)return;let d=s.next,p=s.previous;s===this._tail?(p.next=void 0,this._tail=p):(d.previous=p,p.next=d),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(c===i.Last){if(s===this._tail)return;let d=s.next,p=s.previous;s===this._head?(d.previous=void 0,this._head=d):(d.previous=p,p.next=d),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){let s=[];return this.forEach((c,d)=>{s.push([d,c])}),s}fromJSON(s){this.clear();for(let[c,d]of s)this.set(c,d)}};e.LinkedMap=o,e.LRUCache=class extends o{constructor(s,c=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,c=i.AsNew){return super.get(s,c)}peek(s){return super.get(s,i.None)}set(s,c){return super.set(s,c,i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}})),yg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0;var n;(function(i){function o(s){return{dispose:s}}i.create=o})(n||(e.Disposable=n={}))})),Ai=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n;function i(){if(n===void 0)throw Error("No runtime abstraction layer installed");return n}(function(o){function s(c){if(c===void 0)throw Error("No runtime abstraction layer provided");n=c}o.install=s})(i||(i={})),e.default=i})),To=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var n=Ai(),i;(function(c){let d={dispose(){}};c.None=function(){return d}})(i||(e.Event=i={}));var o=class{add(c,d=null,p){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(c),this._contexts.push(d),Array.isArray(p)&&p.push({dispose:()=>this.remove(c,d)})}remove(c,d=null){if(!this._callbacks)return;let p=!1;for(let m=0,v=this._callbacks.length;m<v;m++)if(this._callbacks[m]===c)if(this._contexts[m]===d){this._callbacks.splice(m,1),this._contexts.splice(m,1);return}else p=!0;if(p)throw Error("When adding a listener with a context, you should remove it with the same context")}invoke(...c){if(!this._callbacks)return[];let d=[],p=this._callbacks.slice(0),m=this._contexts.slice(0);for(let v=0,_=p.length;v<_;v++)try{d.push(p[v].apply(m[v],c))}catch(w){(0,n.default)().console.error(w)}return d}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},s=class hw{constructor(d){this._options=d}get event(){return this._event||(this._event=(d,p,m)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(d,p);let v={dispose:()=>{this._callbacks&&(this._callbacks.remove(d,p),v.dispose=hw._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(m)&&m.push(v),v}),this._event}fire(d){this._callbacks&&this._callbacks.invoke.call(this._callbacks,d)}dispose(){this._callbacks&&(this._callbacks=(this._callbacks.dispose(),void 0))}};e.Emitter=s,s._noop=function(){}})),Gl=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var n=Ai(),i=Eo(),o=To(),s;(function(p){p.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:o.Event.None}),p.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:o.Event.None});function m(v){let _=v;return _&&(_===p.None||_===p.Cancelled||i.boolean(_.isCancellationRequested)&&!!_.onCancellationRequested)}p.is=m})(s||(e.CancellationToken=s={}));var c=Object.freeze(function(p,m){let v=(0,n.default)().timer.setTimeout(p.bind(m),0);return{dispose(){v.dispose()}}}),d=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?c:(this._emitter||(this._emitter=new o.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter=(this._emitter.dispose(),void 0))}};e.CancellationTokenSource=class{get token(){return this._token||(this._token=new d),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof d&&this._token.dispose():this._token=s.None}}})),vg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=void 0;var n=Gl(),i;(function(c){c.Continue=0,c.Cancelled=1})(i||(i={})),e.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(c){if(c.id===null)return;let d=new SharedArrayBuffer(4),p=new Int32Array(d,0,1);p[0]=i.Continue,this.buffers.set(c.id,d),c.$cancellationData=d}async sendCancellation(c,d){let p=this.buffers.get(d);if(p===void 0)return;let m=new Int32Array(p,0,1);Atomics.store(m,0,i.Cancelled)}cleanup(c){this.buffers.delete(c)}dispose(){this.buffers.clear()}};var o=class{constructor(c){this.data=new Int32Array(c,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===i.Cancelled}get onCancellationRequested(){throw Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},s=class{constructor(c){this.token=new o(c)}cancel(){}dispose(){}};e.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(c){let d=c.$cancellationData;return d===void 0?new n.CancellationTokenSource:new s(d)}}})),Hd=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Semaphore=void 0;var n=Ai();e.Semaphore=class{constructor(i=1){if(i<=0)throw Error("Capacity must be greater than 0");this._capacity=i,this._active=0,this._waiting=[]}lock(i){return new Promise((o,s)=>{this._waiting.push({thunk:i,resolve:o,reject:s}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,n.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let i=this._waiting.shift();if(this._active++,this._active>this._capacity)throw Error("To many thunks active");try{let o=i.thunk();o instanceof Promise?o.then(s=>{this._active--,i.resolve(s),this.runNext()},s=>{this._active--,i.reject(s),this.runNext()}):(this._active--,i.resolve(o),this.runNext())}catch(o){this._active--,i.reject(o),this.runNext()}}}})),bg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;var n=Ai(),i=Eo(),o=To(),s=Hd(),c;(function(m){function v(_){let w=_;return w&&i.func(w.listen)&&i.func(w.dispose)&&i.func(w.onError)&&i.func(w.onClose)&&i.func(w.onPartialMessage)}m.is=v})(c||(e.MessageReader=c={}));var d=class{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter,this.partialMessageEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(m){this.errorEmitter.fire(this.asError(m))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(m){this.partialMessageEmitter.fire(m)}asError(m){return m instanceof Error?m:Error(`Reader received error. Reason: ${i.string(m.message)?m.message:"unknown"}`)}};e.AbstractMessageReader=d;var p;(function(m){function v(_){let w,C,E=new Map,R,M=new Map;if(_===void 0||typeof _=="string")w=_??"utf-8";else{if(w=_.charset??"utf-8",_.contentDecoder!==void 0&&(C=_.contentDecoder,E.set(C.name,C)),_.contentDecoders!==void 0)for(let H of _.contentDecoders)E.set(H.name,H);if(_.contentTypeDecoder!==void 0&&(R=_.contentTypeDecoder,M.set(R.name,R)),_.contentTypeDecoders!==void 0)for(let H of _.contentTypeDecoders)M.set(H.name,H)}return R===void 0&&(R=(0,n.default)().applicationJson.decoder,M.set(R.name,R)),{charset:w,contentDecoder:C,contentDecoders:E,contentTypeDecoder:R,contentTypeDecoders:M}}m.fromOptions=v})(p||(p={})),e.ReadableStreamMessageReader=class extends d{constructor(m,v){super(),this.readable=m,this.options=p.fromOptions(v),this.buffer=(0,n.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new s.Semaphore(1)}set partialMessageTimeout(m){this._partialMessageTimeout=m}get partialMessageTimeout(){return this._partialMessageTimeout}listen(m){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=m;let v=this.readable.onData(_=>{this.onData(_)});return this.readable.onError(_=>this.fireError(_)),this.readable.onClose(()=>this.fireClose()),v}onData(m){try{for(this.buffer.append(m);;){if(this.nextMessageLength===-1){let _=this.buffer.tryReadHeaders(!0);if(!_)return;let w=_.get("content-length");if(!w){this.fireError(Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(_))}`));return}let C=parseInt(w);if(isNaN(C)){this.fireError(Error(`Content-Length value must be a number. Got ${w}`));return}this.nextMessageLength=C}let v=this.buffer.tryReadBody(this.nextMessageLength);if(v===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let _=this.options.contentDecoder===void 0?v:await this.options.contentDecoder.decode(v),w=await this.options.contentTypeDecoder.decode(_,this.options);this.callback(w)}).catch(_=>{this.fireError(_)})}}catch(v){this.fireError(v)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer=(this.partialMessageTimer.dispose(),void 0))}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,n.default)().timer.setTimeout((m,v)=>{this.partialMessageTimer=void 0,m===this.messageToken&&(this.firePartialMessage({messageToken:m,waitingTime:v}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}})),_g=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;var n=Ai(),i=Eo(),o=Hd(),s=To(),c="Content-Length: ",d=`\r
`,p;(function(_){function w(C){let E=C;return E&&i.func(E.dispose)&&i.func(E.onClose)&&i.func(E.onError)&&i.func(E.write)}_.is=w})(p||(e.MessageWriter=p={}));var m=class{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(_,w,C){this.errorEmitter.fire([this.asError(_),w,C])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(_){return _ instanceof Error?_:Error(`Writer received error. Reason: ${i.string(_.message)?_.message:"unknown"}`)}};e.AbstractMessageWriter=m;var v;(function(_){function w(C){return C===void 0||typeof C=="string"?{charset:C??"utf-8",contentTypeEncoder:(0,n.default)().applicationJson.encoder}:{charset:C.charset??"utf-8",contentEncoder:C.contentEncoder,contentTypeEncoder:C.contentTypeEncoder??(0,n.default)().applicationJson.encoder}}_.fromOptions=w})(v||(v={})),e.WriteableStreamMessageWriter=class extends m{constructor(_,w){super(),this.writable=_,this.options=v.fromOptions(w),this.errorCount=0,this.writeSemaphore=new o.Semaphore(1),this.writable.onError(C=>this.fireError(C)),this.writable.onClose(()=>this.fireClose())}async write(_){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(_,this.options).then(w=>this.options.contentEncoder===void 0?w:this.options.contentEncoder.encode(w)).then(w=>{let C=[];return C.push(c,w.byteLength.toString(),d),C.push(d),this.doWrite(_,C,w)},w=>{throw this.fireError(w),w}))}async doWrite(_,w,C){try{return await this.writable.write(w.join(""),"ascii"),this.writable.write(C)}catch(E){return this.handleError(E,_),Promise.reject(E)}}handleError(_,w){this.errorCount++,this.fireError(_,w,this.errorCount)}end(){this.writable.end()}}})),wg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractMessageBuffer=void 0;var n=13,i=10,o=`\r
`;e.AbstractMessageBuffer=class{constructor(s="utf-8"){this._encoding=s,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(s){let c=typeof s=="string"?this.fromString(s,this._encoding):s;this._chunks.push(c),this._totalLength+=c.byteLength}tryReadHeaders(s=!1){if(this._chunks.length===0)return;let c=0,d=0,p=0,m=0;e:for(;d<this._chunks.length;){let C=this._chunks[d];for(p=0;p<C.length;){switch(C[p]){case n:switch(c){case 0:c=1;break;case 2:c=3;break;default:c=0}break;case i:switch(c){case 1:c=2;break;case 3:c=4,p++;break e;default:c=0}break;default:c=0}p++}m+=C.byteLength,d++}if(c!==4)return;let v=this._read(m+p),_=new Map,w=this.toString(v,"ascii").split(o);if(w.length<2)return _;for(let C=0;C<w.length-2;C++){let E=w[C],R=E.indexOf(":");if(R===-1)throw Error(`Message header must separate key and value using ':'
${E}`);let M=E.substr(0,R),H=E.substr(R+1).trim();_.set(s?M.toLowerCase():M,H)}return _}tryReadBody(s){if(!(this._totalLength<s))return this._read(s)}get numberOfBytes(){return this._totalLength}_read(s){if(s===0)return this.emptyBuffer();if(s>this._totalLength)throw Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===s){let p=this._chunks[0];return this._chunks.shift(),this._totalLength-=s,this.asNative(p)}if(this._chunks[0].byteLength>s){let p=this._chunks[0],m=this.asNative(p,s);return this._chunks[0]=p.slice(s),this._totalLength-=s,m}let c=this.allocNative(s),d=0;for(;s>0;){let p=this._chunks[0];if(p.byteLength>s){let m=p.slice(0,s);c.set(m,d),d+=s,this._chunks[0]=p.slice(s),this._totalLength-=s,s-=s}else c.set(p,d),d+=p.byteLength,this._chunks.shift(),this._totalLength-=p.byteLength,s-=p.byteLength}return c}}})),xg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;var n=Ai(),i=Eo(),o=Fd(),s=Bd(),c=To(),d=Gl(),p;(function(Z){Z.type=new o.NotificationType("$/cancelRequest")})(p||(p={}));var m;(function(Z){function be(Se){return typeof Se=="string"||typeof Se=="number"}Z.is=be})(m||(e.ProgressToken=m={}));var v;(function(Z){Z.type=new o.NotificationType("$/progress")})(v||(v={})),e.ProgressType=class{constructor(){}};var _;(function(Z){function be(Se){return i.func(Se)}Z.is=be})(_||(_={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var w;(function(Z){Z[Z.Off=0]="Off",Z[Z.Messages=1]="Messages",Z[Z.Compact=2]="Compact",Z[Z.Verbose=3]="Verbose"})(w||(e.Trace=w={}));var C;(function(Z){Z.Off="off",Z.Messages="messages",Z.Compact="compact",Z.Verbose="verbose"})(C||(e.TraceValues=C={})),(function(Z){function be(ne){if(!i.string(ne))return Z.Off;switch(ne=ne.toLowerCase(),ne){case"off":return Z.Off;case"messages":return Z.Messages;case"compact":return Z.Compact;case"verbose":return Z.Verbose;default:return Z.Off}}Z.fromString=be;function Se(ne){switch(ne){case Z.Off:return"off";case Z.Messages:return"messages";case Z.Compact:return"compact";case Z.Verbose:return"verbose";default:return"off"}}Z.toString=Se})(w||(e.Trace=w={}));var E;(function(Z){Z.Text="text",Z.JSON="json"})(E||(e.TraceFormat=E={})),(function(Z){function be(Se){return i.string(Se)?(Se=Se.toLowerCase(),Se==="json"?Z.JSON:Z.Text):Z.Text}Z.fromString=be})(E||(e.TraceFormat=E={}));var R;(function(Z){Z.type=new o.NotificationType("$/setTrace")})(R||(e.SetTraceNotification=R={}));var M;(function(Z){Z.type=new o.NotificationType("$/logTrace")})(M||(e.LogTraceNotification=M={}));var H;(function(Z){Z[Z.Closed=1]="Closed",Z[Z.Disposed=2]="Disposed",Z[Z.AlreadyListening=3]="AlreadyListening"})(H||(e.ConnectionErrors=H={}));var W=class mw extends Error{constructor(be,Se){super(Se),this.code=be,Object.setPrototypeOf(this,mw.prototype)}};e.ConnectionError=W;var U;(function(Z){function be(Se){let ne=Se;return ne&&i.func(ne.cancelUndispatched)}Z.is=be})(U||(e.ConnectionStrategy=U={}));var I;(function(Z){function be(Se){let ne=Se;return ne&&(ne.kind===void 0||ne.kind==="id")&&i.func(ne.createCancellationTokenSource)&&(ne.dispose===void 0||i.func(ne.dispose))}Z.is=be})(I||(e.IdCancellationReceiverStrategy=I={}));var G;(function(Z){function be(Se){let ne=Se;return ne&&ne.kind==="request"&&i.func(ne.createCancellationTokenSource)&&(ne.dispose===void 0||i.func(ne.dispose))}Z.is=be})(G||(e.RequestCancellationReceiverStrategy=G={}));var me;(function(Z){Z.Message=Object.freeze({createCancellationTokenSource(Se){return new d.CancellationTokenSource}});function be(Se){return I.is(Se)||G.is(Se)}Z.is=be})(me||(e.CancellationReceiverStrategy=me={}));var N;(function(Z){Z.Message=Object.freeze({sendCancellation(Se,ne){return Se.sendNotification(p.type,{id:ne})},cleanup(Se){}});function be(Se){let ne=Se;return ne&&i.func(ne.sendCancellation)&&i.func(ne.cleanup)}Z.is=be})(N||(e.CancellationSenderStrategy=N={}));var q;(function(Z){Z.Message=Object.freeze({receiver:me.Message,sender:N.Message});function be(Se){let ne=Se;return ne&&me.is(ne.receiver)&&N.is(ne.sender)}Z.is=be})(q||(e.CancellationStrategy=q={}));var V;(function(Z){function be(Se){let ne=Se;return ne&&i.func(ne.handleMessage)}Z.is=be})(V||(e.MessageStrategy=V={}));var de;(function(Z){function be(Se){let ne=Se;return ne&&(q.is(ne.cancellationStrategy)||U.is(ne.connectionStrategy)||V.is(ne.messageStrategy))}Z.is=be})(de||(e.ConnectionOptions=de={}));var fe;(function(Z){Z[Z.New=1]="New",Z[Z.Listening=2]="Listening",Z[Z.Closed=3]="Closed",Z[Z.Disposed=4]="Disposed"})(fe||(fe={}));function xe(Z,be,Se,ne){let ie=Se===void 0?e.NullLogger:Se,le=0,K=0,Ne=0,Ue,ot=new Map,ze,He=new Map,De=new Map,Le,mn=new s.LinkedMap,qt=new Map,Dn=new Set,ln=new Map,Ke=w.Off,nn=E.Text,gt,gn=fe.New,Yn=new c.Emitter,kt=new c.Emitter,si=new c.Emitter,yn=new c.Emitter,vn=new c.Emitter,In=ne&&ne.cancellationStrategy?ne.cancellationStrategy:q.Message;function Nr(j){if(j===null)throw Error("Can't send requests with id null since the response can't be correlated.");return"req-"+j.toString()}function An(j){return j===null?"res-unknown-"+(++Ne).toString():"res-"+j.toString()}function rn(){return"not-"+(++K).toString()}function Bi(j,ee){o.Message.isRequest(ee)?j.set(Nr(ee.id),ee):o.Message.isResponse(ee)?j.set(An(ee.id),ee):j.set(rn(),ee)}function Wr(j){}function Lr(){return gn===fe.Listening}function li(){return gn===fe.Closed}function Vt(){return gn===fe.Disposed}function Gt(){(gn===fe.New||gn===fe.Listening)&&(gn=fe.Closed,kt.fire(void 0))}function yt(j){Yn.fire([j,void 0,void 0])}function Bt(j){Yn.fire(j)}Z.onClose(Gt),Z.onError(yt),be.onClose(Gt),be.onError(Bt);function Ct(){Le||mn.size===0||(Le=(0,n.default)().timer.setImmediate(()=>{Le=void 0,Hi()}))}function ci(j){o.Message.isRequest(j)?pr(j):o.Message.isNotification(j)?$t(j):o.Message.isResponse(j)?Ge(j):lt(j)}function Hi(){if(mn.size===0)return;let j=mn.shift();try{let ee=ne==null?void 0:ne.messageStrategy;V.is(ee)?ee.handleMessage(j,ci):ci(j)}finally{Ct()}}let Mr=j=>{try{if(o.Message.isNotification(j)&&j.method===p.type.method){let ee=j.params.id,ye=Nr(ee),Ce=mn.get(ye);if(o.Message.isRequest(Ce)){let tt=ne==null?void 0:ne.connectionStrategy,it=tt&&tt.cancelUndispatched?tt.cancelUndispatched(Ce,Wr):void 0;if(it&&(it.error!==void 0||it.result!==void 0)){mn.delete(ye),ln.delete(ee),it.id=Ce.id,St(it,j.method,Date.now()),be.write(it).catch(()=>ie.error("Sending response for canceled message failed."));return}}let ft=ln.get(ee);if(ft!==void 0){ft.cancel(),Kr(j);return}else Dn.add(ee)}Bi(mn,j)}finally{Ct()}};function pr(j){if(Vt())return;function ee(We,Ve,at){let mt={jsonrpc:"2.0",id:j.id};We instanceof o.ResponseError?mt.error=We.toJson():mt.result=We===void 0?null:We,St(mt,Ve,at),be.write(mt).catch(()=>ie.error("Sending response failed."))}function ye(We,Ve,at){let mt={jsonrpc:"2.0",id:j.id,error:We.toJson()};St(mt,Ve,at),be.write(mt).catch(()=>ie.error("Sending response failed."))}function Ce(We,Ve,at){We===void 0&&(We=null);let mt={jsonrpc:"2.0",id:j.id,result:We};St(mt,Ve,at),be.write(mt).catch(()=>ie.error("Sending response failed."))}Zn(j);let ft=ot.get(j.method),tt,it;ft&&(tt=ft.type,it=ft.handler);let _t=Date.now();if(it||Ue){let We=j.id??String(Date.now()),Ve=I.is(In.receiver)?In.receiver.createCancellationTokenSource(We):In.receiver.createCancellationTokenSource(j);j.id!==null&&Dn.has(j.id)&&Ve.cancel(),j.id!==null&&ln.set(We,Ve);try{let at;if(it)if(j.params===void 0){if(tt!==void 0&&tt.numberOfParams!==0){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${j.method} defines ${tt.numberOfParams} params but received none.`),j.method,_t);return}at=it(Ve.token)}else if(Array.isArray(j.params)){if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byName){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${j.method} defines parameters by name but received parameters by position`),j.method,_t);return}at=it(...j.params,Ve.token)}else{if(tt!==void 0&&tt.parameterStructures===o.ParameterStructures.byPosition){ye(new o.ResponseError(o.ErrorCodes.InvalidParams,`Request ${j.method} defines parameters by position but received parameters by name`),j.method,_t);return}at=it(j.params,Ve.token)}else Ue&&(at=Ue(j.method,j.params,Ve.token));let mt=at;at?mt.then?mt.then(Wt=>{ln.delete(We),ee(Wt,j.method,_t)},Wt=>{ln.delete(We),Wt instanceof o.ResponseError?ye(Wt,j.method,_t):Wt&&i.string(Wt.message)?ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${j.method} failed with message: ${Wt.message}`),j.method,_t):ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${j.method} failed unexpectedly without providing any details.`),j.method,_t)}):(ln.delete(We),ee(at,j.method,_t)):(ln.delete(We),Ce(at,j.method,_t))}catch(at){ln.delete(We),at instanceof o.ResponseError?ee(at,j.method,_t):at&&i.string(at.message)?ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${j.method} failed with message: ${at.message}`),j.method,_t):ye(new o.ResponseError(o.ErrorCodes.InternalError,`Request ${j.method} failed unexpectedly without providing any details.`),j.method,_t)}}else ye(new o.ResponseError(o.ErrorCodes.MethodNotFound,`Unhandled method ${j.method}`),j.method,_t)}function Ge(j){if(!Vt())if(j.id===null)j.error?ie.error(`Received response message without id: Error is: 
${JSON.stringify(j.error,void 0,4)}`):ie.error("Received response message without id. No further error information provided.");else{let ee=j.id,ye=qt.get(ee);if(ui(j,ye),ye!==void 0){qt.delete(ee);try{if(j.error){let Ce=j.error;ye.reject(new o.ResponseError(Ce.code,Ce.message,Ce.data))}else if(j.result!==void 0)ye.resolve(j.result);else throw Error("Should never happen.")}catch(Ce){Ce.message?ie.error(`Response handler '${ye.method}' failed with message: ${Ce.message}`):ie.error(`Response handler '${ye.method}' failed unexpectedly.`)}}}}function $t(j){if(Vt())return;let ee,ye;if(j.method===p.type.method){let Ce=j.params.id;Dn.delete(Ce),Kr(j);return}else{let Ce=He.get(j.method);Ce&&(ye=Ce.handler,ee=Ce.type)}if(ye||ze)try{if(Kr(j),ye)if(j.params===void 0)ee!==void 0&&ee.numberOfParams!==0&&ee.parameterStructures!==o.ParameterStructures.byName&&ie.error(`Notification ${j.method} defines ${ee.numberOfParams} params but received none.`),ye();else if(Array.isArray(j.params)){let Ce=j.params;j.method===v.type.method&&Ce.length===2&&m.is(Ce[0])?ye({token:Ce[0],value:Ce[1]}):(ee!==void 0&&(ee.parameterStructures===o.ParameterStructures.byName&&ie.error(`Notification ${j.method} defines parameters by name but received parameters by position`),ee.numberOfParams!==j.params.length&&ie.error(`Notification ${j.method} defines ${ee.numberOfParams} params but received ${Ce.length} arguments`)),ye(...Ce))}else ee!==void 0&&ee.parameterStructures===o.ParameterStructures.byPosition&&ie.error(`Notification ${j.method} defines parameters by position but received parameters by name`),ye(j.params);else ze&&ze(j.method,j.params)}catch(Ce){Ce.message?ie.error(`Notification handler '${j.method}' failed with message: ${Ce.message}`):ie.error(`Notification handler '${j.method}' failed unexpectedly.`)}else si.fire(j)}function lt(j){if(!j){ie.error("Received empty message.");return}ie.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(j,null,4)}`);let ee=j;if(i.string(ee.id)||i.number(ee.id)){let ye=ee.id,Ce=qt.get(ye);Ce&&Ce.reject(Error("The received response has neither a result nor an error property."))}}function vt(j){if(j!=null)switch(Ke){case w.Verbose:return JSON.stringify(j,null,4);case w.Compact:return JSON.stringify(j);default:return}}function On(j){if(!(Ke===w.Off||!gt))if(nn===E.Text){let ee;(Ke===w.Verbose||Ke===w.Compact)&&j.params&&(ee=`Params: ${vt(j.params)}

`),gt.log(`Sending request '${j.method} - (${j.id})'.`,ee)}else qn("send-request",j)}function Ur(j){if(!(Ke===w.Off||!gt))if(nn===E.Text){let ee;(Ke===w.Verbose||Ke===w.Compact)&&(ee=j.params?`Params: ${vt(j.params)}

`:`No parameters provided.

`),gt.log(`Sending notification '${j.method}'.`,ee)}else qn("send-notification",j)}function St(j,ee,ye){if(!(Ke===w.Off||!gt))if(nn===E.Text){let Ce;(Ke===w.Verbose||Ke===w.Compact)&&(j.error&&j.error.data?Ce=`Error data: ${vt(j.error.data)}

`:j.result?Ce=`Result: ${vt(j.result)}

`:j.error===void 0&&(Ce=`No result returned.

`)),gt.log(`Sending response '${ee} - (${j.id})'. Processing request took ${Date.now()-ye}ms`,Ce)}else qn("send-response",j)}function Zn(j){if(!(Ke===w.Off||!gt))if(nn===E.Text){let ee;(Ke===w.Verbose||Ke===w.Compact)&&j.params&&(ee=`Params: ${vt(j.params)}

`),gt.log(`Received request '${j.method} - (${j.id})'.`,ee)}else qn("receive-request",j)}function Kr(j){if(!(Ke===w.Off||!gt||j.method===M.type.method))if(nn===E.Text){let ee;(Ke===w.Verbose||Ke===w.Compact)&&(ee=j.params?`Params: ${vt(j.params)}

`:`No parameters provided.

`),gt.log(`Received notification '${j.method}'.`,ee)}else qn("receive-notification",j)}function ui(j,ee){if(!(Ke===w.Off||!gt))if(nn===E.Text){let ye;if((Ke===w.Verbose||Ke===w.Compact)&&(j.error&&j.error.data?ye=`Error data: ${vt(j.error.data)}

`:j.result?ye=`Result: ${vt(j.result)}

`:j.error===void 0&&(ye=`No result returned.

`)),ee){let Ce=j.error?` Request failed: ${j.error.message} (${j.error.code}).`:"";gt.log(`Received response '${ee.method} - (${j.id})' in ${Date.now()-ee.timerStart}ms.${Ce}`,ye)}else gt.log(`Received response ${j.id} without active response promise.`,ye)}else qn("receive-response",j)}function qn(j,ee){if(!gt||Ke===w.Off)return;let ye={isLSPMessage:!0,type:j,message:ee,timestamp:Date.now()};gt.log(ye)}function Hn(){if(li())throw new W(H.Closed,"Connection is closed.");if(Vt())throw new W(H.Disposed,"Connection is disposed.")}function Qr(){if(Lr())throw new W(H.AlreadyListening,"Connection is already listening")}function di(){if(!Lr())throw Error("Call listen() first.")}function er(j){return j===void 0?null:j}function Pn(j){if(j!==null)return j}function bt(j){return j!=null&&!Array.isArray(j)&&typeof j=="object"}function jt(j,ee){switch(j){case o.ParameterStructures.auto:return bt(ee)?Pn(ee):[er(ee)];case o.ParameterStructures.byName:if(!bt(ee))throw Error("Received parameters by name but param is not an object literal.");return Pn(ee);case o.ParameterStructures.byPosition:return[er(ee)];default:throw Error(`Unknown parameter structure ${j.toString()}`)}}function P(j,ee){let ye,Ce=j.numberOfParams;switch(Ce){case 0:ye=void 0;break;case 1:ye=jt(j.parameterStructures,ee[0]);break;default:ye=[];for(let ft=0;ft<ee.length&&ft<Ce;ft++)ye.push(er(ee[ft]));if(ee.length<Ce)for(let ft=ee.length;ft<Ce;ft++)ye.push(null);break}return ye}let Je={sendNotification:(j,...ee)=>{Hn();let ye,Ce;if(i.string(j)){ye=j;let tt=ee[0],it=0,_t=o.ParameterStructures.auto;o.ParameterStructures.is(tt)&&(it=1,_t=tt);let We=ee.length,Ve=We-it;switch(Ve){case 0:Ce=void 0;break;case 1:Ce=jt(_t,ee[it]);break;default:if(_t===o.ParameterStructures.byName)throw Error(`Received ${Ve} parameters for 'by Name' notification parameter structure.`);Ce=ee.slice(it,We).map(at=>er(at));break}}else{let tt=ee;ye=j.method,Ce=P(j,tt)}let ft={jsonrpc:"2.0",method:ye,params:Ce};return Ur(ft),be.write(ft).catch(tt=>{throw ie.error("Sending notification failed."),tt})},onNotification:(j,ee)=>{Hn();let ye;return i.func(j)?ze=j:ee&&(i.string(j)?(ye=j,He.set(j,{type:void 0,handler:ee})):(ye=j.method,He.set(j.method,{type:j,handler:ee}))),{dispose:()=>{ye===void 0?ze=void 0:He.delete(ye)}}},onProgress:(j,ee,ye)=>{if(De.has(ee))throw Error(`Progress handler for token ${ee} already registered`);return De.set(ee,ye),{dispose:()=>{De.delete(ee)}}},sendProgress:(j,ee,ye)=>Je.sendNotification(v.type,{token:ee,value:ye}),onUnhandledProgress:yn.event,sendRequest:(j,...ee)=>{Hn(),di();let ye,Ce,ft;if(i.string(j)){ye=j;let We=ee[0],Ve=ee[ee.length-1],at=0,mt=o.ParameterStructures.auto;o.ParameterStructures.is(We)&&(at=1,mt=We);let Wt=ee.length;d.CancellationToken.is(Ve)&&(--Wt,ft=Ve);let tr=Wt-at;switch(tr){case 0:Ce=void 0;break;case 1:Ce=jt(mt,ee[at]);break;default:if(mt===o.ParameterStructures.byName)throw Error(`Received ${tr} parameters for 'by Name' request parameter structure.`);Ce=ee.slice(at,Wt).map(Ss=>er(Ss));break}}else{let We=ee;ye=j.method,Ce=P(j,We);let Ve=j.numberOfParams;ft=d.CancellationToken.is(We[Ve])?We[Ve]:void 0}let tt=le++,it;ft&&(it=ft.onCancellationRequested(()=>{let We=In.sender.sendCancellation(Je,tt);return We===void 0?(ie.log(`Received no promise from cancellation strategy when cancelling id ${tt}`),Promise.resolve()):We.catch(()=>{ie.log(`Sending cancellation messages for id ${tt} failed`)})}));let _t={jsonrpc:"2.0",id:tt,method:ye,params:Ce};return On(_t),typeof In.sender.enableCancellation=="function"&&In.sender.enableCancellation(_t),new Promise(async(We,Ve)=>{let at={method:ye,timerStart:Date.now(),resolve:mt=>{We(mt),In.sender.cleanup(tt),it==null||it.dispose()},reject:mt=>{Ve(mt),In.sender.cleanup(tt),it==null||it.dispose()}};try{await be.write(_t),qt.set(tt,at)}catch(mt){throw ie.error("Sending request failed."),at.reject(new o.ResponseError(o.ErrorCodes.MessageWriteError,mt.message?mt.message:"Unknown reason")),mt}})},onRequest:(j,ee)=>{Hn();let ye=null;return _.is(j)?(ye=void 0,Ue=j):i.string(j)?(ye=null,ee!==void 0&&(ye=j,ot.set(j,{handler:ee,type:void 0}))):ee!==void 0&&(ye=j.method,ot.set(j.method,{type:j,handler:ee})),{dispose:()=>{ye!==null&&(ye===void 0?Ue=void 0:ot.delete(ye))}}},hasPendingResponse:()=>qt.size>0,trace:async(j,ee,ye)=>{let Ce=!1,ft=E.Text;ye!==void 0&&(i.boolean(ye)?Ce=ye:(Ce=ye.sendNotification||!1,ft=ye.traceFormat||E.Text)),Ke=j,nn=ft,gt=Ke===w.Off?void 0:ee,Ce&&!li()&&!Vt()&&await Je.sendNotification(R.type,{value:w.toString(j)})},onError:Yn.event,onClose:kt.event,onUnhandledNotification:si.event,onDispose:vn.event,end:()=>{be.end()},dispose:()=>{if(Vt())return;gn=fe.Disposed,vn.fire(void 0);let j=new o.ResponseError(o.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let ee of qt.values())ee.reject(j);qt=new Map,ln=new Map,Dn=new Set,mn=new s.LinkedMap,i.func(be.dispose)&&be.dispose(),i.func(Z.dispose)&&Z.dispose()},listen:()=>{Hn(),Qr(),gn=fe.Listening,Z.listen(Mr)},inspect:()=>{(0,n.default)().console.log("inspect")}};return Je.onNotification(M.type,j=>{if(Ke===w.Off||!gt)return;let ee=Ke===w.Verbose||Ke===w.Compact;gt.log(j.message,ee?j.verbose:void 0)}),Je.onNotification(v.type,j=>{let ee=De.get(j.token);ee?ee(j.value):yn.fire(j)}),Je}e.createMessageConnection=xe})),Jl=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;var n=Fd();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return n.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return n.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return n.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return n.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return n.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return n.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return n.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return n.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return n.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return n.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return n.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return n.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return n.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return n.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return n.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return n.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return n.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return n.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return n.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return n.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return n.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return n.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return n.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return n.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return n.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return n.ParameterStructures}});var i=Bd();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return i.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return i.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return i.Touch}});var o=yg();Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return o.Disposable}});var s=To();Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});var c=Gl();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return c.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return c.CancellationToken}});var d=vg();Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return d.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return d.SharedArrayReceiverStrategy}});var p=bg();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return p.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return p.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return p.ReadableStreamMessageReader}});var m=_g();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return m.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return m.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return m.WriteableStreamMessageWriter}});var v=wg();Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return v.AbstractMessageBuffer}});var _=xg();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return _.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return _.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return _.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return _.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return _.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return _.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return _.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return _.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return _.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return _.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return _.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return _.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return _.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return _.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return _.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return _.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return _.MessageStrategy}}),e.RAL=Ai().default})),kg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0});var n=Jl(),i=class gw extends n.AbstractMessageBuffer{constructor(v="utf-8"){super(v),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return gw.emptyBuffer}fromString(v,_){return new TextEncoder().encode(v)}toString(v,_){return _==="ascii"?this.asciiDecoder.decode(v):new TextDecoder(_).decode(v)}asNative(v,_){return _===void 0?v:v.slice(0,_)}allocNative(v){return new Uint8Array(v)}};i.emptyBuffer=new Uint8Array;var o=class{constructor(m){this.socket=m,this._onData=new n.Emitter,this._messageListener=v=>{v.data.arrayBuffer().then(_=>{this._onData.fire(new Uint8Array(_))},()=>{(0,n.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(m){return this.socket.addEventListener("close",m),n.Disposable.create(()=>this.socket.removeEventListener("close",m))}onError(m){return this.socket.addEventListener("error",m),n.Disposable.create(()=>this.socket.removeEventListener("error",m))}onEnd(m){return this.socket.addEventListener("end",m),n.Disposable.create(()=>this.socket.removeEventListener("end",m))}onData(m){return this._onData.event(m)}},s=class{constructor(m){this.socket=m}onClose(m){return this.socket.addEventListener("close",m),n.Disposable.create(()=>this.socket.removeEventListener("close",m))}onError(m){return this.socket.addEventListener("error",m),n.Disposable.create(()=>this.socket.removeEventListener("error",m))}onEnd(m){return this.socket.addEventListener("end",m),n.Disposable.create(()=>this.socket.removeEventListener("end",m))}write(m,v){if(typeof m=="string"){if(v!==void 0&&v!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${v}`);this.socket.send(m)}else this.socket.send(m);return Promise.resolve()}end(){this.socket.close()}},c=new TextEncoder,d=Object.freeze({messageBuffer:Object.freeze({create:m=>new i(m)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(m,v)=>{if(v.charset!=="utf-8")throw Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${v.charset}`);return Promise.resolve(c.encode(JSON.stringify(m,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(m,v)=>{if(!(m instanceof Uint8Array))throw Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(v.charset).decode(m)))}})}),stream:Object.freeze({asReadableStream:m=>new o(m),asWritableStream:m=>new s(m)}),console,timer:Object.freeze({setTimeout(m,v,..._){let w=setTimeout(m,v,..._);return{dispose:()=>clearTimeout(w)}},setImmediate(m,...v){let _=setTimeout(m,0,...v);return{dispose:()=>clearTimeout(_)}},setInterval(m,v,..._){let w=setInterval(m,v,..._);return{dispose:()=>clearInterval(w)}}})});function p(){return d}(function(m){function v(){n.RAL.install(d)}m.install=v})(p||(p={})),e.default=p})),ka=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,m,v)}):(function(c,d,p,m){m===void 0&&(m=p),c[m]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,kg().default.install();var o=Jl();i(Jl(),e),e.BrowserMessageReader=class extends o.AbstractMessageReader{constructor(c){super(),this._onData=new o.Emitter,this._messageListener=d=>{this._onData.fire(d.data)},c.addEventListener("error",d=>this.fireError(d)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}},e.BrowserMessageWriter=class extends o.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",d=>this.fireError(d))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(d){return this.handleError(d,c),Promise.reject(d)}}handleError(c,d){this.errorCount++,this.fireError(c,d,this.errorCount)}end(){}};function s(c,d,p,m){return p===void 0&&(p=o.NullLogger),o.ConnectionStrategy.is(m)&&(m={connectionStrategy:m}),(0,o.createMessageConnection)(c,d,p,m)}e.createMessageConnection=s})),Vd=ke(((e,n)=>{n.exports=ka()})),zt=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolNotificationType=e.ProtocolNotificationType0=e.ProtocolRequestType=e.ProtocolRequestType0=e.RegistrationType=e.MessageDirection=void 0;var n=ka(),i;(function(o){o.clientToServer="clientToServer",o.serverToClient="serverToClient",o.both="both"})(i||(e.MessageDirection=i={})),e.RegistrationType=class{constructor(o){this.method=o}},e.ProtocolRequestType0=class extends n.RequestType0{constructor(o){super(o)}},e.ProtocolRequestType=class extends n.RequestType{constructor(o){super(o,n.ParameterStructures.byName)}},e.ProtocolNotificationType0=class extends n.NotificationType0{constructor(o){super(o)}},e.ProtocolNotificationType=class extends n.NotificationType{constructor(o){super(o,n.ParameterStructures.byName)}}})),Xl=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.objectLiteral=e.typedArray=e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0;function n(_){return _===!0||_===!1}e.boolean=n;function i(_){return typeof _=="string"||_ instanceof String}e.string=i;function o(_){return typeof _=="number"||_ instanceof Number}e.number=o;function s(_){return _ instanceof Error}e.error=s;function c(_){return typeof _=="function"}e.func=c;function d(_){return Array.isArray(_)}e.array=d;function p(_){return d(_)&&_.every(w=>i(w))}e.stringArray=p;function m(_,w){return Array.isArray(_)&&_.every(w)}e.typedArray=m;function v(_){return typeof _=="object"&&!!_}e.objectLiteral=v})),Cg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/implementation",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ImplementationRequest=i={}))})),Sg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/typeDefinition",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.TypeDefinitionRequest=i={}))})),Eg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;var n=zt(),i;(function(s){s.method="workspace/workspaceFolders",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(i||(e.WorkspaceFoldersRequest=i={}));var o;(function(s){s.method="workspace/didChangeWorkspaceFolders",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolNotificationType(s.method)})(o||(e.DidChangeWorkspaceFoldersNotification=o={}))})),Tg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;var n=zt(),i;(function(o){o.method="workspace/configuration",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ConfigurationRequest=i={}))})),Rg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;var n=zt(),i;(function(s){s.method="textDocument/documentColor",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.DocumentColorRequest=i={}));var o;(function(s){s.method="textDocument/colorPresentation",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(o||(e.ColorPresentationRequest=o={}))})),Dg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=void 0;var n=zt(),i;(function(s){s.method="textDocument/foldingRange",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.FoldingRangeRequest=i={}));var o;(function(s){s.method="workspace/foldingRange/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.FoldingRangeRefreshRequest=o={}))})),Og=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/declaration",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.DeclarationRequest=i={}))})),Pg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/selectionRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.SelectionRangeRequest=i={}))})),Ng=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;var n=ka(),i=zt(),o;(function(d){d.type=new n.ProgressType;function p(m){return m===d.type}d.is=p})(o||(e.WorkDoneProgress=o={}));var s;(function(d){d.method="window/workDoneProgress/create",d.messageDirection=i.MessageDirection.serverToClient,d.type=new i.ProtocolRequestType(d.method)})(s||(e.WorkDoneProgressCreateRequest=s={}));var c;(function(d){d.method="window/workDoneProgress/cancel",d.messageDirection=i.MessageDirection.clientToServer,d.type=new i.ProtocolNotificationType(d.method)})(c||(e.WorkDoneProgressCancelNotification=c={}))})),Lg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;var n=zt(),i;(function(c){c.method="textDocument/prepareCallHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.CallHierarchyPrepareRequest=i={}));var o;(function(c){c.method="callHierarchy/incomingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.CallHierarchyIncomingCallsRequest=o={}));var s;(function(c){c.method="callHierarchy/outgoingCalls",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.CallHierarchyOutgoingCallsRequest=s={}))})),Mg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=void 0;var n=zt(),i;(function(m){m.Relative="relative"})(i||(e.TokenFormat=i={}));var o;(function(m){m.method="textDocument/semanticTokens",m.type=new n.RegistrationType(m.method)})(o||(e.SemanticTokensRegistrationType=o={}));var s;(function(m){m.method="textDocument/semanticTokens/full",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(s||(e.SemanticTokensRequest=s={}));var c;(function(m){m.method="textDocument/semanticTokens/full/delta",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(c||(e.SemanticTokensDeltaRequest=c={}));var d;(function(m){m.method="textDocument/semanticTokens/range",m.messageDirection=n.MessageDirection.clientToServer,m.type=new n.ProtocolRequestType(m.method),m.registrationMethod=o.method})(d||(e.SemanticTokensRangeRequest=d={}));var p;(function(m){m.method="workspace/semanticTokens/refresh",m.messageDirection=n.MessageDirection.serverToClient,m.type=new n.ProtocolRequestType0(m.method)})(p||(e.SemanticTokensRefreshRequest=p={}))})),Ig=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;var n=zt(),i;(function(o){o.method="window/showDocument",o.messageDirection=n.MessageDirection.serverToClient,o.type=new n.ProtocolRequestType(o.method)})(i||(e.ShowDocumentRequest=i={}))})),Ag=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/linkedEditingRange",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.LinkedEditingRangeRequest=i={}))})),qg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;var n=zt(),i;(function(v){v.file="file",v.folder="folder"})(i||(e.FileOperationPatternKind=i={}));var o;(function(v){v.method="workspace/willCreateFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolRequestType(v.method)})(o||(e.WillCreateFilesRequest=o={}));var s;(function(v){v.method="workspace/didCreateFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolNotificationType(v.method)})(s||(e.DidCreateFilesNotification=s={}));var c;(function(v){v.method="workspace/willRenameFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolRequestType(v.method)})(c||(e.WillRenameFilesRequest=c={}));var d;(function(v){v.method="workspace/didRenameFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolNotificationType(v.method)})(d||(e.DidRenameFilesNotification=d={}));var p;(function(v){v.method="workspace/didDeleteFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolNotificationType(v.method)})(p||(e.DidDeleteFilesNotification=p={}));var m;(function(v){v.method="workspace/willDeleteFiles",v.messageDirection=n.MessageDirection.clientToServer,v.type=new n.ProtocolRequestType(v.method)})(m||(e.WillDeleteFilesRequest=m={}))})),jg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;var n=zt(),i;(function(c){c.document="document",c.project="project",c.group="group",c.scheme="scheme",c.global="global"})(i||(e.UniquenessLevel=i={}));var o;(function(c){c.$import="import",c.$export="export",c.local="local"})(o||(e.MonikerKind=o={}));var s;(function(c){c.method="textDocument/moniker",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.MonikerRequest=s={}))})),zg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchySubtypesRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchyPrepareRequest=void 0;var n=zt(),i;(function(c){c.method="textDocument/prepareTypeHierarchy",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.TypeHierarchyPrepareRequest=i={}));var o;(function(c){c.method="typeHierarchy/supertypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.TypeHierarchySupertypesRequest=o={}));var s;(function(c){c.method="typeHierarchy/subtypes",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(s||(e.TypeHierarchySubtypesRequest=s={}))})),Fg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueRefreshRequest=e.InlineValueRequest=void 0;var n=zt(),i;(function(s){s.method="textDocument/inlineValue",s.messageDirection=n.MessageDirection.clientToServer,s.type=new n.ProtocolRequestType(s.method)})(i||(e.InlineValueRequest=i={}));var o;(function(s){s.method="workspace/inlineValue/refresh",s.messageDirection=n.MessageDirection.serverToClient,s.type=new n.ProtocolRequestType0(s.method)})(o||(e.InlineValueRefreshRequest=o={}))})),Bg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=void 0;var n=zt(),i;(function(c){c.method="textDocument/inlayHint",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(i||(e.InlayHintRequest=i={}));var o;(function(c){c.method="inlayHint/resolve",c.messageDirection=n.MessageDirection.clientToServer,c.type=new n.ProtocolRequestType(c.method)})(o||(e.InlayHintResolveRequest=o={}));var s;(function(c){c.method="workspace/inlayHint/refresh",c.messageDirection=n.MessageDirection.serverToClient,c.type=new n.ProtocolRequestType0(c.method)})(s||(e.InlayHintRefreshRequest=s={}))})),Hg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=void 0;var n=ka(),i=Xl(),o=zt(),s;(function(v){function _(w){let C=w;return C&&i.boolean(C.retriggerRequest)}v.is=_})(s||(e.DiagnosticServerCancellationData=s={}));var c;(function(v){v.Full="full",v.Unchanged="unchanged"})(c||(e.DocumentDiagnosticReportKind=c={}));var d;(function(v){v.method="textDocument/diagnostic",v.messageDirection=o.MessageDirection.clientToServer,v.type=new o.ProtocolRequestType(v.method),v.partialResult=new n.ProgressType})(d||(e.DocumentDiagnosticRequest=d={}));var p;(function(v){v.method="workspace/diagnostic",v.messageDirection=o.MessageDirection.clientToServer,v.type=new o.ProtocolRequestType(v.method),v.partialResult=new n.ProgressType})(p||(e.WorkspaceDiagnosticRequest=p={}));var m;(function(v){v.method="workspace/diagnostic/refresh",v.messageDirection=o.MessageDirection.serverToClient,v.type=new o.ProtocolRequestType0(v.method)})(m||(e.DiagnosticRefreshRequest=m={}))})),Vg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=void 0;var n=(fh(),fu(dh)),i=Xl(),o=zt(),s;(function(R){R.Markup=1,R.Code=2;function M(H){return H===1||H===2}R.is=M})(s||(e.NotebookCellKind=s={}));var c;(function(R){function M(U,I){let G={executionOrder:U};return(I===!0||I===!1)&&(G.success=I),G}R.create=M;function H(U){let I=U;return i.objectLiteral(I)&&n.uinteger.is(I.executionOrder)&&(I.success===void 0||i.boolean(I.success))}R.is=H;function W(U,I){return U===I?!0:U==null||I==null?!1:U.executionOrder===I.executionOrder&&U.success===I.success}R.equals=W})(c||(e.ExecutionSummary=c={}));var d;(function(R){function M(I,G){return{kind:I,document:G}}R.create=M;function H(I){let G=I;return i.objectLiteral(G)&&s.is(G.kind)&&n.DocumentUri.is(G.document)&&(G.metadata===void 0||i.objectLiteral(G.metadata))}R.is=H;function W(I,G){let me=new Set;return I.document!==G.document&&me.add("document"),I.kind!==G.kind&&me.add("kind"),I.executionSummary!==G.executionSummary&&me.add("executionSummary"),(I.metadata!==void 0||G.metadata!==void 0)&&!U(I.metadata,G.metadata)&&me.add("metadata"),(I.executionSummary!==void 0||G.executionSummary!==void 0)&&!c.equals(I.executionSummary,G.executionSummary)&&me.add("executionSummary"),me}R.diff=W;function U(I,G){if(I===G)return!0;if(I==null||G==null||typeof I!=typeof G||typeof I!="object")return!1;let me=Array.isArray(I),N=Array.isArray(G);if(me!==N)return!1;if(me&&N){if(I.length!==G.length)return!1;for(let q=0;q<I.length;q++)if(!U(I[q],G[q]))return!1}if(i.objectLiteral(I)&&i.objectLiteral(G)){let q=Object.keys(I),V=Object.keys(G);if(q.length!==V.length||(q.sort(),V.sort(),!U(q,V)))return!1;for(let de=0;de<q.length;de++){let fe=q[de];if(!U(I[fe],G[fe]))return!1}}return!0}})(d||(e.NotebookCell=d={}));var p;(function(R){function M(W,U,I,G){return{uri:W,notebookType:U,version:I,cells:G}}R.create=M;function H(W){let U=W;return i.objectLiteral(U)&&i.string(U.uri)&&n.integer.is(U.version)&&i.typedArray(U.cells,d.is)}R.is=H})(p||(e.NotebookDocument=p={}));var m;(function(R){R.method="notebookDocument/sync",R.messageDirection=o.MessageDirection.clientToServer,R.type=new o.RegistrationType(R.method)})(m||(e.NotebookDocumentSyncRegistrationType=m={}));var v;(function(R){R.method="notebookDocument/didOpen",R.messageDirection=o.MessageDirection.clientToServer,R.type=new o.ProtocolNotificationType(R.method),R.registrationMethod=m.method})(v||(e.DidOpenNotebookDocumentNotification=v={}));var _;(function(R){function M(W){let U=W;return i.objectLiteral(U)&&n.uinteger.is(U.start)&&n.uinteger.is(U.deleteCount)&&(U.cells===void 0||i.typedArray(U.cells,d.is))}R.is=M;function H(W,U,I){let G={start:W,deleteCount:U};return I!==void 0&&(G.cells=I),G}R.create=H})(_||(e.NotebookCellArrayChange=_={}));var w;(function(R){R.method="notebookDocument/didChange",R.messageDirection=o.MessageDirection.clientToServer,R.type=new o.ProtocolNotificationType(R.method),R.registrationMethod=m.method})(w||(e.DidChangeNotebookDocumentNotification=w={}));var C;(function(R){R.method="notebookDocument/didSave",R.messageDirection=o.MessageDirection.clientToServer,R.type=new o.ProtocolNotificationType(R.method),R.registrationMethod=m.method})(C||(e.DidSaveNotebookDocumentNotification=C={}));var E;(function(R){R.method="notebookDocument/didClose",R.messageDirection=o.MessageDirection.clientToServer,R.type=new o.ProtocolNotificationType(R.method),R.registrationMethod=m.method})(E||(e.DidCloseNotebookDocumentNotification=E={}))})),$g=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionRequest=void 0;var n=zt(),i;(function(o){o.method="textDocument/inlineCompletion",o.messageDirection=n.MessageDirection.clientToServer,o.type=new n.ProtocolRequestType(o.method)})(i||(e.InlineCompletionRequest=i={}))})),Wg=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;var n=zt(),i=(fh(),fu(dh)),o=Xl(),s=Cg();Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});var c=Sg();Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return c.TypeDefinitionRequest}});var d=Eg();Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return d.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return d.DidChangeWorkspaceFoldersNotification}});var p=Tg();Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return p.ConfigurationRequest}});var m=Rg();Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return m.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return m.ColorPresentationRequest}});var v=Dg();Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return v.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return v.FoldingRangeRefreshRequest}});var _=Og();Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return _.DeclarationRequest}});var w=Pg();Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return w.SelectionRangeRequest}});var C=Ng();Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return C.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return C.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return C.WorkDoneProgressCancelNotification}});var E=Lg();Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return E.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return E.CallHierarchyPrepareRequest}});var R=Mg();Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return R.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return R.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return R.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return R.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return R.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return R.SemanticTokensRegistrationType}});var M=Ig();Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return M.ShowDocumentRequest}});var H=Ag();Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return H.LinkedEditingRangeRequest}});var W=qg();Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return W.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return W.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return W.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return W.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return W.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return W.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return W.WillDeleteFilesRequest}});var U=jg();Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return U.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return U.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return U.MonikerRequest}});var I=zg();Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return I.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return I.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return I.TypeHierarchySupertypesRequest}});var G=Fg();Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return G.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return G.InlineValueRefreshRequest}});var me=Bg();Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return me.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return me.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return me.InlayHintRefreshRequest}});var N=Hg();Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return N.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return N.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return N.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return N.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return N.DiagnosticRefreshRequest}});var q=Vg();Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return q.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return q.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return q.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return q.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return q.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return q.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return q.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return q.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return q.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return q.DidCloseNotebookDocumentNotification}});var V=$g();Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return V.InlineCompletionRequest}});var de;(function(P){function Je(j){let ee=j;return o.string(ee)||o.string(ee.language)||o.string(ee.scheme)||o.string(ee.pattern)}P.is=Je})(de||(e.TextDocumentFilter=de={}));var fe;(function(P){function Je(j){let ee=j;return o.objectLiteral(ee)&&(o.string(ee.notebookType)||o.string(ee.scheme)||o.string(ee.pattern))}P.is=Je})(fe||(e.NotebookDocumentFilter=fe={}));var xe;(function(P){function Je(j){let ee=j;return o.objectLiteral(ee)&&(o.string(ee.notebook)||fe.is(ee.notebook))&&(ee.language===void 0||o.string(ee.language))}P.is=Je})(xe||(e.NotebookCellTextDocumentFilter=xe={}));var Z;(function(P){function Je(j){if(!Array.isArray(j))return!1;for(let ee of j)if(!o.string(ee)&&!de.is(ee)&&!xe.is(ee))return!1;return!0}P.is=Je})(Z||(e.DocumentSelector=Z={}));var be;(function(P){P.method="client/registerCapability",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(be||(e.RegistrationRequest=be={}));var Se;(function(P){P.method="client/unregisterCapability",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(Se||(e.UnregistrationRequest=Se={}));var ne;(function(P){P.Create="create",P.Rename="rename",P.Delete="delete"})(ne||(e.ResourceOperationKind=ne={}));var ie;(function(P){P.Abort="abort",P.Transactional="transactional",P.TextOnlyTransactional="textOnlyTransactional",P.Undo="undo"})(ie||(e.FailureHandlingKind=ie={}));var le;(function(P){P.UTF8="utf-8",P.UTF16="utf-16",P.UTF32="utf-32"})(le||(e.PositionEncodingKind=le={}));var K;(function(P){function Je(j){let ee=j;return ee&&o.string(ee.id)&&ee.id.length>0}P.hasId=Je})(K||(e.StaticRegistrationOptions=K={}));var Ne;(function(P){function Je(j){let ee=j;return ee&&(ee.documentSelector===null||Z.is(ee.documentSelector))}P.is=Je})(Ne||(e.TextDocumentRegistrationOptions=Ne={}));var Ue;(function(P){function Je(ee){let ye=ee;return o.objectLiteral(ye)&&(ye.workDoneProgress===void 0||o.boolean(ye.workDoneProgress))}P.is=Je;function j(ee){let ye=ee;return ye&&o.boolean(ye.workDoneProgress)}P.hasWorkDoneProgress=j})(Ue||(e.WorkDoneProgressOptions=Ue={}));var ot;(function(P){P.method="initialize",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(ot||(e.InitializeRequest=ot={}));var ze;(function(P){P.unknownProtocolVersion=1})(ze||(e.InitializeErrorCodes=ze={}));var He;(function(P){P.method="initialized",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(He||(e.InitializedNotification=He={}));var De;(function(P){P.method="shutdown",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType0(P.method)})(De||(e.ShutdownRequest=De={}));var Le;(function(P){P.method="exit",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType0(P.method)})(Le||(e.ExitNotification=Le={}));var mn;(function(P){P.method="workspace/didChangeConfiguration",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(mn||(e.DidChangeConfigurationNotification=mn={}));var qt;(function(P){P.Error=1,P.Warning=2,P.Info=3,P.Log=4,P.Debug=5})(qt||(e.MessageType=qt={}));var Dn;(function(P){P.method="window/showMessage",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Dn||(e.ShowMessageNotification=Dn={}));var ln;(function(P){P.method="window/showMessageRequest",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType(P.method)})(ln||(e.ShowMessageRequest=ln={}));var Ke;(function(P){P.method="window/logMessage",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Ke||(e.LogMessageNotification=Ke={}));var nn;(function(P){P.method="telemetry/event",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(nn||(e.TelemetryEventNotification=nn={}));var gt;(function(P){P.None=0,P.Full=1,P.Incremental=2})(gt||(e.TextDocumentSyncKind=gt={}));var gn;(function(P){P.method="textDocument/didOpen",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(gn||(e.DidOpenTextDocumentNotification=gn={}));var Yn;(function(P){function Je(ee){let ye=ee;return ye!=null&&typeof ye.text=="string"&&ye.range!==void 0&&(ye.rangeLength===void 0||typeof ye.rangeLength=="number")}P.isIncremental=Je;function j(ee){let ye=ee;return ye!=null&&typeof ye.text=="string"&&ye.range===void 0&&ye.rangeLength===void 0}P.isFull=j})(Yn||(e.TextDocumentContentChangeEvent=Yn={}));var kt;(function(P){P.method="textDocument/didChange",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(kt||(e.DidChangeTextDocumentNotification=kt={}));var si;(function(P){P.method="textDocument/didClose",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(si||(e.DidCloseTextDocumentNotification=si={}));var yn;(function(P){P.method="textDocument/didSave",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(yn||(e.DidSaveTextDocumentNotification=yn={}));var vn;(function(P){P.Manual=1,P.AfterDelay=2,P.FocusOut=3})(vn||(e.TextDocumentSaveReason=vn={}));var In;(function(P){P.method="textDocument/willSave",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(In||(e.WillSaveTextDocumentNotification=In={}));var Nr;(function(P){P.method="textDocument/willSaveWaitUntil",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Nr||(e.WillSaveTextDocumentWaitUntilRequest=Nr={}));var An;(function(P){P.method="workspace/didChangeWatchedFiles",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolNotificationType(P.method)})(An||(e.DidChangeWatchedFilesNotification=An={}));var rn;(function(P){P.Created=1,P.Changed=2,P.Deleted=3})(rn||(e.FileChangeType=rn={}));var Bi;(function(P){function Je(j){let ee=j;return o.objectLiteral(ee)&&(i.URI.is(ee.baseUri)||i.WorkspaceFolder.is(ee.baseUri))&&o.string(ee.pattern)}P.is=Je})(Bi||(e.RelativePattern=Bi={}));var Wr;(function(P){P.Create=1,P.Change=2,P.Delete=4})(Wr||(e.WatchKind=Wr={}));var Lr;(function(P){P.method="textDocument/publishDiagnostics",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolNotificationType(P.method)})(Lr||(e.PublishDiagnosticsNotification=Lr={}));var li;(function(P){P.Invoked=1,P.TriggerCharacter=2,P.TriggerForIncompleteCompletions=3})(li||(e.CompletionTriggerKind=li={}));var Vt;(function(P){P.method="textDocument/completion",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Vt||(e.CompletionRequest=Vt={}));var Gt;(function(P){P.method="completionItem/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Gt||(e.CompletionResolveRequest=Gt={}));var yt;(function(P){P.method="textDocument/hover",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(yt||(e.HoverRequest=yt={}));var Bt;(function(P){P.Invoked=1,P.TriggerCharacter=2,P.ContentChange=3})(Bt||(e.SignatureHelpTriggerKind=Bt={}));var Ct;(function(P){P.method="textDocument/signatureHelp",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ct||(e.SignatureHelpRequest=Ct={}));var ci;(function(P){P.method="textDocument/definition",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(ci||(e.DefinitionRequest=ci={}));var Hi;(function(P){P.method="textDocument/references",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Hi||(e.ReferencesRequest=Hi={}));var Mr;(function(P){P.method="textDocument/documentHighlight",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Mr||(e.DocumentHighlightRequest=Mr={}));var pr;(function(P){P.method="textDocument/documentSymbol",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(pr||(e.DocumentSymbolRequest=pr={}));var Ge;(function(P){P.method="textDocument/codeAction",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ge||(e.CodeActionRequest=Ge={}));var $t;(function(P){P.method="codeAction/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})($t||(e.CodeActionResolveRequest=$t={}));var lt;(function(P){P.method="workspace/symbol",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(lt||(e.WorkspaceSymbolRequest=lt={}));var vt;(function(P){P.method="workspaceSymbol/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(vt||(e.WorkspaceSymbolResolveRequest=vt={}));var On;(function(P){P.method="textDocument/codeLens",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(On||(e.CodeLensRequest=On={}));var Ur;(function(P){P.method="codeLens/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Ur||(e.CodeLensResolveRequest=Ur={}));var St;(function(P){P.method="workspace/codeLens/refresh",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType0(P.method)})(St||(e.CodeLensRefreshRequest=St={}));var Zn;(function(P){P.method="textDocument/documentLink",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Zn||(e.DocumentLinkRequest=Zn={}));var Kr;(function(P){P.method="documentLink/resolve",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Kr||(e.DocumentLinkResolveRequest=Kr={}));var ui;(function(P){P.method="textDocument/formatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(ui||(e.DocumentFormattingRequest=ui={}));var qn;(function(P){P.method="textDocument/rangeFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(qn||(e.DocumentRangeFormattingRequest=qn={}));var Hn;(function(P){P.method="textDocument/rangesFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Hn||(e.DocumentRangesFormattingRequest=Hn={}));var Qr;(function(P){P.method="textDocument/onTypeFormatting",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Qr||(e.DocumentOnTypeFormattingRequest=Qr={}));var di;(function(P){P.Identifier=1})(di||(e.PrepareSupportDefaultBehavior=di={}));var er;(function(P){P.method="textDocument/rename",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(er||(e.RenameRequest=er={}));var Pn;(function(P){P.method="textDocument/prepareRename",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(Pn||(e.PrepareRenameRequest=Pn={}));var bt;(function(P){P.method="workspace/executeCommand",P.messageDirection=n.MessageDirection.clientToServer,P.type=new n.ProtocolRequestType(P.method)})(bt||(e.ExecuteCommandRequest=bt={}));var jt;(function(P){P.method="workspace/applyEdit",P.messageDirection=n.MessageDirection.serverToClient,P.type=new n.ProtocolRequestType("workspace/applyEdit")})(jt||(e.ApplyWorkspaceEditRequest=jt={}))})),Ug=ke((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var n=ka();function i(o,s,c,d){return n.ConnectionStrategy.is(d)&&(d={connectionStrategy:d}),(0,n.createMessageConnection)(o,s,c,d)}e.createProtocolConnection=i})),Kg=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,m,v)}):(function(c,d,p,m){m===void 0&&(m=p),c[m]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,i(ka(),e),i((fh(),fu(dh)),e),i(zt(),e),i(Wg(),e);var o=Ug();Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}});var s;(function(c){c.lspReservedErrorRangeStart=-32899,c.RequestFailed=-32803,c.ServerCancelled=-32802,c.ContentModified=-32801,c.RequestCancelled=-32800,c.lspReservedErrorRangeEnd=-32800})(s||(e.LSPErrorCodes=s={}))})),Lu=ke((e=>{var n=e&&e.__createBinding||(Object.create?(function(c,d,p,m){m===void 0&&(m=p);var v=Object.getOwnPropertyDescriptor(d,p);(!v||("get"in v?!d.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return d[p]}}),Object.defineProperty(c,m,v)}):(function(c,d,p,m){m===void 0&&(m=p),c[m]=d[p]})),i=e&&e.__exportStar||function(c,d){for(var p in c)p!=="default"&&!Object.prototype.hasOwnProperty.call(d,p)&&n(d,c,p)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;var o=Vd();i(Vd(),e),i(Kg(),e);function s(c,d,p,m){return(0,o.createMessageConnection)(c,d,p,m)}e.createProtocolConnection=s}));function hn(e,n){if(n.line>=e.lines)return n.character===0?e.length:void 0;let i=e.line(n.line+1).from+n.character;if(!(i>e.length))return i}function Or(e,n){return hn(e,n)||0}function qi(e,n){let i=e.lineAt(n);return{character:n-i.from,line:i.number-1}}var Yl=new S2.Renderer,gC=Yl.code;Yl.code=e=>e.text.trim()?gC.call(Yl,e):"";function Qg(e){return S2(e,{async:!1,gfm:!0,breaks:!0,renderer:Yl})}function Pr(e,n=Qg){if(!e)return"";if(_C(e)){let i=e.value;return e.kind==="markdown"&&(i=n(i.trim())),i}return Array.isArray(e)?e.map(i=>Pr(i,n)).filter(Boolean).join(`

`):typeof e=="string"?e:""}function yC(e){if(e.length===0)return"";if(e.length===1)return e[0]||"";e.sort();let n=e[0]||"",i=e[e.length-1]||"",o=0;for(;o<n.length&&n[o]===i[o];)o++;return n.substring(0,o)}function vC(e){if(e.length===0)return;let n=yC(e.map(s=>{var c;return((c=s.textEdit)==null?void 0:c.newText)||s.label}));if(n==="")return;let i=[];for(let s=0;s<n.length;s++){let c=n.slice(0,s+1);if(c.length>0){let d=c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");i.push(d)}}let o=i.join("|");return RegExp(`(${o})$`)}function bC(e){return(e==null?void 0:e.range)!==void 0}function _C(e){return e.kind!==void 0}function Jn(e,n){let i=document.createElement("div");i.className="cm-error-message",i.style.cssText=`
  position: absolute;
  padding: 8px;
  background: #fee;
  border: 1px solid #fcc;
  border-radius: 4px;
  color: #c00;
  font-size: 14px;
  z-index: 100;
  max-width: 300px;
  box-shadow: 0 2px 8px rgba(0,0,0,.15);
`,i.textContent=n;let o=e.coordsAtPos(e.state.selection.main.head);o&&(i.style.left=`${o.left}px`,i.style.top=`${o.bottom+5}px`),document.body.appendChild(i),setTimeout(()=>{i.style.opacity="0",i.style.transition="opacity 0.2s",setTimeout(()=>i.remove(),200)},3e3)}function Zl(e){if(e==null)return!0;if(Array.isArray(e))return e.length===0||e.every(Zl);if(typeof e=="string")return Gg(e);let n=e.value;return typeof n=="string"?Gg(n):!1}function Gg(e){return e==null?!0:typeof e=="string"?e.trim()===""||/^[\s\n`]*$/.test(e):!1}function wC(e,n){let i=[];return n.iterChanges((o,s,c,d,p)=>{let m=p.toString();if(o===0&&s===e.length){i.push({text:m});return}let v=qi(e,o),_=qi(e,s);i.push({range:{start:v,end:_},text:m})}),i.sort((o,s)=>{if(!o.range)return 1;if(!s.range)return-1;let c=o.range.start.line??-1,d=s.range.start.line??-1;if(c!==d)return d-c;let p=o.range.start.character??-1;return(s.range.start.character??-1)-p}),i}var xC=Qt(Lu(),1),kC=Object.fromEntries(Object.entries(xC.CompletionItemKind).map(([e,n])=>[n,e])),Jg;(function(e){e.PlainText=1,e.Snippet=2})(Jg||(Jg={}));function CC(e){return e.replaceAll(/\\\\/g,"").replaceAll(/(\$(\d+))/g,(n,i,o)=>"${"+o+"}")}function SC(e,n){let{detail:i,labelDetails:o,label:s,kind:c,textEdit:d,insertText:p,documentation:m,additionalTextEdits:v,insertTextFormat:_}=e,w={label:s,detail:(o==null?void 0:o.detail)||i,apply(C,E,R,M){if(d&&bC(d)?C.dispatch(v2(C.state,d.newText,Or(C.state.doc,d.range.start),Or(C.state.doc,d.range.end))):p&&_===Jg.Snippet&&n.useSnippetOnCompletion?SR(CC(p))(C,null,R,M):C.dispatch(v2(C.state,s,R,M)),!v)return;let H=v.sort(({range:{end:W}},{range:{end:U}})=>Or(C.state.doc,W)<Or(C.state.doc,U)?1:Or(C.state.doc,W)>Or(C.state.doc,U)?-1:0);for(let W of H)C.dispatch(C.state.update({changes:{from:Or(C.state.doc,W.range.start),to:hn(C.state.doc,W.range.end),insert:W.newText}}))},type:c&&kC[c].toLowerCase()};return n.hasResolveProvider&&n.resolveItem?w.info=async()=>{var C;try{let E=await((C=n.resolveItem)==null?void 0:C.call(n,e)),R=document.createElement("div");R.classList.add("documentation");let M=(E==null?void 0:E.documentation)||m;return!M||Zl(M)?null:(n.allowHTMLContent?R.innerHTML=Pr(M,n.markdownRenderer):R.textContent=Pr(M,n.markdownRenderer),R)}catch(E){if(console.error("Failed to resolve completion item:",E),Zl(m))return null;if(m){let R=document.createElement("div");return R.classList.add("documentation"),n.allowHTMLContent?R.innerHTML=Pr(m,n.markdownRenderer):R.textContent=Pr(m,n.markdownRenderer),R}return null}}:m&&(w.info=()=>{let C=document.createElement("div");return C.classList.add("documentation"),n.allowHTMLContent?C.innerHTML=Pr(m,n.markdownRenderer):C.textContent=Pr(m,n.markdownRenderer),C}),w}function EC(e,n,i){let o=[n?TC(n):RC,i==="python"?DC:void 0].filter(Boolean),s=e;if(n){let c=n.toLowerCase();/^\w+$/.test(c)&&(s=s.filter(({label:d,filterText:p})=>(p??d).toLowerCase().startsWith(c)))}for(let c of o)s.sort(c);return s}function TC(e){return(n,i)=>{let o=n.sortText??n.label,s=i.sortText??i.label;switch(!0){case(o.startsWith(e)&&!s.startsWith(e)):return-1;case(!o.startsWith(e)&&s.startsWith(e)):return 1}return o.localeCompare(s)}}function RC(e,n){let i=e.sortText??e.label,o=n.sortText??n.label;return i.localeCompare(o)}function DC(e,n){let i=e.label.endsWith("="),o=n.label.endsWith("=");return i&&!o?-1:!i&&o?1:0}function Xg(e){let n=new Proxy({},{get(){throw Error(e)}});return function(i){return i.at(-1)??n}}const Yg=Rl.define({combine:Xg("No document URI provided. Either pass a one into the extension or use documentUri.of().")}),OC=Rl.define({combine:Xg("No language ID provided. Either pass a one into the extension or use languageId.of().")});let $d,Zg;$d=Qt(Il(),1),Zg=1e4,Ll=class{constructor({rootUri:e,workspaceFolders:n,transport:i,initializationOptions:o,capabilities:s,timeout:c=Zg,getWorkspaceConfiguration:d}){Te(this,"ready");Te(this,"capabilities");Te(this,"initializePromise");Te(this,"rootUri");Te(this,"workspaceFolders");Te(this,"timeout");Te(this,"transport");Te(this,"requestManager");Te(this,"client");Te(this,"initializationOptions");Te(this,"clientCapabilities");Te(this,"notificationListeners",new Set);this.rootUri=e,this.workspaceFolders=n,this.transport=i,this.initializationOptions=o,this.clientCapabilities=s,this.timeout=c,this.ready=!1,this.capabilities=null,this.requestManager=new $d.RequestManager([this.transport]),this.client=new $d.Client(this.requestManager),this.client.onNotification(m=>{this.processNotification(m)});let p=this.transport;p!=null&&p.connection&&p.connection.addEventListener("message",m=>{let v=JSON.parse(m.data);v.method==="workspace/configuration"&&d?p.connection.send(JSON.stringify({jsonrpc:"2.0",id:v.id,result:d(v.params)})):v.method&&v.id&&p.connection.send(JSON.stringify({jsonrpc:"2.0",id:v.id,result:null}))}),this.initializePromise=this.initialize()}getInitializationOptions(){let e={textDocument:{hover:{dynamicRegistration:!0,contentFormat:["markdown","plaintext"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},codeAction:{dynamicRegistration:!0,codeActionLiteralSupport:{codeActionKind:{valueSet:["","quickfix","refactor","refactor.extract","refactor.inline","refactor.rewrite","source","source.organizeImports"]}},resolveSupport:{properties:["edit"]}},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:["markdown","plaintext"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["markdown","plaintext"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0},rename:{dynamicRegistration:!0,prepareSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}};return{capabilities:this.clientCapabilities?typeof this.clientCapabilities=="function"?this.clientCapabilities(e):this.clientCapabilities:e,initializationOptions:this.initializationOptions,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders}}async initialize(){let{capabilities:e}=await this.request("initialize",this.getInitializationOptions(),this.timeout*3);this.capabilities=e,this.notify("initialized",{}),this.ready=!0}close(){this.client.close()}textDocumentDidOpen(e){return this.notify("textDocument/didOpen",e)}textDocumentDidChange(e){return this.notify("textDocument/didChange",e)}async textDocumentHover(e){return await this.request("textDocument/hover",e,this.timeout)}async textDocumentCompletion(e){return await this.request("textDocument/completion",e,this.timeout)}async completionItemResolve(e){return await this.request("completionItem/resolve",e,this.timeout)}async textDocumentDefinition(e){return await this.request("textDocument/definition",e,this.timeout)}async textDocumentCodeAction(e){return await this.request("textDocument/codeAction",e,this.timeout)}async textDocumentRename(e){return await this.request("textDocument/rename",e,this.timeout)}async textDocumentPrepareRename(e){return await this.request("textDocument/prepareRename",e,this.timeout)}async textDocumentSignatureHelp(e){return await this.request("textDocument/signatureHelp",e,this.timeout)}onNotification(e){return this.notificationListeners.add(e),()=>this.notificationListeners.delete(e)}request(e,n,i){return this.client.request({method:e,params:n},i)}notify(e,n){return this.client.notify({method:e,params:n})}processNotification(e){this.notificationListeners.forEach(n=>n(e))}},Il();var ji=Qt(Lu(),1),ey=console.log;function PC(){return String(Date.now()+Math.random())}var NC=class{constructor(e){Te(this,"documentVersion");Te(this,"pluginId");Te(this,"client");Te(this,"documentUri");Te(this,"languageId");Te(this,"view");Te(this,"allowHTMLContent");Te(this,"useSnippetOnCompletion");Te(this,"sendIncrementalChanges");Te(this,"featureOptions");Te(this,"onGoToDefinition");Te(this,"markdownRenderer");Te(this,"disposeListener");Te(this,"lastSeenDiagnosticsVersion",0);let{client:n,documentUri:i,languageId:o,view:s,featureOptions:c,sendIncrementalChanges:d=!0,allowHTMLContent:p=!1,useSnippetOnCompletion:m=!1,onGoToDefinition:v,markdownRenderer:_=Qg}=e;this.documentVersion=0,this.pluginId=PC(),this.client=n,this.documentUri=i,this.languageId=o,this.view=s,this.allowHTMLContent=p,this.useSnippetOnCompletion=m,this.sendIncrementalChanges=d,this.featureOptions=c,this.onGoToDefinition=v,this.markdownRenderer=_,this.disposeListener=n.onNotification(this.processNotification.bind(this)),this.initialize({documentText:this.view.state.doc.toString()})}update({state:e,docChanged:n,startState:{doc:i},changes:o}){n&&(this.sendIncrementalChanges?this.sendChanges(wC(i,o)):this.sendChanges([{text:e.doc.toString()}]))}destroy(){var e;(e=this.disposeListener)==null||e.call(this)}async initialize({documentText:e}){this.client.initializePromise&&await this.client.initializePromise,await this.client.textDocumentDidOpen({textDocument:{uri:this.documentUri,languageId:this.languageId,text:e,version:this.documentVersion}})}async sendChanges(e){if(this.client.ready)try{await this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:++this.documentVersion},contentChanges:e})}catch(n){console.error(n)}}requestDiagnostics(e){this.sendChanges([{text:e.state.doc.toString()}])}async requestHoverTooltip(e,{line:n,character:i}){var v;if(!this.featureOptions.hoverEnabled||!(this.client.ready&&((v=this.client.capabilities)!=null&&v.hoverProvider)))return null;let o=await this.client.textDocumentHover({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return null;let{contents:s,range:c}=o,d=hn(e.state.doc,{line:n,character:i}),p;if(c&&(d=hn(e.state.doc,c.start),p=hn(e.state.doc,c.end)),d==null||Zl(s))return null;let m=document.createElement("div");return m.classList.add("documentation","cm-lsp-hover-tooltip"),this.allowHTMLContent?m.innerHTML=Pr(s,this.markdownRenderer):m.textContent=Pr(s,this.markdownRenderer),{pos:d,end:p,create:_=>({dom:m}),above:!0}}async requestCompletion(e,{line:n,character:i},{triggerKind:o,triggerCharacter:s}){var C;if(!this.featureOptions.completionEnabled||!(this.client.ready&&((C=this.client.capabilities)!=null&&C.completionProvider)))return null;let c=await this.client.textDocumentCompletion({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{triggerKind:o,triggerCharacter:s}});if(!c)return null;let d="items"in c?c.items:c,p=vC(d),m=p?e.matchBefore(p):e.matchBefore(/[a-zA-Z0-9]+/),{pos:v}=e,_=EC(d,m==null?void 0:m.text,this.languageId);m&&(v=m.from);let w=_.map(E=>{var R,M;return SC(E,{allowHTMLContent:this.allowHTMLContent,useSnippetOnCompletion:this.useSnippetOnCompletion,hasResolveProvider:((M=(R=this.client.capabilities)==null?void 0:R.completionProvider)==null?void 0:M.resolveProvider)??!1,resolveItem:this.client.completionItemResolve.bind(this.client)})});return{from:v,options:w,filter:!1}}async requestDefinition(e,{line:n,character:i}){var _;if(!this.featureOptions.definitionEnabled||!(this.client.ready&&((_=this.client.capabilities)!=null&&_.definitionProvider)))return;let o=await this.client.textDocumentDefinition({textDocument:{uri:this.documentUri},position:{line:n,character:i}});if(!o)return;let s=Array.isArray(o)?o:[o];if(s.length===0)return;let c=s[0];if(!c)return;let d="uri"in c?c.uri:c.targetUri,p="range"in c?c.range:c.targetRange,m=d!==this.documentUri,v={uri:d,range:p,isExternalDocument:m};return m||e.dispatch(e.state.update({selection:{anchor:Or(e.state.doc,p.start),head:hn(e.state.doc,p.end)}})),this.onGoToDefinition&&this.onGoToDefinition(v),v}processNotification(e){try{switch(e.method){case"textDocument/publishDiagnostics":this.processDiagnostics(e.params)}}catch(n){ey(n)}}async processDiagnostics(e){if(e.uri!==this.documentUri)return;if(e.version!=null&&e.version>this.lastSeenDiagnosticsVersion&&(this.lastSeenDiagnosticsVersion=e.version,this.clearDiagnostics()),!this.featureOptions.diagnosticsEnabled){this.clearDiagnostics();return}let n={[ji.DiagnosticSeverity.Error]:"error",[ji.DiagnosticSeverity.Warning]:"warning",[ji.DiagnosticSeverity.Information]:"info",[ji.DiagnosticSeverity.Hint]:"info"},i=e.diagnostics.map(async({range:s,message:c,severity:d,code:p,source:m})=>{var _;let v=(_=await this.requestCodeActions(s,[p]))==null?void 0:_.map(w=>{var C;return{name:"command"in w&&typeof w.command=="object"&&((C=w.command)==null?void 0:C.title)||w.title,apply:async()=>{var E;if("edit"in w&&((E=w.edit)!=null&&E.changes)){let R=w.edit.changes[this.documentUri];if(!R)return;for(let M of R)this.view.dispatch(this.view.state.update({changes:{from:Or(this.view.state.doc,M.range.start),to:hn(this.view.state.doc,M.range.end),insert:M.newText}}))}"command"in w&&w.command&&ey("Executing command:",w.command)}}});return{from:Or(this.view.state.doc,s.start),to:Or(this.view.state.doc,s.end),severity:n[d??ji.DiagnosticSeverity.Error],message:c,renderMessage:()=>{let w=document.createElement("div");return w.innerHTML=this.markdownRenderer(c),w},source:m||this.languageId,markClass:this.pluginId,actions:v}}),o=await Promise.all(i);this.addDiagnostics(o)}addDiagnostics(e){if(e.length===0)return;let n=this.view.state,i=[];yR(n,c=>(i.push(c),!0));let o=new Set(e.map(c=>c.source).filter(Boolean)),s=e.filter(c=>!o.has(c.source));this.view.dispatch(m2(n,[...s,...e]))}clearDiagnostics(){this.view.dispatch(m2(this.view.state,[]))}async requestCodeActions(e,n){var i;return!this.featureOptions.codeActionsEnabled||!(this.client.ready&&((i=this.client.capabilities)!=null&&i.codeActionProvider))?null:await this.client.textDocumentCodeAction({textDocument:{uri:this.documentUri},range:e,context:{diagnostics:[{range:e,code:n[0],source:this.languageId,message:""}]}})}async requestRename(e,{line:n,character:i}){var o;if(this.featureOptions.renameEnabled){if(!this.client.ready){Jn(e,"Language server not ready");return}if(!((o=this.client.capabilities)!=null&&o.renameProvider)){Jn(e,"Rename not supported by language server");return}try{let s=await this.client.textDocumentPrepareRename({textDocument:{uri:this.documentUri},position:{line:n,character:i}}).catch(()=>this.prepareRenameFallback(e,{line:n,character:i}));if(!s||"defaultBehavior"in s){Jn(e,"Cannot rename this symbol");return}let c=document.createElement("div");c.className="cm-rename-popup",c.style.cssText="position: absolute; padding: 4px; background: white; border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,.15); z-index: 99;";let d=document.createElement("input");d.type="text",d.style.cssText="width: 200px; padding: 4px; border: 1px solid #ddd;";let p="range"in s?s.range:s,m=hn(e.state.doc,p.start);if(m==null)return;let v=hn(e.state.doc,p.end);d.value=e.state.doc.sliceString(m,v),c.appendChild(d);let _=e.coordsAtPos(m);if(!_)return;c.style.left=`${_.left}px`,c.style.top=`${_.bottom+5}px`;let w=async()=>{let E=d.value.trim();if(!E){Jn(e,"New name cannot be empty"),c.remove();return}if(E===d.defaultValue){c.remove();return}try{let R=await this.client.textDocumentRename({textDocument:{uri:this.documentUri},position:{line:n,character:i},newName:E});await this.applyRenameEdit(e,R)}catch(R){Jn(e,`Rename failed: ${R instanceof Error?R.message:"Unknown error"}`)}finally{c.remove()}};d.addEventListener("keydown",E=>{E.key==="Enter"?w():E.key==="Escape"&&c.remove(),E.stopPropagation()});let C=E=>{c.contains(E.target)||(c.remove(),document.removeEventListener("mousedown",C))};document.addEventListener("mousedown",C),document.body.appendChild(c),d.focus(),d.select()}catch(s){Jn(e,`Rename failed: ${s instanceof Error?s.message:"Unknown error"}`)}}}async requestSignatureHelp(e,{line:n,character:i},o=void 0){var s,c;if(!(this.featureOptions.signatureHelpEnabled&&this.client.ready&&((s=this.client.capabilities)!=null&&s.signatureHelpProvider)))return null;try{let d=await this.client.textDocumentSignatureHelp({textDocument:{uri:this.documentUri},position:{line:n,character:i},context:{isRetrigger:!1,triggerKind:1,triggerCharacter:o}});if(!(d!=null&&d.signatures)||d.signatures.length===0)return null;let p=this.createTooltipContainer(),m=d.activeSignature??0,v=d.signatures[m]||d.signatures[0];if(!v)return null;let _=d.activeParameter??v.activeParameter??0,w=this.createSignatureElement(v,_);p.appendChild(w),v.documentation&&p.appendChild(this.createDocumentationElement(v.documentation));let C=(c=v.parameters)==null?void 0:c[_];C!=null&&C.documentation&&p.appendChild(this.createParameterDocElement(C.documentation));let E=hn(e.state.doc,{line:n,character:i});return E==null?null:{pos:E,end:E,create:R=>({dom:p}),above:!1}}catch(d){return console.error("Signature help error:",d),null}}async showSignatureHelpTooltip(e,n,i){let o=await this.requestSignatureHelp(e,qi(e.state.doc,n),i);if(o){let{pos:s,create:c}=o,d=c(e),p=document.createElement("div");p.className="cm-tooltip cm-signature-tooltip",p.style.position="absolute",p.appendChild(d.dom);let m=e.coordsAtPos(s);if(m){p.style.left=`${m.left}px`,p.style.top=`${m.bottom+5}px`,document.body.appendChild(p),setTimeout(()=>{p.remove()},1e4);let v=()=>{p.remove(),e.dom.removeEventListener("keydown",v),e.dom.removeEventListener("mousedown",v)};e.dom.addEventListener("keydown",v),e.dom.addEventListener("mousedown",v)}}}createTooltipContainer(){let e=document.createElement("div");return e.classList.add("cm-signature-help"),e.style.cssText="padding: 6px; max-width: 400px;",e}createSignatureElement(e,n){let i=document.createElement("div");if(i.classList.add("cm-signature"),i.style.cssText="font-family: monospace; margin-bottom: 4px;",!e.label||typeof e.label!="string")return i.textContent="Signature information unavailable",i;let o=e.label,s=e.parameters||[];if(s.length===0||!s[n])return i.textContent=o,i;let c=s[n].label;return typeof c=="string"?this.allowHTMLContent?i.innerHTML=o.replace(c,`<strong class="cm-signature-active-param">${c}</strong>`):i.textContent=o.replace(c,`\xAB${c}\xBB`):Array.isArray(c)&&c.length===2?this.applyRangeHighlighting(i,o,c[0],c[1]):i.textContent=o,i}applyRangeHighlighting(e,n,i,o){e.textContent="";let s=n.substring(0,i),c=n.substring(i,o),d=n.substring(o);e.appendChild(document.createTextNode(s));let p=document.createElement("span");p.classList.add("cm-signature-active-param"),p.style.cssText="font-weight: bold; text-decoration: underline;",p.textContent=c,e.appendChild(p),e.appendChild(document.createTextNode(d))}createDocumentationElement(e){let n=document.createElement("div");n.classList.add("cm-signature-docs"),n.style.cssText="margin-top: 4px; color: #666;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}createParameterDocElement(e){let n=document.createElement("div");n.classList.add("cm-parameter-docs"),n.style.cssText="margin-top: 4px; font-style: italic; border-top: 1px solid #eee; padding-top: 4px;";let i=Pr(e,this.markdownRenderer);return this.allowHTMLContent?n.innerHTML=i:n.textContent=i,n}prepareRenameFallback(e,{line:n,character:i}){let o=e.state.doc.line(n+1).text,s=/\w+/g,c,d=i,p=i;for(;(c=s.exec(o))!==null;){let m=c.index,v=c.index+c[0].length;if(i>=m&&i<=v){d=m,p=v;break}}return d===i&&p===i?null:{range:{start:{line:n,character:d},end:{line:n,character:p}},placeholder:o.slice(d,p)}}async applyRenameEdit(e,n){if(!n)return Jn(e,"No edit returned from language server"),!1;let i=n.changes??{},o=n.documentChanges??[];if(Object.keys(i).length===0&&o.length===0)return Jn(e,"No changes to apply"),!1;if(o.length>0)for(let s of o){if("textDocument"in s){if(s.textDocument.uri!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let c=s.edits.sort((d,p)=>{let m=hn(e.state.doc,d.range.start);return(hn(e.state.doc,p.range.start)??0)-(m??0)}).map(d=>({from:hn(e.state.doc,d.range.start)??0,to:hn(e.state.doc,d.range.end)??0,insert:d.newText}));return e.dispatch(e.state.update({changes:c})),!0}return Jn(e,"File creation, deletion, or renaming operations not supported yet"),!1}else if(Object.keys(i).length>0)for(let[s,c]of Object.entries(i)){if(s!==this.documentUri){Jn(e,"Multi-file rename not supported yet");continue}let d=c.sort((p,m)=>{let v=hn(e.state.doc,p.range.start);return(hn(e.state.doc,m.range.start)??0)-(v??0)}).map(p=>({from:hn(e.state.doc,p.range.start)??0,to:hn(e.state.doc,p.range.end)??0,insert:p.newText}));e.dispatch(e.state.update({changes:d}))}return!1}};Eh=function(e){var d;let n=null,i={rename:"F2",goToDefinition:"F12",signatureHelp:"Mod-Shift-Space",...e.keyboardShortcuts},o=e.client,s={diagnosticsEnabled:!0,hoverEnabled:!0,completionEnabled:!0,definitionEnabled:!0,renameEnabled:!0,codeActionsEnabled:!0,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,...e},c=[io.define(p=>(n=new NC({client:o,documentUri:e.documentUri??p.state.facet(Yg),languageId:e.languageId??p.state.facet(OC),view:p,featureOptions:s,sendIncrementalChanges:e.sendIncrementalChanges,allowHTMLContent:e.allowHTMLContent,useSnippetOnCompletion:e.useSnippetOnCompletion,onGoToDefinition:e.onGoToDefinition,markdownRenderer:e.markdownRenderer}),n))];return c.push(ro.of([{key:i.signatureHelp,run:p=>{if(!(n&&s.signatureHelpEnabled))return!1;let m=p.state.selection.main.head;return n.showSignatureHelpTooltip(p,m),!0}},{key:i.rename,run:p=>{if(!(n&&s.renameEnabled))return!1;let m=p.state.selection.main.head;return n.requestRename(p,qi(p.state.doc,m)),!0}},{key:i.goToDefinition,run:p=>{if(!(n&&s.definitionEnabled))return!1;let m=p.state.selection.main.head;return n.requestDefinition(p,qi(p.state.doc,m)).catch(v=>Jn(p,`Go to definition failed: ${v instanceof Error?v.message:"Unknown error"}`)),!0}}])),s.hoverEnabled&&c.push(h2((p,m)=>n==null?null:n.requestHoverTooltip(p,qi(p.state.doc,m)),e.hoverConfig)),s.signatureHelpEnabled&&c.push(Tn.updateListener.of(async p=>{var E;if(!(n&&p.docChanged)||!((E=n.client.capabilities)!=null&&E.signatureHelpProvider)||!s.signatureActivateOnTyping)return;let m=n.client.capabilities.signatureHelpProvider.triggerCharacters||["(",","],v,_=p.changes,w=!1,C=-1;_.iterChanges((R,M,H,W,U)=>{if(w)return;let I=U.toString();if(I){for(let G of m)if(I.includes(G)){w=!0,C=W,v=G;break}}}),w&&C>=0&&n.showSignatureHelpTooltip(p.view,C,v)})),s.completionEnabled&&c.push(_u({...e.completionConfig,override:[async p=>{var w,C;if(n==null)return null;let{state:m,pos:v}=p,_=LC(p,((C=(w=n.client.capabilities)==null?void 0:w.completionProvider)==null?void 0:C.triggerCharacters)??[],e.completionMatchBefore);return _==null?null:await n.requestCompletion(p,qi(m.doc,v),_)},...((d=e.completionConfig)==null?void 0:d.override)||[]]})),c.push(Tn.domEventHandlers({click:(p,m)=>{if(s.definitionEnabled&&i.goToDefinition==="ctrlcmd"&&(p.ctrlKey||p.metaKey)){let v=m.posAtCoords({x:p.clientX,y:p.clientY});v&&n&&(n.requestDefinition(m,qi(m.state.doc,v)).catch(_=>Jn(m,`Go to definition failed: ${_ instanceof Error?_.message:"Unknown error"}`)),p.preventDefault())}}})),c};function LC(e,n,i){let{state:o,pos:s,explicit:c}=e,d=o.doc.lineAt(s),p=ji.CompletionTriggerKind.Invoked,m,v=d.text[s-d.from-1]||"",_=n==null?void 0:n.includes(v);return!c&&_&&(p=ji.CompletionTriggerKind.TriggerCharacter,m=v),p===ji.CompletionTriggerKind.Invoked&&!e.matchBefore(i||/(\w+|\w+\.|\/|,)$/)?null:{triggerKind:p,triggerCharacter:m}}function ty(){return`file://${ql()??"/__marimo_notebook__.py"}`}function Wd(){return`file://${ed.dirname(ql()??"/")}`}function MC(e){return ti.filter(e,n=>n!==!1&&n!==null)}function ny(e){let n=e.map(MC);return Object.assign({},...n)}var IC=class{constructor(e){Te(this,"clients",[]);this.clients=e,this.documentUri=ty()}onNotification(e){let n=[];for(let i of this.clients)n.push(i.onNotification(e));return()=>{for(let i of n)i();return!0}}get clientCapabilities(){return ny(this.clients.map(e=>{if(e.clientCapabilities)return typeof e.clientCapabilities=="function"?e.clientCapabilities({}):e.clientCapabilities}).filter(e=>e!=null))}get ready(){return this.clients.some(e=>e.ready)}set ready(e){this.clients.forEach(n=>{n.ready=e})}get capabilities(){return ny(this.clients.map(e=>e.capabilities).filter(e=>e!==null))}set capabilities(e){this.clients.forEach(n=>{n.capabilities=e})}get initializePromise(){return this.clients[0].initializePromise}set initializePromise(e){this.clients.forEach(n=>{n.initializePromise=e})}firstWithCapability(e){return this.clients.find(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}clientsWithCapability(e){return this.clients.filter(n=>{var i;return(i=n.capabilities)==null?void 0:i[e]})}async initialize(){await Promise.all(this.clients.map(e=>e.initialize()))}async close(){await Promise.all(this.clients.map(e=>e.close()))}async textDocumentDidChange(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidChange(e))),e}async completionItemResolve(e){let n=this.firstWithCapability("completionProvider");return n?n.completionItemResolve(e):e}async textDocumentCodeAction(e){let n=this.firstWithCapability("codeActionProvider");return n?n.textDocumentCodeAction(e):null}async textDocumentRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentRename(e):null}async textDocumentPrepareRename(e){let n=this.firstWithCapability("renameProvider");return n?n.textDocumentPrepareRename(e):null}async textDocumentSignatureHelp(e){let n=this.firstWithCapability("signatureHelpProvider");return n?n.textDocumentSignatureHelp(e):null}async textDocumentCompletion(e){let n=this.clientsWithCapability("completionProvider");return AC(await Promise.allSettled(n.map(i=>i.textDocumentCompletion(e))))}async textDocumentDefinition(e){let n=this.firstWithCapability("definitionProvider");return n?n.textDocumentDefinition(e):null}async textDocumentDidOpen(e){return await Promise.all(this.clients.map(n=>n.textDocumentDidOpen(e))),e}async textDocumentHover(e){var n;for(let i of this.clients){if(!((n=i.capabilities)!=null&&n.hoverProvider))continue;let o=await i.textDocumentHover(e);if(o)return o}return{contents:[]}}};function AC(e){let n=[],i=!1;for(let o of e)if(o.status==="fulfilled"){let s=o.value;if(s==null)continue;Array.isArray(s)&&n.push(...s),"items"in s&&(n.push(...s.items),i||(i=s.isIncomplete))}return{items:n,isIncomplete:i}}G2=function(e){return[...qC(e),e].join(`
`)};function qC(e){return Jh().map(n=>{let i=ai(n);return i===e?null:i}).filter(Boolean).sort((n,i)=>n.startsWith("import")&&!i.startsWith("import")?-1:!n.startsWith("import")&&i.startsWith("import")?1:0)}var jC=Be(e=>{let n=e(ht);return ti.fromEntries(n.cellIds.inOrderIds.map(i=>{let o=n.cellHandles[i];return[i,o!=null&&o.current?ai(o.current.editorView):""]}))}),zC=Be(e=>e(ht).cellIds.inOrderIds),FC=Be(e=>HC(e(zC),e(ma)));const BC=Be(e=>({cellIds:e(FC),codes:e(jC)}));function HC(e,n){var m,v;let i=new Map;e.forEach(_=>i.set(_,[]));let o=new Set(e),s=new Set(e);for(let{declaredBy:_,usedBy:w}of Object.values(n))for(let C of _){o.delete(C);for(let E of w)s.delete(E),E!==C&&((m=i.get(C))==null||m.push(E))}let c=new Map;e.forEach(_=>c.set(_,0)),i.forEach(_=>{_.forEach(w=>{c.set(w,(c.get(w)||0)+1)})});let d=[];c.forEach((_,w)=>{_===0&&d.push(w)});let p=[];for(;d.length>0;){let _=d.shift();if(!_)break;p.push(_),(v=i.get(_))==null||v.forEach(w=>{c.set(w,(c.get(w)||0)-1),c.get(w)===0&&d.push(w)})}return[...p.filter(_=>!o.has(_)),...o]}function VC(e,n){let i=new Map,o=0;e.forEach(d=>{i.set(d,o),o+=n[d].split(`
`).length});function s(d){return i.has(d)||Oe.warn("[lsp] no cell line offsets for",d),i.get(d)??0}let c=e.map(d=>n[d]).join(`
`);return{cellIds:e,mergedText:c,transformRange:(d,p)=>ry(d,s(p)),reverseRange:(d,p)=>ry(d,-s(p)),isInRange:(d,p)=>{let m=n[p].split(`
`).length,v=i.get(p)||0,_=d.start.line-v,w=d.end.line-v;return _>=0&&w<m},getEditsForNewText:d=>{let p=d.split(`
`),m=c.split(`
`);if(p.length!==m.length)throw Error("Cannot apply rename when there are new lines");let v=[];for(let[_,w]of ti.entries(n)){if(!i.has(_))continue;let C=i.get(_)??0,E=w.split(`
`).length,R=p.slice(C,C+E);v.push({cellId:_,text:R.join(`
`)})}return v},transformPosition:(d,p)=>ec(d,s(p)),reversePosition:(d,p)=>ec(d,-s(p))}}function ry(e,n){return{start:ec(e.start,n),end:ec(e.end,n)}}function ec(e,n){return{line:e.line+n,character:e.character}}const Xn={PREFIX:"file:///",of(e){return`${this.PREFIX}${e}`},is(e){return e.startsWith(this.PREFIX)},parse(e){return Ln(this.is(e),`Invalid cell document URI: ${e}`),e.slice(this.PREFIX.length)}};function iy(e){return"notify"in e}var $C=class{constructor(e){Te(this,"documentVersion",0);Te(this,"versionToCellNumberAndVersion",new gs(20));Te(this,"lastSnapshot",null);this.getNotebookCode=e}snapshot(){var i;let e=this.getLens(),n=((i=this.lastSnapshot)==null?void 0:i.mergedText)!==e.mergedText;return n?(this.documentVersion++,this.lastSnapshot=e,{lens:e,didChange:n,version:this.documentVersion}):{lens:e,didChange:n,version:this.documentVersion}}getSnapshot(e){let n=this.versionToCellNumberAndVersion.get(e);if(!n)throw Error(`No snapshot for version ${e}`);return n}getLatestSnapshot(){if(!this.lastSnapshot)throw Error("No snapshots");return{lens:this.lastSnapshot,version:this.documentVersion}}getLens(){let{cellIds:e,codes:n}=this.getNotebookCode();return VC(e,n)}},WC=()=>{let e=Yu().cellHandles;return ti.mapValues(e,n=>{var i;return(i=n.current)==null?void 0:i.editorViewOrNull})},Ud=(Fi=class{constructor(n,i,o=WC){Te(this,"completionItemCache",new gs(10));this.documentUri=ty(),this.getNotebookEditors=o,this.initialSettings=i,this.client=n,this.patchProcessNotification(),this.initializePromise.then(()=>{Ln(iy(this.client),"notify is not a method on the client"),this.client.notify("workspace/didChangeConfiguration",{settings:i})}),this.snapshotter=new $C(this.getNotebookCode.bind(this))}onNotification(n){return this.client.onNotification(n)}get ready(){return this.client.ready}set ready(n){this.client.ready=n}get capabilities(){return this.client.capabilities}set capabilities(n){this.client.capabilities=n}get initializePromise(){return this.client.initializePromise}set initializePromise(n){this.client.initializePromise=n}get clientCapabilities(){return this.client.clientCapabilities}async initialize(){await this.client.initialize()}close(){this.client.close()}async resyncAllDocuments(){Ln(iy(this.client),"notify is not a method on the client"),await this.client.initialize(),this.client.notify("workspace/didChangeConfiguration",{settings:this.initialSettings});let{lens:n,version:i}=this.snapshotter.snapshot();await this.client.textDocumentDidOpen({textDocument:{languageId:"python",text:n.mergedText,uri:this.documentUri,version:i}}),Oe.log("[lsp] Document re-synchronization complete")}getNotebookCode(){return ut.get(BC)}assertCellDocumentUri(n){Ln(Xn.is(n),"Execpted URI to be CellDocumentUri")}async textDocumentDidOpen(n){Oe.debug("[lsp] textDocumentDidOpen",n);let i=n.textDocument.uri;this.assertCellDocumentUri(i);let{lens:o,version:s}=this.snapshotter.snapshot();Fi.SEEN_CELL_DOCUMENT_URIS.add(i);let c=await this.client.textDocumentDidOpen({textDocument:{languageId:n.textDocument.languageId,text:o.mergedText,uri:this.documentUri,version:s}});return c?{...c,textDocument:{...c.textDocument,text:o.mergedText}}:n}async sync(){let{lens:n,version:i,didChange:o}=this.snapshotter.snapshot();return o?this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}):{textDocument:{uri:this.documentUri,version:i},contentChanges:[{text:n.mergedText}]}}async textDocumentDidChange(n){return Oe.debug("[lsp] textDocumentDidChange",n),n.contentChanges.length===1?this.sync():(Oe.warn("[lsp] Unhandled textDocumentDidChange",n),this.client.textDocumentDidChange(n))}async textDocumentDefinition(n){let i=n.textDocument.uri;if(!Xn.is(i))return Oe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentDefinition({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentSignatureHelp(n){let i=n.textDocument.uri;if(!Xn.is(i))return Oe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return await this.client.textDocumentSignatureHelp({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})||null}textDocumentCodeAction(n){return Promise.resolve(null)}async textDocumentRename(n){var C;let i=n.textDocument.uri;if(!Xn.is(i))return Oe.warn("Invalid cell document URI",i),null;let o=Xn.parse(i);await this.sync();let{lens:s}=this.snapshotter.getLatestSnapshot(),c=s.transformPosition(n.position,o),d=await this.client.textDocumentRename({...n,textDocument:{uri:this.documentUri},position:c});if(!d)return null;let p=(C=d.documentChanges)==null?void 0:C.flatMap(E=>"edits"in E?E.edits:[]);if(!p||p.length!==1)return Oe.warn("Expected exactly one edit",p),d;let m=p[0];if(!("newText"in m))return Oe.warn("Expected newText in edit",m),d;let v=s.getEditsForNewText(m.newText),_=new Map(v.map(E=>[E.cellId,E.text])),w=this.getNotebookEditors();for(let[E,R]of ti.entries(w)){let M=_.get(E);if(M==null){Oe.warn("No new code for cell",E);continue}if(!R){Oe.warn("No view for plugin",E);continue}R.state.doc.toString()!==M&&R.dispatch({changes:{from:0,to:R.state.doc.length,insert:M}})}return{...d,documentChanges:[{edits:[],textDocument:{uri:i,version:0}}]}}async completionItemResolve(n){let i=JSON.stringify(n),o=this.completionItemCache.get(i);if(o)return o;let s=this.client.completionItemResolve(n);return this.completionItemCache.set(i,s),s}async textDocumentPrepareRename(n){let i=n.textDocument.uri;if(!Xn.is(i))return Oe.warn("Invalid cell document URI",i),null;await this.sync();let{lens:o}=this.snapshotter.getLatestSnapshot(),s=Xn.parse(i);return this.client.textDocumentPrepareRename({...n,textDocument:{uri:this.documentUri},position:o.transformPosition(n.position,s)})}async textDocumentHover(n){Oe.debug("[lsp] textDocumentHover",n),await this.sync();let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri),s=await this.client.textDocumentHover({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)});return s?(typeof s.contents=="object"&&"kind"in s.contents&&(s.contents={kind:"markdown",value:s.contents.value}),s.contents===""?null:(s.range&&(s.range=i.reverseRange(s.range,o)),s)):(Oe.debug("[lsp] no hover result"),s)}async textDocumentCompletion(n){let{lens:i}=this.snapshotter.getLatestSnapshot(),o=Xn.parse(n.textDocument.uri);return this.client.textDocumentCompletion({...n,textDocument:{uri:this.documentUri},position:i.transformPosition(n.position,o)})}patchProcessNotification(){Ln("processNotification"in this.client,"processNotification is not a method on the client");let n=this.client.processNotification.bind(this.client),i=o=>{if(o.method==="textDocument/publishDiagnostics"){Oe.debug("[lsp] handling diagnostics",o);let s=this.snapshotter.getLatestSnapshot(),c=o.params.diagnostics,{lens:d,version:p}=s,m=new Map;for(let _ of c)for(let w of d.cellIds)if(d.isInRange(_.range,w)){m.has(w)||m.set(w,[]);let C={..._,range:d.reverseRange(_.range,w)};m.get(w).push(C);break}let v=new Set(Fi.SEEN_CELL_DOCUMENT_URIS);for(let[_,w]of m.entries()){Oe.debug("[lsp] diagnostics for cell",_,w);let C=Xn.of(_);v.delete(C),n({...o,params:{...o.params,uri:C,version:p,diagnostics:w}})}if(v.size>0){Oe.debug("[lsp] clearing diagnostics",v);for(let _ of v)n({method:"textDocument/publishDiagnostics",params:{uri:_,diagnostics:[]}})}return}return n(o)};this.client.processNotification=i}},Te(Fi,"SEEN_CELL_DOCUMENT_URIS",new Set),Fi),UC=Qt(Il(),1),KC=Qt(pa(),1),QC=class extends KC.Transport{constructor(n){super();Te(this,"isClosed",!1);Te(this,"hasConnectedBefore",!1);this.options=n,this.delegate=void 0}createDelegate(){if(this.delegate)try{this.delegate.close()}catch(n){Oe.warn("Error closing old WebSocket delegate",n)}return this.delegate=new UC.WebSocketTransport(this.options.getWsUrl()),this.delegate}isDelegateClosedOrClosing(){if(!this.delegate)return!0;let n=this.delegate.connection;return n?n.readyState===WebSocket.CLOSING||n.readyState===WebSocket.CLOSED:!0}async connect(){if(this.isClosed)throw Error("Transport is closed");return this.connectionPromise||(this.connectionPromise=(async()=>{try{this.options.waitForConnection&&await this.options.waitForConnection();let n=this.delegate;(!n||this.isDelegateClosedOrClosing())&&(n=this.createDelegate()),await n.connect(),Oe.log("WebSocket transport connected successfully");let i=this.hasConnectedBefore;this.hasConnectedBefore=!0,i&&this.options.onReconnect&&(Oe.log("Calling onReconnect callback to re-synchronize state"),await this.options.onReconnect())}catch(n){throw Oe.error("WebSocket transport connection failed",n),this.delegate=void 0,n}finally{this.connectionPromise=void 0}})()),this.connectionPromise}close(){var n;this.isClosed=!0,(n=this.delegate)==null||n.close(),this.delegate=void 0,this.connectionPromise=void 0}async sendData(n,i){var o;if(this.isDelegateClosedOrClosing()){Oe.warn("WebSocket is closed or closing, attempting to reconnect");try{await this.connect()}catch(s){throw Oe.error("Failed to reconnect WebSocket",s),s}}return(o=this.delegate)==null?void 0:o.sendData(n,i)}};function Kd(e,n){let i=QT();return new QC({getWsUrl:()=>i.getLSPURL(e).toString(),waitForConnection:async()=>{await XR()},onReconnect:n})}Gh=function(e){return e===ri.CONNECTING},Su=function(e){return e===ri.OPEN},K2=function(e){return e===ri.CLOSED||e===ri.CLOSING||e===ri.CONNECTING},M_=function(e){switch(e){case ri.CLOSED:return"App disconnected";case ri.CONNECTING:return"Connecting to a runtime ...";case ri.CLOSING:return"App disconnecting...";case ri.OPEN:return"";default:return""}};var ay=no.define(),oy=new mu,Qd="marimo-connecting-indicator";function GC(){let e=document.getElementById(Qd);return e||(e=document.createElement("div"),e.id=Qd,e.textContent="Connecting\u2026",e.style.position="fixed",e.style.zIndex="9999",e.style.background="#222",e.style.color="#fff",e.style.padding="2px 8px",e.style.borderRadius="6px",e.style.fontSize="0.9em",e.style.boxShadow="0 2px 8px rgba(0,0,0,0.15)",e.style.pointerEvents="none",e.style.display="none",document.body.append(e)),e}function sy(e,n){let i=GC();i.style.left=`${e}px`,i.style.top=`${n}px`,i.style.display="block",i.textContent="Connecting\u2026"}function Gd(){let e=document.getElementById(Qd);e&&(e.style.display="none")}var Jd=null;X2=function(e){let n=()=>e.get(Pl).state,i=!Su(n()),o=io.define(s=>{let c=!1,d=s.dom;function p(){let C=s.state.selection.main,E=s.coordsAtPos(C.head);E?sy(E.left+2,E.bottom+2):sy(window.innerWidth/2,window.innerHeight*.1),Jd&&window.clearTimeout(Jd),Jd=window.setTimeout(Gd,1500)}function m(){p()}function v(){c||(c=(d.addEventListener("keydown",m,{capture:!0}),d.addEventListener("paste",m,{capture:!0}),!0))}function _(){c&&(c=(d.removeEventListener("keydown",m,{capture:!0}),d.removeEventListener("paste",m,{capture:!0}),!1))}let w=e.sub(Pl,()=>{e.get(Pl).state===ri.CONNECTING?v():(_(),Gd())});return Gh(n())&&v(),{destroy(){_(),w(),Gd()}}});return[oy.of(vu.readOnly.of(i)),vu.transactionExtender.of(s=>{for(let c of s.effects)if(c.is(ay)){let d=c.value;if(d!==i)return i=d,{effects:oy.reconfigure(vu.readOnly.of(d))}}return null}),io.define(s=>{let c=e.sub(Pl,()=>{let d=!Su(e.get(Pl).state);s.dispatch({effects:ay.of(d)})});return{destroy(){c()}}}),o]};function JC(e){return e.facet(vu.readOnly)}function XC(e){return[p2(e),ro.of([{key:"ArrowRight",preventDefault:!0,run:n=>ly(n,e)},{key:"Tab",preventDefault:!0,run:n=>ly(n,e)}])]}function ly(e,n){if(JC(e.state))return!1;let i=e.state.doc.length;return i===0?(e.dispatch({changes:{from:0,to:i,insert:n},selection:{head:n.length,anchor:n.length}}),!0):!1}function YC(e){let{beforeText:n,linkText:i,afterText:o,onClick:s}=e;return[p2(c=>{let d=document.createElement("span");d.append(document.createTextNode(n));let p=document.createElement("span");return p.textContent=i,p.classList.add("cm-clickable-placeholder"),p.onclick=m=>{m.stopPropagation(),s(c)},d.append(p),d.append(document.createTextNode(o)),d}),Tn.theme({".cm-placeholder":{color:"var(--slate-8)"},".cm-clickable-placeholder":{cursor:"pointer !important",pointerEvents:"auto",color:"var(--slate-9)",textDecoration:"underline",textUnderlineOffset:"0.2em"},".cm-clickable-placeholder:hover":{color:"var(--sky-11)"}})]}var ZC=ni(e=>{let n,i={transport:Kd("pylsp",async()=>{await(n==null?void 0:n())}),rootUri:Wd(),workspaceFolders:[]},o=e==null?void 0:e.pylsp,s=["D100","D103"],c=["W292","E402"],d=["B018","I001"],p={pylsp:{plugins:{marimo_plugin:{enabled:!0},jedi:{auto_import_modules:["numpy"]},jedi_completion:{include_params:!0,resolve_at_most:50},flake8:{enabled:o==null?void 0:o.enable_flake8,extendIgnore:c},pydocstyle:{enabled:o==null?void 0:o.enable_pydocstyle,ignore:s},pylint:{enabled:o==null?void 0:o.enable_pylint},pyflakes:{enabled:o==null?void 0:o.enable_pyflakes},pylsp_mypy:{enabled:o==null?void 0:o.enable_mypy,live_mode:!0},ruff:{enabled:o==null?void 0:o.enable_ruff,extendIgnore:[...c,...s,...d]},signature:{formatter:o!=null&&o.enable_ruff?"ruff":"black",line_length:88}}}},m=new Ud(new Ll({...i}),p);return n=()=>m.resyncAllDocuments(),m}),eS=ni(e=>{let n,i=new Ud(new Ll({transport:Kd("ty",async()=>{await(n==null?void 0:n())}),rootUri:Wd(),workspaceFolders:[],getWorkspaceConfiguration:o=>[{disableLanguageServices:!0}]}),{});return n=()=>i.resyncAllDocuments(),i}),tS=ni(e=>{let n,i=new Ud(new Ll({transport:Kd("basedpyright",async()=>{await(n==null?void 0:n())}),rootUri:Wd(),workspaceFolders:[]}),{});return n=()=>i.resyncAllDocuments(),i}),nS=class{constructor(){Te(this,"parser",new Fx);Te(this,"type","python");Te(this,"defaultCode",this.parser.defaultCode);Te(this,"defaultMetadata",this.parser.defaultMetadata)}transformIn(e){let n=this.parser.transformIn(e);return[n.code,n.offset,n.metadata]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o,s){return[(()=>{var m,v,_,w;let c={defaultKeymap:!1,activateOnTyping:n.activate_on_typing,closeOnBlur:!1},d={hideOnChange:!0},p=[];if((m=s==null?void 0:s.pylsp)!=null&&m.enabled&&Ul("pylsp")&&p.push(ZC(s)),(v=s==null?void 0:s.ty)!=null&&v.enabled&&Ul("ty")&&p.push(eS(s)),(_=s==null?void 0:s.basedpyright)!=null&&_.enabled&&Ul("basedpyright")&&p.push(tS(s)),p.length>0){let C=p.length===1?p[0]:new IC(p);return[Eh({client:C,languageId:"python",allowHTMLContent:!0,useSnippetOnCompletion:!1,hoverConfig:d,completionConfig:c,diagnosticsEnabled:((w=s.diagnostics)==null?void 0:w.enabled)??!1,sendIncrementalChanges:!1,signatureHelpEnabled:!0,signatureActivateOnTyping:!1,keyboardShortcuts:{signatureHelp:i.getHotkey("cell.signatureHelp").key,goToDefinition:i.getHotkey("cell.goToDefinition").key,rename:i.getHotkey("cell.renameSymbol").key},completionMatchBefore:/(\w+|\w+\.|\(|\/|,)$/,onGoToDefinition:E=>{Oe.debug("onGoToDefinition",E),C.documentUri!==E.uri&&Di().openFile({path:E.uri.replace("file://","")})}}),Yg.of(Xn.of(e))]}return _u({...c,override:[W0]})})(),yh(),rS(o)]}};function rS(e){return e==="marimo-import"?bu.highest(XC("import marimo as mo")):e==="ai"?YC({beforeText:"Start coding or ",linkText:"generate",afterText:" with AI.",onClick:n=>{n.state.facet(Dt).aiCellCompletion()}}):[]}var Xd=uh.configure({props:[XT.add({ParenthesizedExpression:o2,ArgList:o2})]});yh=function(){return new f2(Xd,[Xd.data.of({autocomplete:QR}),Xd.data.of({autocomplete:GR})])};function iS(e){return Array.isArray(e)}function aS(e){var s,c,d,p,m,v,_;let n=e.path.join("."),i=((s=e.completion)==null?void 0:s.label)||e.value||e.path[e.path.length-1]||"unknown",o=`<div class="sql-hover-${e.semanticType}">`;switch(o+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">${e.semanticType}</span></div>`,e.semanticType){case"database":if(o+=`<div class="sql-hover-description">Database${(c=e.completion)!=null&&c.detail?`: ${e.completion.detail}`:""}</div>`,e.namespace){let w=tc(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} schema${w===1?"":"s"}</div>`)}break;case"schema":if(o+=`<div class="sql-hover-description">Schema${(d=e.completion)!=null&&d.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let w=tc(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} table${w===1?"":"s"}</div>`)}break;case"table":if(o+=`<div class="sql-hover-description">Table${(p=e.completion)!=null&&p.detail?`: ${e.completion.detail}`:""}</div>`,n){let w=e.path;w.length>1&&(o+=`<div class="sql-hover-path"><strong>Schema:</strong> <code>${w.slice(0,-1).join(".")}</code></div>`)}if(e.namespace&&iS(e.namespace)){let w=e.namespace;if(w.length>0){o+=`<div class="sql-hover-columns"><strong>Columns (${w.length}):</strong><br>`;let C=w.slice(0,8).map(E=>typeof E=="string"?E:E.label);o+=C.map(E=>`<code>${E}</code>`).join(", "),w.length>8&&(o+=`, <em>and ${w.length-8} more...</em>`),o+="</div>"}}break;case"column":if(o+=`<div class="sql-hover-description">Column${(m=e.completion)!=null&&m.detail?`: ${e.completion.detail}`:""}</div>`,n){let w=e.path;w.length>1&&(o+=`<div class="sql-hover-path"><strong>Table:</strong> <code>${w.slice(0,-1).join(".")}</code></div>`)}break;default:if(o+=`<div class="sql-hover-description">Namespace${(v=e.completion)!=null&&v.detail?`: ${e.completion.detail}`:""}</div>`,n&&(o+=`<div class="sql-hover-path"><strong>Path:</strong> <code>${n}</code></div>`),e.namespace){let w=tc(e.namespace);w>0&&(o+=`<div class="sql-hover-children">Contains ${w} item${w===1?"":"s"}</div>`)}break}return(_=e.completion)!=null&&_.info&&typeof e.completion.info=="string"&&(o+=`<div class="sql-hover-info">${e.completion.info}</div>`),o+="</div>",o}function tc(e){return Array.isArray(e)?e.length:typeof e=="object"&&e?"self"in e&&"children"in e?1+tc(e.children):Object.keys(e).length:0}function oS(e){let{keyword:n,info:i}=e,o='<div class="sql-hover-keyword">';if(o+=`<div class="sql-hover-header"><strong>${n.toUpperCase()}</strong> <span class="sql-hover-type">keyword</span></div>`,o+=`<div class="sql-hover-description">${i.description}</div>`,i.syntax&&(o+=`<div class="sql-hover-syntax"><strong>Syntax:</strong> <code>${i.syntax}</code></div>`),i.example&&(o+=`<div class="sql-hover-example"><strong>Example:</strong><br><code>${i.example}</code></div>`),i.metadata&&typeof i.metadata=="object"&&Object.keys(i.metadata).length>0){o+='<div class="sql-hover-metadata">';for(let[s,c]of Object.entries(i.metadata))o+=`<span class="sql-hover-tag" title="${s}">${c}</span> `;o+="</div>"}return o+="</div>",o}function sS(e){let{tableName:n,columns:i,metadata:o}=e,s='<div class="sql-hover-table">';if(s+=`<div class="sql-hover-header"><strong>${n}</strong> <span class="sql-hover-type">table</span></div>`,s+=`<div class="sql-hover-description">Table with ${i.length} column${i.length===1?"":"s"}</div>`,i.length>0){s+='<div class="sql-hover-columns"><strong>Columns:</strong><br>';let c=i.slice(0,10);s+=c.map(d=>`<code>${d}</code>`).join(", "),i.length>10&&(s+=`, <em>and ${i.length-10} more...</em>`),s+="</div>"}if(o&&typeof o=="object"&&Object.keys(o).length>0){s+='<div class="sql-hover-metadata">';for(let[c,d]of Object.entries(o))s+=`<span class="sql-hover-tag" title="${c}">${d}</span> `;s+="</div>"}return s+="</div>",s}function lS(e){let{tableName:n,columnName:i,schema:o,metadata:s}=e,c='<div class="sql-hover-column">';c+=`<div class="sql-hover-header"><strong>${i}</strong> <span class="sql-hover-type">column</span></div>`,c+=`<div class="sql-hover-description">Column in table <code>${n}</code></div>`;let d=o[n];if(d&&d.length>1){let p=d.filter(m=>m!==i);if(p.length>0){c+=`<div class="sql-hover-related"><strong>Other columns in ${n}:</strong><br>`;let m=p.slice(0,8);c+=m.map(v=>`<code>${v}</code>`).join(", "),p.length>8&&(c+=`, <em>and ${p.length-8} more...</em>`),c+="</div>"}}if(s&&typeof s=="object"&&Object.keys(s).length>0){c+='<div class="sql-hover-metadata">';for(let[p,m]of Object.entries(s))c+=`<span class="sql-hover-tag" title="${p}">${m}</span> `;c+="</div>"}return c+="</div>",c}const cS={keyword:oS,table:sS,column:lS,namespace:aS};var uS=class yw{static jsonStringifySortKeys(){return n=>typeof n!="object"||!n?String(n):JSON.stringify(n,Object.keys(n).sort(),2)}constructor(n,i={}){this.delegate=n,this.toKey=i.toKey??yw.jsonStringifySortKeys(),this.cache=new gs(i.maxSize??128)}request(n){let i=this.toKey(n),o=this.cache.get(i);if(o!==void 0)return o;let s=this.delegate.request(n);return this.cache.set(i,s),s.catch(c=>{throw this.cache.delete(i),c})}resolve(n,i){this.delegate.resolve(n,i)}reject(n,i){this.delegate.reject(n,i)}};aw=new wu("sql-table-preview",async(e,n)=>{await Di().previewSQLTable({requestId:e,...n})}),a_=new wu("sql-table-list-preview",async(e,n)=>{await Di().previewSQLTableList({requestId:e,...n})}),vh=new uS(new wu("validate-sql",async(e,n)=>{await Di().validateSQL({requestId:e,...n})}),{maxSize:3});var dS=Qt(Fr(),1);let Ca;Ca=Be(new Map),L2=e=>{let n=(0,dS.c)(3),i=Kn(Ca),o;return n[0]!==e||n[1]!==i?(o=i.get(e),n[0]=e,n[1]=i,n[2]=o):o=n[2],o};function cy(e){let n=ut.get(Ca),i=new Map(n);i.delete(e),ut.set(Ca,i)}function fS(){ut.set(Ca,new Map)}function pS({cellId:e,errorMessage:n,dialect:i}){let o=ut.get(Ca),s=new Map(o),c=i==="DuckDB"?hS(n):uy(n);s.set(e,c),ut.set(Ca,s)}function hS(e){let{errorType:n,errorMessage:i}=uy(e),o=i,s,c=i.indexOf("LINE ");return c!==-1&&(s=i.slice(Math.max(0,c)).trim(),o=i.slice(0,Math.max(0,c)).trim()),{errorType:n,errorMessage:o,codeblock:s}}function uy(e){return{errorType:e.split(":")[0].trim(),errorMessage:e.split(":").slice(1).join(":").trim()}}function dy(e){return e.field(ii)}function mS(){return e=>{let n=dy(e.state).engine,i=yo.getCompletionSource(n);return i&&RR(i)(e)||null}}function gS(){return e=>{let n=dy(e.state).engine,i=yo.getDialect(n);return e.matchBefore(/\.\w*/)?null:MR(i,!0,(o,s)=>({label:o,type:s,info:async()=>{let c=(await yS())[o.toLocaleLowerCase()];if(!c)return null;let d=document.createElement("div");return d.innerHTML=cS.keyword({keyword:o,info:c}),d}}))(e)}}var yS=ni(async()=>{let e=await ue(()=>import("./common-keywords-Ccc2yBwn.js").then(async i=>(await i.__tla,i)),[],import.meta.url),n=await ue(()=>import("./duckdb-keywords-4oBeZ5E7.js").then(async i=>(await i.__tla,i)),[],import.meta.url);return{...e.default.keywords,...n.default.keywords}});lw=function(e){let n=e.storage||us;return{getItem(i,o){try{let s=n.getItem(i);if(!s)return o;let c=JSON.parse(s);return e.fromSerializable(c)}catch(s){return Oe.warn(`Error getting ${i} from storage`,s),o}},setItem:(i,o)=>{n.setItem(i,JSON.stringify(e.toSerializable(o)))},removeItem:i=>{n.removeItem(i)}}},qu=ym(()=>us);var vS=Qt(Fr(),1),fy=Iu("marimo:notebook-sql-mode","default",qu);function bS(){let e=(0,vS.c)(3),[n,i]=Xb(fy),o;return e[0]!==i||e[1]!==n?(o={sqlMode:n,setSQLMode:i},e[0]=i,e[1]=n,e[2]=o):o=e[2],o}function _S(){return ut.get(fy)}var wS=Vm,py=new mu;function Yd(){return ut.get(so).latestEngineSelected}$u=(uf=class{constructor(){Te(this,"parser",new g0);Te(this,"type","sql");this.sqlModeEnabled=!0}get defaultMetadata(){return{...this.parser.defaultMetadata,engine:Yd()||"__marimo_duckdb"}}get defaultCode(){let e=Yd();return e&&e!=="__marimo_duckdb"?`_df = mo.sql(f"""SELECT * FROM """, engine=${e})`:this.parser.defaultCode}transformIn(e){this.parser.defaultMetadata.engine=Yd()||"__marimo_duckdb";let n=this.parser.transformIn(e),i=n.metadata;return i.engine&&i.engine!=="__marimo_duckdb"&&Um(i.engine),[n.code,n.offset,i]}transformOut(e,n){let i=this.parser.transformOut(e,n);return[i.code,i.offset]}isSupported(e){return this.parser.isSupported(e)}getExtension(e,n,i,o,s){let c=[py.of(w2({dialect:wS})),ro.of([{key:"Tab",run:d=>CR(d)||vR(d),preventDefault:!0}]),_u({defaultKeymap:!1,activateOnTyping:!0,override:[mS(),sC,gS()]})];return this.sqlModeEnabled&&c.push(ES()),c}},Te(uf,"fromQuery",e=>g0.fromQuery(e)),uf);function hy(e,n){e.dispatch({effects:py.reconfigure(w2({dialect:n}))})}function xS(e,n){hy(e,yo.getDialect(n))}function kS(e){let n=my(e.state).engine;hy(e,yo.getDialect(n))}function my(e){return e.field(ii)}function CS(e){var i;let n=(i=yo.getInternalDialect(e))==null?void 0:i.toLowerCase();if(!n||!Vl(n))return null;switch(n){case"postgresql":case"postgres":return"PostgreSQL";case"db2":case"db2i":return"DB2";case"mysql":return"MySQL";case"sqlite":return"Sqlite";case"mssql":case"sqlserver":return"TransactSQL";case"duckdb":return"DuckDB";case"mariadb":return"MariaDB";case"cassandra":return"Noql";case"athena":case"awsathena":return"Athena";case"bigquery":return"BigQuery";case"hive":return"Hive";case"redshift":return"Redshift";case"snowflake":return"Snowflake";case"flink":return"FlinkSQL";case"mongodb":case"noql":return"Noql";case"oracle":case"oracledb":case"timescaledb":case"couchbase":case"trino":case"tidb":case"singlestoredb":case"spark":return Oe.debug("Unsupported dialect",{dialect:n}),null;default:return as(n),null}}var SS=300;function ES(){let e,n=null;return Tn.updateListener.of(i=>{if(!i.docChanged)return;let o=_S();if(o==="default")return;let s=my(i.state).engine;if(!fs.has(s))return;let c=i.state.doc.toString();e&&window.clearTimeout(e),e=window.setTimeout(async()=>{if(n===c)return;n=c;let d=i.view.state.facet(uo);if(c===""){cy(d);return}try{let p=CS(s),m=(await TS(c,s,p,o)).validate_result;m!=null&&m.error_message?pS({cellId:d,errorMessage:m.error_message,dialect:p}):cy(d)}catch(p){Oe.error("Failed to validate SQL",{error:p})}},SS)})}async function TS(e,n,i,o){let s=await vh.request({onlyParse:o==="default",engine:n,dialect:i,query:e});if(s.error)throw Error(s.error);return s}var RS=ni(()=>new nS),DS=ni(()=>new rd),OS=ni(()=>new $u);fr={get python(){return RS()},get markdown(){return DS()},get sql(){return OS()}};function PS(){return Object.values(fr)}var At=Qt(pu(),1),nc="Checkbox",[NS,s4]=YR(nc),[LS,Zd]=NS(nc);function MS(e){let{__scopeCheckbox:n,checked:i,children:o,defaultChecked:s,disabled:c,form:d,name:p,onCheckedChange:m,required:v,value:_="on",internal_do_not_use_render:w}=e,[C,E]=ZR({prop:i,defaultProp:s??!1,onChange:m,caller:nc}),[R,M]=At.useState(null),[H,W]=At.useState(null),U=At.useRef(!1),I=R?!!d||!!R.closest("form"):!0,G={checked:C,disabled:c,setChecked:E,control:R,setControl:M,name:p,form:d,value:_,hasConsumerStoppedPropagationRef:U,required:v,defaultChecked:zi(s)?!1:s,isFormControl:I,bubbleInput:H,setBubbleInput:W};return(0,B.jsx)(LS,{scope:n,...G,children:IS(w)?w(G):o})}var gy="CheckboxTrigger",yy=At.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:i,...o},s)=>{let{control:c,value:d,disabled:p,checked:m,required:v,setControl:_,setChecked:w,hasConsumerStoppedPropagationRef:C,isFormControl:E,bubbleInput:R}=Zd(gy,e),M=t2(s,_),H=At.useRef(m);return At.useEffect(()=>{let W=c==null?void 0:c.form;if(W){let U=()=>w(H.current);return W.addEventListener("reset",U),()=>W.removeEventListener("reset",U)}},[c,w]),(0,B.jsx)(ph.button,{type:"button",role:"checkbox","aria-checked":zi(m)?"mixed":m,"aria-required":v,"data-state":xy(m),"data-disabled":p?"":void 0,disabled:p,value:d,...o,ref:M,onKeyDown:E2(n,W=>{W.key==="Enter"&&W.preventDefault()}),onClick:E2(i,W=>{w(U=>zi(U)?!0:!U),R&&E&&(C.current=W.isPropagationStopped(),C.current||W.stopPropagation())})})});yy.displayName=gy;var ef=At.forwardRef((e,n)=>{let{__scopeCheckbox:i,name:o,checked:s,defaultChecked:c,required:d,disabled:p,value:m,onCheckedChange:v,form:_,...w}=e;return(0,B.jsx)(MS,{__scopeCheckbox:i,checked:s,defaultChecked:c,disabled:p,required:d,onCheckedChange:v,name:o,form:_,value:m,internal_do_not_use_render:({isFormControl:C})=>(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(yy,{...w,ref:n,__scopeCheckbox:i}),C&&(0,B.jsx)(wy,{__scopeCheckbox:i})]})})});ef.displayName=nc;var vy="CheckboxIndicator",by=At.forwardRef((e,n)=>{let{__scopeCheckbox:i,forceMount:o,...s}=e,c=Zd(vy,i);return(0,B.jsx)(e4,{present:o||zi(c.checked)||c.checked===!0,children:(0,B.jsx)(ph.span,{"data-state":xy(c.checked),"data-disabled":c.disabled?"":void 0,...s,ref:n,style:{pointerEvents:"none",...e.style}})})});by.displayName=vy;var _y="CheckboxBubbleInput",wy=At.forwardRef(({__scopeCheckbox:e,...n},i)=>{let{control:o,hasConsumerStoppedPropagationRef:s,checked:c,defaultChecked:d,required:p,disabled:m,name:v,value:_,form:w,bubbleInput:C,setBubbleInput:E}=Zd(_y,e),R=t2(i,E),M=jR(c),H=t4(o);At.useEffect(()=>{let U=C;if(!U)return;let I=window.HTMLInputElement.prototype,G=Object.getOwnPropertyDescriptor(I,"checked").set,me=!s.current;if(M!==c&&G){let N=new Event("click",{bubbles:me});U.indeterminate=zi(c),G.call(U,zi(c)?!1:c),U.dispatchEvent(N)}},[C,M,c,s]);let W=At.useRef(zi(c)?!1:c);return(0,B.jsx)(ph.input,{type:"checkbox","aria-hidden":!0,defaultChecked:d??W.current,required:p,disabled:m,name:v,value:_,form:w,...n,tabIndex:-1,ref:R,style:{...n.style,...H,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wy.displayName=_y;function IS(e){return typeof e=="function"}function zi(e){return e==="indeterminate"}function xy(e){return zi(e)?"indeterminate":e?"checked":"unchecked"}let ky;ky=Qt(Fr(),1),Fl=At.forwardRef((e,n)=>{let i=(0,ky.c)(10),o,s;i[0]===e?(o=i[1],s=i[2]):({className:o,...s}=e,i[0]=e,i[1]=o,i[2]=s);let c;i[3]===o?c=i[4]:(c=hu("flex items-center justify-center peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",o),i[3]=o,i[4]=c);let d;i[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,B.jsx)(by,{className:hu("flex items-center justify-center text-current max-h-[14px] overflow-hidden"),children:(0,B.jsx)(IR,{className:"h-4 w-4"})}),i[5]=d):d=i[5];let p;return i[6]!==s||i[7]!==n||i[8]!==c?(p=(0,B.jsx)(ef,{ref:n,className:c,...s,children:d}),i[6]=s,i[7]=n,i[8]=c,i[9]=p):p=i[9],p}),Fl.displayName=ef.displayName,B_="_";var AS=new Set("__*.marimo.app.False.None.True.__peg_parser__.and.as.assert.async.await.break.class.continue.def.del.elif.else.except.finally.for.from.global.if.import.in.is.lambda.nonlocal.not.or.pass.raise.return.try.while.with.yield.None.setup".split("."));Bh=function(e,n=!0){return e=e.trim(),e?(/^\d/.test(e)&&(e=`_${e}`),e=e.replaceAll(/\W/g,"_"),n?e.toLowerCase():e):"_"},T_=function(e,n){let i=new Set(n),o=e,s=d=>!i.has(d)&&!AS.has(d);if(s(e))return e;let c=1;for(;!s(o);)o=`${e}_${c}`,c++;return o},q_=function(e,n){return Qh(e)?`cell-${n}`:e},Qh=function(e){return e?e==="_"||e==="__":!0};var qS=Qt(Fr(),1);function jS(e){let n=(0,qS.c)(15),{minWidth:i,padding:o}=e,s=i===void 0?70:i,c=o===void 0?15:o,[d,p]=(0,At.useState)(50),m=(0,At.useRef)(null),v=(0,At.useRef)(null),_;n[0]===c?_=n[1]:(_=N=>{if(v.current&&m.current){let q=v.current;q.style.fontSize=window.getComputedStyle(m.current).fontSize,q.style.fontFamily=window.getComputedStyle(m.current).fontFamily,q.textContent=N;let V=q.offsetWidth;p(V+c)}},n[0]=c,n[1]=_);let w=_,C;n[2]===w?C=n[3]:(C=()=>{var N;w(((N=m.current)==null?void 0:N.value)??"")},n[2]=w,n[3]=C),zT(C);let E;n[4]===w?E=n[5]:(E=N=>{w(N.target.value)},n[4]=w,n[5]=E);let R=`${d}px`,M=`${s}px`,H;n[6]!==R||n[7]!==M?(H={width:R,minWidth:M},n[6]=R,n[7]=M,n[8]=H):H=n[8];let W;n[9]!==E||n[10]!==H?(W={ref:m,type:"text",onChange:E,style:H},n[9]=E,n[10]=H,n[11]=W):W=n[11];let U=W,I;n[12]===Symbol.for("react.memo_cache_sentinel")?(I={ref:v,style:{visibility:"hidden",position:"absolute",whiteSpace:"pre"}},n[12]=I):I=n[12];let G=I,me;return n[13]===U?me=n[14]:(me={inputProps:U,spanProps:G},n[13]=U,n[14]=me),me}var zS=Qt(Fr(),1);function FS({currentQuotePrefix:e,checked:n,prefix:i}){let o=e;return n?e===""?o=i:e!=="rf"&&i!==e&&(o="rf"):e===i?o="":e==="rf"&&(o=i==="r"?"f":"r"),o}const BS=()=>{let e=(0,zS.c)(2),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,B.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,B.jsxs)("header",{className:"flex items-center gap-1",children:[(0,B.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"r"}),(0,B.jsx)("span",{className:"font-semibold",children:"Raw String"})]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Write LaTeX without escaping special characters"}),(0,B.jsx)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:"\\alpha \\beta"})]}),e[0]=n):n=e[0];let i;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,B.jsxs)("div",{className:"flex flex-col gap-3.5",children:[n,(0,B.jsxs)("section",{className:"flex flex-col gap-0.5",children:[(0,B.jsxs)("header",{className:"flex items-center gap-1",children:[(0,B.jsx)("code",{className:"text-xs px-1 py-0.5 bg-(--slate-2) rounded",children:"f"}),(0,B.jsx)("span",{className:"font-semibold",children:"Format String"})]}),(0,B.jsx)("p",{className:"text-sm text-muted-foreground",children:"Interpolate Python values"}),(0,B.jsxs)("pre",{className:"text-xs bg-(--slate-2) p-2 rounded",children:["Hello ","{name}","! \u{1F601}"]})]})]}),e[1]=i):i=e[1],i};var HS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eClickHouse%3c/title%3e%3cpath%20d='M21.333%2010H24v4h-2.667ZM16%201.335h2.667v21.33H16Zm-5.333%200h2.666v21.33h-2.666ZM0%2022.665V1.335h2.667v21.33zm5.333-21.33H8v21.33H5.333Z'/%3e%3c/svg%3e",VS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDatabricks%3c/title%3e%3cpath%20d='M.95%2014.184L12%2020.403l9.919-5.55v2.21L12%2022.662l-10.484-5.96-.565.308v.77L12%2024l11.05-6.218v-4.317l-.515-.309L12%2019.118l-9.867-5.653v-2.21L12%2016.805l11.05-6.218V6.32l-.515-.308L12%2011.974%202.647%206.681%2012%201.388l7.76%204.368.668-.411v-.566L12%200%20.95%206.27v.72L12%2013.207l9.919-5.55v2.26L12%2015.52%201.516%209.56l-.565.308Z'/%3e%3c/svg%3e",$S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGcElEQVR4nNxZa2wcVxU+99557M6+vLazj6xjO6+maWVTl0YpLU1DU9KARNqooQhFVYJUqUWgiocqIVRESPlRoEhIqYoqgSiCItqQPkAEKUWQtlGSJtAY00R5mTjZTfze94x3HvdedMdZnKgS6s7O2kk/a7R3xvY933fOd874yhhucCyYAIWA9IOH2r+35/HUnjU96sBC8fAERQLpj0+mXjdeXM6rzy/no88uK6zolHu97EX8p/f/IWHAv38i9bsH+kIPo/ozhAJBgpR9J419je437xb62Zc7n/tcf+gRsebADYQAxLW2N/ApL/vNq4AdA7Ht2/piT4q15fAp1wEYAGEALYA18TzT1TXQ09O75qPuKbWS8NW4Lan27/pM4gWrBIgFnaIDvKZIpPPKt+nlgpMTi0q5PKqoqvZR950XAREZaz/fmHmFOFijwGHkDDu5PKGs1SlQ5gAAQ+S9U9Y/xM+Wy+WxRvaeFwE770z+OBNQbmYWwPlp63BPh3q7XQaCxAi50gP7Tldf87J3ywVszEQ2bumOf5WZAAajeWoDJjYOMM5BCECEw9miefxwduaol/1b2sQdCon/8BOZX3ETYWYiODFhvrNUC6ylFgJqzl27DxV+xD3GaGkFnl6deS4G8mJqAmRrtaGkoqxiJnazPpt9gPNVa3DvqfKrXmO0rAJ3RSLrHojHd4jMMwvBSMn+d1pSVrv37oXdz50Hx79JOXgtQGsqIAEiT8V7djtVzEiQ4w+K+t9uCmn3uNmX5rL/l8ullw5c1g80E6slFXgkuuixJVKw3y5jxEzExnV7pB3k7rr3hZDBiZl3njk+9u1mY/legSgm0cfiXbtcTziYHJmovNEXC99PZzAV41KMzaLtXGBVmaQltWfCdPLNxPNdwFdii58KYykhXM2AO5MGvTSAgw9aLnUx8zlomCxTKdeHdP14s/F8tdAiIie2RpPfAPcPNYAjRumNOwLRLZwL2rPgHAGnCF6aHPuJ5869Cr5WYFs0/S0ZkTDns9SK1BltI/JicYcEcXAX8L5R+vOblanf+hHTNwFtWGr7QiT9BAPklnWoVt5/qxrZILQI7wvyjHPrjKkfeL0y9QID76Pzavhmoa3RzNdkLMcYEKCA4aJtncjIgVs4oFnbCCGASDtRVrw3Uz7sV1xfBKiAlc2RJV+vkz9vWYMZWesTa1ER5vYEgot27YPvjJ/dXGBOwY+44JeAdaHkQxpRU9QVQGDIrPz1FjV+f/3eFcaRFcdKosicsh8x6/ClBzaEu7YLoqJNDUonVKR0UCTuRT9w9wshpAzb+qmcY2b9iFlH0xVow0r81sCiz9azfdCY3rNWSzw8a5/ZZ2ItPv9UmfiFP7Tn0HQFPhlMbuKIyOKkhThjNc4rBCtRJl5jrvO5W4mSY+beMib/4A/tOTQtYCCY2kTdszmHE7X8/tWBTtf7s7S528IYELxcuviMycWZzF80baHVgdT6/00fu3oso7Tdwa5Ypt7Aw5Zx7M1K7pf+UL4WTVWgQwqnQ5LWLexTpfblEFaT7Jrsc3GMLDw7+a9tFDj1j/YcmqpAWkn06yhERaYP6ZdeHtC6tl6deYPx4q7xY5+/YFfP+kf5WniqQELp6J6hNaNdia8s4TCojkmrjOYVHGin7qsLQdYqvb976uijk455yX/ac/AkYNLKZx9Nb/kNQkAsLJNBW9+/Uk3eJzI/ZlUG36qcfv6MXf3nmtjtO/ZO/v27/tOeA/L6iyu0pfdu7/riATF93s0fffq+toGdM5zmJ+ziuRgJpWSEgy/mXlk/Zk2f8ZfytfDcxOeM828XHH04TAIJjOTgDAlIiPNEmgQTw9Xh146UBn/aavLgVUAmkLk5IkdXFh09l62NHloaWblZjFGMONjMrsTUjqV5qzjuP90Pw9MUmrKms/2x276U0pbcO2Hlh9qUzj6GMJiclk/q5/b+Ovfqg+P29LD/dD+MhnsgSMLhnlDvPQVrOrcmfufjF2cuvI0BqVlj5GDBKmQZsJbMe9+BAZP1yU3fF+tloVV3LzSfhtEbXrWhO7Ri3ULz8PwmzoRXfTqr/+ddf+k0Dk8CEGBMOWccmC8H82bgSUAmfNO6S/q5Bc8+eBUQDXWtz1VP36gCMC4xnfPrZFw2/I9uLZi6u2aXs7ZdGWkNpcbQcAU0LX2XYYxeF/YBLwIYs0twndjnY4H/BgAA//95CrBYRwImwgAAAABJRU5ErkJggg==",WS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eDuckDB%3c/title%3e%3cpath%20d='M12%200C5.363%200%200%205.363%200%2012s5.363%2012%2012%2012%2012-5.363%2012-12S18.637%200%2012%200zM9.502%207.03a4.974%204.974%200%200%201%204.97%204.97%204.974%204.974%200%200%201-4.97%204.97A4.974%204.974%200%200%201%204.532%2012a4.974%204.974%200%200%201%204.97-4.97zm6.563%203.183h2.351c.98%200%201.787.782%201.787%201.762s-.807%201.789-1.787%201.789h-2.351v-3.551z'/%3e%3c/svg%3e",US="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eGoogle%20BigQuery%3c/title%3e%3cpath%20d='M5.676%2010.595h2.052v5.244a5.892%205.892%200%200%201-2.052-2.088v-3.156zm18.179%2010.836a.504.504%200%200%201%200%20.708l-1.716%201.716a.504.504%200%200%201-.708%200l-4.248-4.248a.206.206%200%200%201-.007-.007c-.02-.02-.028-.045-.043-.066a10.736%2010.736%200%200%201-6.334%202.065C4.835%2021.599%200%2016.764%200%2010.799S4.835%200%2010.8%200s10.799%204.835%2010.799%2010.8c0%202.369-.772%204.553-2.066%206.333.025.017.052.028.074.05l4.248%204.248zm-5.028-10.632a8.015%208.015%200%201%200-8.028%208.028h.024a8.016%208.016%200%200%200%208.004-8.028zm-4.86%204.98a6.002%206.002%200%200%200%202.04-2.184v-1.764h-2.04v3.948zm-4.5.948c.442.057.887.08%201.332.072.4.025.8.025%201.2%200V7.692H9.468v9.035z'/%3e%3c/svg%3e",KS=""+new URL("iceberg-COKYXo-A.png",import.meta.url).href,QS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMotherDuck%3c/title%3e%3cg%20transform='scale(0.85)%20translate(0,%202)'%3e%3cpath%20fill='%23ff9538'%20d='M1.71%2015.86s7.45%205.32%207.89%205.59c.44.27%201.08.33%201.64.11.56-.22.98-.71%201.11-1.21s1.85-9.49%201.85-9.49c.02-.12.07-.48-.13-.83-.27-.47-.86-.71-1.38-.57-.42.12-.64.44-.7.55-.09.17-.26.45-.57.7-.24.19-.47.3-.58.34-.96.38-2.02.06-2.61-.72-.38-.48-1.04-.67-1.64-.43-.6.24-.94.84-.89%201.45.11.98-.44%201.94-1.4%202.32-.51.21-1.06.21-1.54.05-.12-.03-.51-.12-.89.09-.48.26-.74.84-.61%201.37.09.39.38.62.48.69z'%20/%3e%3cpath%20fill='%23ff9538'%20d='M14.12%204.21s2.65%208.76%202.83%209.24c.19.48.66.92%201.23%201.09.58.16%201.21.03%201.62-.28.41-.31%207.25-6.39%207.25-6.39.09-.08.35-.34.4-.74.07-.53-.25-1.09-.75-1.29-.4-.16-.78-.04-.89%200-.18.08-.48.2-.88.2-.3.01-.55-.05-.67-.08-.99-.28-1.64-1.18-1.63-2.16-.01-.61-.42-1.17-1.04-1.35-.62-.18-1.26.09-1.59.6-.51.84-1.53%201.27-2.52.99-.53-.15-.96-.48-1.25-.91-.07-.09-.33-.4-.76-.48-.54-.09-1.1.22-1.32.71-.16.37-.08.72-.04.84z'%20/%3e%3c/g%3e%3c/svg%3e",GS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eMySQL%3c/title%3e%3cpath%20d='M16.405%205.501c-.115%200-.193.014-.274.033v.013h.014c.054.104.146.18.214.273.054.107.1.214.154.32l.014-.015c.094-.066.14-.172.14-.333-.04-.047-.046-.094-.08-.14-.04-.067-.126-.1-.18-.153zM5.77%2018.695h-.927a50.854%2050.854%200%2000-.27-4.41h-.008l-1.41%204.41H2.45l-1.4-4.41h-.01a72.892%2072.892%200%2000-.195%204.41H0c.055-1.966.192-3.81.41-5.53h1.15l1.335%204.064h.008l1.347-4.064h1.095c.242%202.015.384%203.86.428%205.53zm4.017-4.08c-.378%202.045-.876%203.533-1.492%204.46-.482.716-1.01%201.073-1.583%201.073-.153%200-.34-.046-.566-.138v-.494c.11.017.24.026.386.026.268%200%20.483-.075.647-.222.197-.18.295-.382.295-.605%200-.155-.077-.47-.23-.944L6.23%2014.615h.91l.727%202.36c.164.536.233.91.205%201.123.4-1.064.678-2.227.835-3.483zm12.325%204.08h-2.63v-5.53h.885v4.85h1.745zm-3.32.135l-1.016-.5c.09-.076.177-.158.255-.25.433-.506.648-1.258.648-2.253%200-1.83-.718-2.746-2.155-2.746-.704%200-1.254.232-1.65.697-.43.508-.646%201.256-.646%202.245%200%20.972.19%201.686.574%202.14.35.41.877.615%201.583.615.264%200%20.506-.033.725-.098l1.325.772.36-.622zM15.5%2017.588c-.225-.36-.337-.94-.337-1.736%200-1.393.424-2.09%201.27-2.09.443%200%20.77.167.977.5.224.362.336.936.336%201.723%200%201.404-.424%202.108-1.27%202.108-.445%200-.77-.167-.978-.5zm-1.658-.425c0%20.47-.172.856-.516%201.156-.344.3-.803.45-1.384.45-.543%200-1.064-.172-1.573-.515l.237-.476c.438.22.833.328%201.19.328.332%200%20.593-.073.783-.22a.754.754%200%2000.3-.615c0-.33-.23-.61-.648-.845-.388-.213-1.163-.657-1.163-.657-.422-.307-.632-.636-.632-1.177%200-.45.157-.81.47-1.085.315-.278.72-.415%201.22-.415.512%200%20.98.136%201.4.41l-.213.476a2.726%202.726%200%2000-1.064-.23c-.283%200-.502.068-.654.206a.685.685%200%2000-.248.524c0%20.328.234.61.666.85.393.215%201.187.67%201.187.67.433.305.648.63.648%201.168zm9.382-5.852c-.535-.014-.95.04-1.297.188-.1.04-.26.04-.274.167.055.053.063.14.11.214.08.134.218.313.346.407.14.11.28.216.427.31.26.16.555.255.81.416.145.094.293.213.44.313.073.05.12.14.214.172v-.02c-.046-.06-.06-.147-.105-.214-.067-.067-.134-.127-.2-.193a3.223%203.223%200%2000-.695-.675c-.214-.146-.682-.35-.77-.595l-.013-.014c.146-.013.32-.066.46-.106.227-.06.435-.047.67-.106.106-.027.213-.06.32-.094v-.06c-.12-.12-.21-.283-.334-.395a8.867%208.867%200%2000-1.104-.823c-.21-.134-.476-.22-.697-.334-.08-.04-.214-.06-.26-.127-.12-.146-.19-.34-.275-.514a17.69%2017.69%200%2001-.547-1.163c-.12-.262-.193-.523-.34-.763-.69-1.137-1.437-1.826-2.586-2.5-.247-.14-.543-.2-.856-.274-.167-.008-.334-.02-.5-.027-.11-.047-.216-.174-.31-.235-.38-.24-1.364-.76-1.644-.072-.18.434.267.862.422%201.082.115.153.26.328.34.5.047.116.06.235.107.356.106.294.207.622.347.897.073.14.153.287.247.413.054.073.146.107.167.227-.094.136-.1.334-.154.5-.24.757-.146%201.693.194%202.25.107.166.362.534.703.393.3-.12.234-.5.32-.835.02-.08.007-.133.048-.187v.015c.094.188.188.367.274.555.206.328.566.668.867.895.16.12.287.328.487.402v-.02h-.015c-.043-.058-.1-.086-.154-.133a3.445%203.445%200%2001-.35-.4%208.76%208.76%200%2001-.747-1.218c-.11-.21-.202-.436-.29-.643-.04-.08-.04-.2-.107-.24-.1.146-.247.273-.32.453-.127.288-.14.642-.188%201.01-.027.007-.014%200-.027.014-.214-.052-.287-.274-.367-.46-.2-.475-.233-1.238-.06-1.785.047-.14.247-.582.167-.716-.042-.127-.174-.2-.247-.303a2.478%202.478%200%2001-.24-.427c-.16-.374-.24-.788-.414-1.162-.08-.173-.22-.354-.334-.513-.127-.18-.267-.307-.368-.52-.033-.073-.08-.194-.027-.274.014-.054.042-.075.094-.09.088-.072.335.022.422.062.247.1.455.194.662.334.094.066.195.193.315.226h.14c.214.047.455.014.655.073.355.114.675.28.962.46a5.953%205.953%200%20012.085%202.286c.08.154.115.295.188.455.14.33.313.663.455.982.14.315.275.636.476.897.1.14.502.213.682.286.133.06.34.115.46.188.23.14.454.3.67.454.11.076.443.243.463.378z'/%3e%3c/svg%3e",Cy=""+new URL("postgresql-q8VEBKGg.svg",import.meta.url).href,JS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eAmazon%20Redshift%3c/title%3e%3cpath%20d='M16.639%209.932a.822.822%200%200%201-.822-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.823.82m-2.086%204.994a.823.823%200%200%201-.822-.822.822.822%200%200%201%201.645%200%20.822.822%200%200%201-.823.822m-5.004-.833a.822.822%200%201%201%20.002-1.644.822.822%200%200%201-.002%201.644m-2.083%204.578a.823.823%200%200%201-.823-.82.823.823%200%200%201%201.645%200c0%20.452-.37.82-.822.82m9.173-11.236a1.68%201.68%200%200%200-1.68%201.676c0%20.566.285%201.066.718%201.37l-.782%201.982a1.674%201.674%200%200%200-1.923%201.104l-1.753-.398a1.675%201.675%200%200%200-3.348.103c0%20.432.169.823.438%201.12l-.764%201.79c-.028-.001-.053-.008-.08-.008a1.68%201.68%200%200%200-1.68%201.676%201.68%201.68%200%200%200%203.36%200c0-.593-.312-1.112-.778-1.41l.674-1.579c.161.052.33.088.508.088.661%200%201.228-.386%201.502-.94l1.856.42a1.68%201.68%200%200%200%203.327-.325c0-.5-.224-.943-.574-1.25l.822-2.083c.053.005.104.016.157.016a1.68%201.68%200%200%200%201.68-1.676%201.68%201.68%200%200%200-1.68-1.676M12%2023.145c-4.17%200-7.286-1.252-7.286-2.37V4.79C6.14%205.938%209.131%206.547%2012%206.547c2.869%200%205.86-.609%207.286-1.756v15.983c0%201.12-3.116%202.37-7.286%202.37M12%20.856c4.293%200%207.286%201.274%207.286%202.419%200%201.143-2.993%202.418-7.286%202.418-4.293%200-7.286-1.275-7.286-2.418C4.714%202.129%207.707.855%2012%20.855m8.143%202.419C20.143%201.147%2015.947%200%2012%200%208.052%200%203.857%201.147%203.857%203.274l.002.01h-.002v17.49C3.857%2022.87%208.052%2024%2012%2024c3.947%200%208.143-1.13%208.143-3.226V3.284h-.002l.002-.01'/%3e%3c/svg%3e",XS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSnowflake%3c/title%3e%3cpath%20d='M24%203.459c0%20.646-.418%201.18-1.141%201.18-.723%200-1.142-.534-1.142-1.18%200-.647.419-1.18%201.142-1.18.723%200%201.141.533%201.141%201.18zm-.228%200c0-.533-.38-.951-.913-.951s-.913.38-.913.95c0%20.533.38.952.913.952.57%200%20.913-.419.913-.951zm-1.37-.533h.495c.266%200%20.456.152.456.38%200%20.153-.076.229-.19.305l.19.266v.038h-.266l-.19-.266h-.229v.266h-.266zm.495.228h-.229v.267h.229c.114%200%20.152-.038.152-.114.038-.077-.038-.153-.152-.153zM7.602%2012.4c.038-.151.076-.304.076-.456%200-.114-.038-.228-.038-.342-.114-.343-.304-.647-.646-.838l-4.87-2.777c-.685-.38-1.56-.152-1.94.533-.381.685-.153%201.56.532%201.94l2.701%201.56-2.701%201.56c-.685.38-.913%201.256-.533%201.94.38.685%201.256.914%201.94.533l4.832-2.777c.343-.267.571-.533.647-.876zm1.332%202.626c-.266-.038-.57.038-.837.19l-4.832%202.777c-.685.38-.913%201.256-.532%201.94.38.686%201.255.914%201.94.533l2.701-1.56v3.12c0%20.8.647%201.408%201.446%201.408.799%200%201.407-.647%201.407-1.408v-5.592c0-.761-.57-1.37-1.293-1.408zm4.946-6.088c.266.038.57-.038.837-.19l4.832-2.777c.685-.38.913-1.256.532-1.94-.38-.686-1.255-.914-1.94-.533l-2.701%201.56V1.975c0-.799-.647-1.408-1.446-1.408-.799%200-1.446.609-1.446%201.408V7.53c0%20.76.609%201.37%201.332%201.407zM3.265%205.97l4.832%202.777c.266.152.533.19.837.19.723-.038%201.331-.684%201.331-1.407V1.975c0-.799-.646-1.408-1.407-1.408-.799%200-1.446.647-1.446%201.408v3.12l-2.701-1.56c-.685-.38-1.56-.152-1.94.533-.419.646-.19%201.521.494%201.902zm9.093%206.011a.412.412%200%2000-.114-.266l-.57-.571a.346.346%200%2000-.267-.114.412.412%200%2000-.266.114l-.571.57a.411.411%200%2000-.114.267c0%20.076.038.19.114.267l.57.57a.345.345%200%2000.267.114c.076%200%20.19-.038.266-.114l.571-.57a.412.412%200%2000.114-.267zm1.598.533L11.94%2014.53c-.039.038-.153.114-.229.114h-.608a.411.411%200%2001-.267-.114L8.82%2012.514a.408.408%200%2001-.076-.229v-.608c0-.076.038-.19.114-.267l2.016-2.016a.41.41%200%2001.267-.114h.608a.41.41%200%2001.267.114l2.016%202.016a.347.347%200%2001.114.267v.608c-.076.077-.114.19-.19.229zm5.593%205.44l-4.832-2.777c-.266-.152-.57-.19-.837-.152-.723.038-1.332.684-1.332%201.408v5.554c0%20.8.647%201.408%201.408%201.408.799%200%201.446-.647%201.446-1.408v-3.12l2.7%201.56c.686.38%201.561.152%201.941-.533.419-.646.19-1.521-.494-1.94zm2.549-7.533l-2.701%201.56%202.7%201.56c.686.38.914%201.256.533%201.94-.38.685-1.255.913-1.94.533l-4.832-2.778a1.644%201.644%200%2001-.647-.798c-.037-.153-.076-.305-.076-.457%200-.114.039-.228.039-.342.114-.343.342-.647.646-.837l4.832-2.778c.685-.38%201.56-.152%201.94.533.457.609.19%201.484-.494%201.864'/%3e%3c/svg%3e",YS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eApache%20Spark%3c/title%3e%3cpath%20d='M10.812%200c-.425.013-.845.215-1.196.605a3.593%203.593%200%2000-.493.722c-.355.667-.425%201.415-.556%202.143a551.9%20551.9%200%2000-.726%204.087c-.027.16-.096.227-.244.273C5.83%208.386%204.06%208.94%202.3%209.514c-.387.125-.773.289-1.114.506-1.042.665-1.196%201.753-.415%202.71.346.422.79.715%201.284.936%201.1.49%202.202.976%203.3%201.47.019.01.036.013.053.019h-.004l1.306.535c0%20.023.002.045%200%20.073-.2%202.03-.39%204.063-.58%206.095-.04.419-.012.831.134%201.23.317.87%201.065%201.148%201.881.701.372-.204.666-.497.937-.818%201.372-1.623%202.746-3.244%204.113-4.872.111-.133.205-.15.363-.098.349.117.697.231%201.045.347h.001c.02.012.045.02.073.03l.142.042c1.248.416%202.68.775%203.929%201.19.4.132.622.164%201.045.098.311-.048.592-.062.828-.236.602-.33.995-.957.988-1.682-.005-.427-.154-.813-.35-1.186-.82-1.556-1.637-3.113-2.461-4.666-.078-.148-.076-.243.037-.375%201.381-1.615%202.756-3.236%204.133-4.855.272-.32.513-.658.653-1.058.308-.878-.09-1.57-1-1.741a2.783%202.783%200%2000-1.235.069c-1.974.521-3.947%201.041-5.918%201.57-.175.047-.26.015-.355-.144a353.08%20353.08%200%2000-2.421-4.018%204.61%204.61%200%2000-.652-.849c-.371-.37-.802-.549-1.227-.536zm.172%203.703a.592.592%200%2001.189.211c.87%201.446%201.742%202.89%202.609%204.338.07.118.135.16.277.121%201.525-.41%203.052-.813%204.579-1.217.367-.098.735-.193%201.103-.289a.399.399%200%2001-.1.2c-1.259%201.48-2.516%202.962-3.779%204.438-.11.13-.12.22-.04.37.937%201.803%201.768%203.309%202.498%204.76l-3.696-1.019c-.538-.18-1.077-.358-1.615-.539-.163-.055-.25-.03-.36.1-1.248%201.488-2.504%202.97-3.759%204.454a.398.398%200%2001-.18.132c.035-.378.068-.757.104-1.136.149-1.572.297-3.144.451-4.716-.03-.318.117-.405-.322-.545-1.493-.593-3.346-1.321-4.816-1.905a.595.595%200%2001.24-.134c1.797-.57%203.595-1.14%205.394-1.705.127-.04.199-.092.211-.233.013-.148.05-.294.076-.441.241-1.363.483-2.726.726-4.088.068-.386.14-.771.21-1.157z'/%3e%3c/svg%3e",ZS="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSQLite%3c/title%3e%3cpath%20d='M21.678.521c-1.032-.92-2.28-.55-3.513.544a8.71%208.71%200%200%200-.547.535c-2.109%202.237-4.066%206.38-4.674%209.544.237.48.422%201.093.544%201.561a13.044%2013.044%200%200%201%20.164.703s-.019-.071-.096-.296l-.05-.146a1.689%201.689%200%200%200-.033-.08c-.138-.32-.518-.995-.686-1.289-.143.423-.27.818-.376%201.176.484.884.778%202.4.778%202.4s-.025-.099-.147-.442c-.107-.303-.644-1.244-.772-1.464-.217.804-.304%201.346-.226%201.478.152.256.296.698.422%201.186.286%201.1.485%202.44.485%202.44l.017.224a22.41%2022.41%200%200%200%20.056%202.748c.095%201.146.273%202.13.5%202.657l.155-.084c-.334-1.038-.47-2.399-.41-3.967.09-2.398.642-5.29%201.661-8.304%201.723-4.55%204.113-8.201%206.3-9.945-1.993%201.8-4.692%207.63-5.5%209.788-.904%202.416-1.545%204.684-1.931%206.857.666-2.037%202.821-2.912%202.821-2.912s1.057-1.304%202.292-3.166c-.74.169-1.955.458-2.362.629-.6.251-.762.337-.762.337s1.945-1.184%203.613-1.72C21.695%207.9%2024.195%202.767%2021.678.521m-18.573.543A1.842%201.842%200%200%200%201.27%202.9v16.608a1.84%201.84%200%200%200%201.835%201.834h9.418a22.953%2022.953%200%200%201-.052-2.707c-.006-.062-.011-.141-.016-.2a27.01%2027.01%200%200%200-.473-2.378c-.121-.47-.275-.898-.369-1.057-.116-.197-.098-.31-.097-.432%200-.12.015-.245.037-.386a9.98%209.98%200%200%201%20.234-1.045l.217-.028c-.017-.035-.014-.065-.031-.097l-.041-.381a32.8%2032.8%200%200%201%20.382-1.194l.2-.019c-.008-.016-.01-.038-.018-.053l-.043-.316c.63-3.28%202.587-7.443%204.8-9.791.066-.069.133-.128.198-.194Z'/%3e%3c/svg%3e",eE="data:image/svg+xml,%3csvg%20role='img'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3ctitle%3eSupabase%3c/title%3e%3cpath%20d='M11.9%201.036c-.015-.986-1.26-1.41-1.874-.637L.764%2012.05C-.33%2013.427.65%2015.455%202.409%2015.455h9.579l.113%207.51c.014.985%201.259%201.408%201.873.636l9.262-11.653c1.093-1.375.113-3.403-1.645-3.403h-9.642z'/%3e%3c/svg%3e",tE="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3c!--%20Generated%20by%20Pixelmator%20Pro%203.6.17%20--%3e%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Option2SymbolB'%3e%3cg%20id='Layer1-2'%3e%3cg%20id='Group'%20opacity='0.4'%3e%3cpath%20id='Path'%20fill='%23d53c97'%20stroke='none'%20d='M%2017.016802%2012.188573%20C%2017.016802%209.607646%2015.86018%207.293022%2014.039526%205.731081%20C%2013.942595%205.70038%2013.844628%205.671406%2013.745972%205.645189%20C%2013.131133%205.809095%2012.54265%206.059378%2011.998103%206.388559%20C%2013.964327%207.575191%2015.281006%209.730104%2015.281006%2012.188573%20C%2015.279476%2014.563734%2014.033739%2016.764488%2011.998103%2017.988243%20C%2012.542634%2018.317537%2013.131119%2018.567936%2013.745972%2018.731958%20C%2013.844628%2018.705742%2013.942595%2018.67642%2014.039526%2018.645721%20C%2015.86018%2017.084126%2017.016802%2014.769501%2017.016802%2012.188573%20Z'/%3e%3cpath%20id='path1'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.897406%205.609659%20L%2013.894991%205.60759%20C%2013.844973%205.619663%2013.7953%205.631737%2013.745972%205.645189%20C%2013.79599%205.631737%2013.847043%205.622078%2013.897406%205.609659%20Z'/%3e%3cpath%20id='path2'%20fill='%23d53c97'%20stroke='none'%20d='M%201.735796%2012.188573%20C%201.735796%209.164728%203.728925%206.59622%206.470945%205.729357%20C%207.554634%204.797861%208.856011%204.155121%2010.254373%203.860756%20C%209.680216%203.740549%209.095179%203.679977%208.508574%203.68%20C%203.816888%203.68%20-0%207.496887%20-0%2012.188573%20C%20-0%2016.880259%203.816888%2020.697147%208.508574%2020.697147%20C%209.0952%2020.697229%209.680255%2020.636539%2010.254373%2020.516048%20C%208.855971%2020.221794%207.554568%2019.579041%206.470945%2018.647446%20C%203.728925%2017.780582%201.735796%2015.213453%201.735796%2012.188573%20Z'/%3e%3cpath%20id='path3'%20fill='%23d53c97'%20stroke='none'%20d='M%2013.745972%2018.731958%20C%2013.7953%2018.745068%2013.844973%2018.757484%2013.894991%2018.769558%20C%2013.894991%2018.769558%2013.896715%2018.769558%2013.897406%2018.767488%20C%2013.847043%2018.754379%2013.79599%2018.745411%2013.745972%2018.731958%20Z'/%3e%3c/g%3e%3cpath%20id='path4'%20fill='%23ff3b65'%20stroke='none'%20d='M%2020.508402%2012.188573%20C%2020.508402%209.606611%2019.351088%207.290262%2017.5294%205.729357%20C%2016.301817%205.342468%2014.989366%205.313629%2013.745972%205.646223%20C%2016.636665%206.418224%2018.772606%209.058484%2018.772606%2012.189609%20C%2018.772606%2015.320732%2016.636665%2017.960991%2013.745972%2018.731958%20C%2014.98947%2019.064316%2016.301983%2019.034998%2017.5294%2018.647446%20C%2019.419907%2017.034296%2020.508638%2014.673781%2020.508402%2012.188573%20Z'/%3e%3cpath%20id='path5'%20fill='%23ff3b65'%20stroke='none'%20d='M%209.962543%2018.647446%20C%207.220525%2017.780582%205.227395%2015.213453%205.227395%2012.188573%20C%205.227395%209.163693%207.220525%206.59622%209.962543%205.729357%20C%2011.046233%204.797861%2012.34761%204.155121%2013.745972%203.860756%20C%2013.171818%203.74053%2012.586779%203.679956%2012.000173%203.68%20C%207.308832%203.68%203.491599%207.496887%203.491599%2012.188573%20C%203.491599%2016.880259%207.308487%2020.697147%2012.000173%2020.697147%20C%2012.586799%2020.697247%2013.171857%2020.636557%2013.745972%2020.516048%20C%2012.34757%2020.221794%2011.046167%2019.579041%209.962543%2018.647446%20Z'/%3e%3cpath%20id='path6'%20fill='%23383838'%20stroke='none'%20d='M%2015.491772%203.68%20C%2010.800431%203.68%206.983198%207.496887%206.983198%2012.188573%20C%206.983198%2016.880259%2010.800086%2020.697147%2015.491772%2020.697147%20C%2020.183456%2020.697147%2024%2016.880259%2024%2012.188573%20C%2024%207.496887%2020.183456%203.68%2015.491772%203.68%20Z%20M%2022.264549%2012.188573%20C%2022.264549%2015.923018%2019.226215%2018.961351%2015.491772%2018.961351%20C%2011.757326%2018.961351%208.718994%2015.923018%208.718994%2012.188573%20C%208.718994%208.454128%2011.757326%205.415796%2015.491772%205.415796%20C%2019.226215%205.415796%2022.264549%208.454128%2022.264549%2012.188573%20Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",nE=""+new URL("trino-DFsJbQoT.svg",import.meta.url).href,rE=Qt(Fr(),1),iE={sqlite:ZS,duckdb:WS,motherduck:QS,postgres:Cy,postgresql:Cy,mysql:GS,snowflake:XS,databricks:VS,clickhouse:HS,timeplus:tE,bigquery:US,trino:nE,iceberg:KS,datafusion:$S,pyspark:YS,redshift:JS,supabase:eE};Kh=e=>{let n=(0,rE.c)(11),{name:i,className:o}=e,s=iE[i.toLowerCase()];if(!s){let p;n[0]===o?p=n[1]:(p=hu("mt-0.5",o),n[0]=o,n[1]=p);let m;return n[2]===p?m=n[3]:(m=(0,B.jsx)(ds,{className:p}),n[2]=p,n[3]=m),m}let c;n[4]!==o||n[5]!==s?(c=hu("invert-[.5] dark:invert-[.7]",o,s.endsWith(".png")&&"brightness-100 dark:brightness-100 invert-0 dark:invert-0"),n[4]=o,n[5]=s,n[6]=c):c=n[6];let d;return n[7]!==i||n[8]!==c||n[9]!==s?(d=(0,B.jsx)("img",{src:s,alt:i,className:c}),n[7]=i,n[8]=c,n[9]=s,n[10]=d):d=n[10],d};var tf=Qt(Fr(),1);const aE=e=>{let n=(0,tf.c)(27),{selectedEngine:i,onChange:o}=e,s=Kn(Ou),c=[],d=[];for(let[fe,xe]of s.entries())fs.has(fe)?c.push(xe):d.push(xe);let p=r4(),m=i&&!s.has(i),v;n[0]!==s||n[1]!==o||n[2]!==p?(v=fe=>{if(fe===Sy){window.open(Ey,"_blank");return}let xe=s.get(fe);xe&&(p(),o(xe.name),Um(xe.name))},n[0]=s,n[1]=o,n[2]=p,n[3]=v):v=n[3];let _=v,w=uE,C=HR,E;n[4]===Symbol.for("react.memo_cache_sentinel")?(E=(0,B.jsx)(sE,{children:(0,B.jsx)(qR,{placeholder:"Select an engine"})}),n[4]=E):E=n[4];let R=zR,M=FR,H;n[5]===Symbol.for("react.memo_cache_sentinel")?(H=(0,B.jsx)(AR,{children:"Database connections"}),n[5]=H):H=n[5];let W;n[6]!==m||n[7]!==i?(W=m&&(0,B.jsx)(ch,{value:i,children:(0,B.jsxs)("div",{className:"flex items-center gap-1 opacity-50",children:[(0,B.jsx)(Mh,{className:"h-3 w-3"}),(0,B.jsx)("span",{className:"truncate",children:Qm(i)})]})},i),n[6]=m,n[7]=i,n[8]=W):W=n[8];let U=w(d),I=d.length>0&&(0,B.jsx)(x2,{}),G=w(c),me;n[9]===Symbol.for("react.memo_cache_sentinel")?(me=(0,B.jsx)(x2,{}),n[9]=me):me=n[9];let N;n[10]===Symbol.for("react.memo_cache_sentinel")?(N=(0,B.jsx)(ch,{className:"text-muted-foreground",value:Sy,children:(0,B.jsxs)("a",{className:"flex items-center gap-1",href:Ey,target:"_blank",rel:"noreferrer",children:[(0,B.jsx)($R,{className:"h-3 w-3"}),(0,B.jsx)("span",{children:"How to add a database connection"})]})}),n[10]=N):N=n[10];let q;n[11]!==M||n[12]!==H||n[13]!==W||n[14]!==U||n[15]!==I||n[16]!==G?(q=(0,B.jsxs)(M,{children:[H,W,U,I,G,me,N]}),n[11]=M,n[12]=H,n[13]=W,n[14]=U,n[15]=I,n[16]=G,n[17]=q):q=n[17];let V;n[18]!==R||n[19]!==q?(V=(0,B.jsx)(R,{children:q}),n[18]=R,n[19]=q,n[20]=V):V=n[20];let de;return n[21]!==C||n[22]!==_||n[23]!==i||n[24]!==V||n[25]!==E?(de=(0,B.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,B.jsxs)(C,{value:i,onValueChange:_,children:[E,V]})}),n[21]=C,n[22]=_,n[23]=i,n[24]=V,n[25]=E,n[26]=de):de=n[26],de};var Sy="__help__",Ey="http://docs.marimo.io/guides/working_with_data/sql/#connecting-to-a-custom-database";const oE=()=>{let e=(0,tf.c)(16),{sqlMode:n,setSQLMode:i}=bS(),o;e[0]!==i||e[1]!==n?(o=()=>{let E=n==="validate"?"default":"validate";E==="default"&&fS(),i(E)},e[0]=i,e[1]=n,e[2]=o):o=e[2];let s=o,c=dE,d=fE,p;e[3]===n?p=e[4]:(p=d(n),e[3]=n,e[4]=p);let m;e[5]===n?m=e[6]:(m=c(n),e[5]=n,e[6]=m);let v=n==="validate"?"Validate":"Default",_;e[7]===v?_=e[8]:(_=(0,B.jsx)("span",{className:"ml-1",children:v}),e[7]=v,e[8]=_);let w;e[9]!==s||e[10]!==m||e[11]!==_?(w=(0,B.jsxs)(n2,{variant:"ghost",size:"sm",onClick:s,className:"h-5 px-1.5 text-xs border-border shadow-none hover:bg-accent",children:[m,_]}),e[9]=s,e[10]=m,e[11]=_,e[12]=w):w=e[12];let C;return e[13]!==p||e[14]!==w?(C=(0,B.jsx)("div",{className:"flex flex-row gap-1 items-center",children:(0,B.jsx)(hh,{delayDuration:300,content:p,children:w})}),e[13]=p,e[14]=w,e[15]=C):C=e[15],C};var sE=e=>{let n=(0,tf.c)(6),i,o;n[0]===e?(i=n[1],o=n[2]):({children:i,...o}=e,n[0]=e,n[1]=i,n[2]=o);let s;return n[3]!==i||n[4]!==o?(s=(0,B.jsx)(BR,{className:"text-xs border-border shadow-none! ring-0! h-5 px-1.5 hover:bg-accent transition-colors",...o,children:i}),n[3]=i,n[4]=o,n[5]=s):s=n[5],s};function lE(e){return e.source!=="iceberg"}function cE(e){return(0,B.jsx)(ch,{value:e.name,children:(0,B.jsxs)("div",{className:"flex items-center gap-1",children:[(0,B.jsx)(Kh,{className:"h-3 w-3",name:e.dialect}),(0,B.jsx)("span",{className:"truncate ml-0.5",children:Qm(e.display_name)})]})},e.name)}function uE(e){return e=e.filter(lE),e.map(cE)}function dE(e){return e==="validate"?(0,B.jsx)(xd,{className:"h-3 w-3"}):(0,B.jsx)(wd,{className:"h-3 w-3"})}function fE(e){return e==="validate"?(0,B.jsxs)("div",{className:"text-xs",children:[(0,B.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,B.jsx)(xd,{className:"h-3 w-3"}),"Validate Mode"]}),(0,B.jsx)("p",{children:"Queries are validated as you write them"})]}):(0,B.jsxs)("div",{className:"text-xs",children:[(0,B.jsxs)("div",{className:"font-semibold mb-1 flex flex-row items-center gap-1",children:[(0,B.jsx)(wd,{className:"h-3 w-3"}),"Default Mode"]}),(0,B.jsx)("p",{children:"Standard editing"})]})}var Ty=Qt(Fr(),1),Ry=()=>{let e=(0,Ty.c)(1),n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,B.jsx)("div",{className:"h-4 border-r border-border"}),e[0]=n):n=e[0],n};const pE=e=>{let n=(0,Ty.c)(99),{view:i}=e,o;n[0]===Symbol.for("react.memo_cache_sentinel")?(o={minWidth:50},n[0]=o):o=n[0];let{spanProps:s,inputProps:c}=jS(o),d;n[1]===i.state?d=n[2]:(d=i.state.field(Tr),n[1]=i.state,n[2]=d);let p=d,m;n[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,B.jsx)("div",{}),n[3]=m):m=n[3];let v=m,_=!1,w;n[4]===i?w=n[5]:(w=M=>{i.dispatch({effects:Pu.of(M),changes:{from:0,to:i.state.doc.length,insert:i.state.doc.toString()}})},n[4]=i,n[5]=w);let C=w;if(p instanceof $u){let M;n[6]===i.state?M=n[7]:(M=i.state.field(ii),n[6]=i.state,n[7]=M);let H=M;_=!0;let W;n[8]===C?W=n[9]:(W=De=>{let Le=Bh(De.currentTarget.value,!1);De.currentTarget.value=Le,C({dataframeName:Le})},n[8]=C,n[9]=W);let U=W,I;n[10]!==C||n[11]!==i?(I=De=>{C({engine:De}),xS(i,De)},n[10]=C,n[11]=i,n[12]=I):I=n[12];let G=I,me;n[13]===Symbol.for("react.memo_cache_sentinel")?(me=(0,B.jsx)("span",{className:"select-none",children:"Output variable: "}),n[13]=me):me=n[13];let N;n[14]===c?N=n[15]:(N=De=>{var Le;(Le=c.onChange)==null||Le.call(c,De)},n[14]=c,n[15]=N);let q;n[16]===U?q=n[17]:(q=De=>{De.key==="Enter"&&De.shiftKey&&U(De)},n[16]=U,n[17]=q);let V;n[18]!==c||n[19]!==H.dataframeName||n[20]!==U||n[21]!==q||n[22]!==N?(V=(0,B.jsx)("input",{...c,defaultValue:H.dataframeName,onChange:N,onBlur:U,onKeyDown:q,className:"min-w-14 w-auto border border-border rounded px-1 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring"}),n[18]=c,n[19]=H.dataframeName,n[20]=U,n[21]=q,n[22]=N,n[23]=V):V=n[23];let de;n[24]===s?de=n[25]:(de=(0,B.jsx)("span",{...s}),n[24]=s,n[25]=de);let fe;n[26]!==V||n[27]!==de?(fe=(0,B.jsxs)("label",{className:"flex gap-2 items-center",children:[me,V,de]}),n[26]=V,n[27]=de,n[28]=fe):fe=n[28];let xe;n[29]!==H.engine||n[30]!==G?(xe=(0,B.jsx)(aE,{selectedEngine:H.engine,onChange:G}),n[29]=H.engine,n[30]=G,n[31]=xe):xe=n[31];let Z;n[32]===H.engine?Z=n[33]:(Z=H.engine==="__marimo_duckdb"&&(0,B.jsx)(oE,{}),n[32]=H.engine,n[33]=Z);let be;n[34]!==H.engine||n[35]!==i?(be=async()=>{await hx(i,H.engine)},n[34]=H.engine,n[35]=i,n[36]=be):be=n[36];let Se;n[37]===Symbol.for("react.memo_cache_sentinel")?(Se=(0,B.jsx)(Sh,{className:"h-3 w-3"}),n[37]=Se):Se=n[37];let ne;n[38]===be?ne=n[39]:(ne=(0,B.jsx)(hh,{content:"Format SQL",children:(0,B.jsx)(n2,{variant:"text",size:"icon",onClick:be,children:Se})}),n[38]=be,n[39]=ne);let ie;n[40]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,B.jsx)(Ry,{}),n[40]=ie):ie=n[40];let le;n[41]===C?le=n[42]:(le=De=>{C({showOutput:!De.target.checked})},n[41]=C,n[42]=le);let K=!H.showOutput,Ne;n[43]!==le||n[44]!==K?(Ne=(0,B.jsx)("input",{type:"checkbox",onChange:le,checked:K}),n[43]=le,n[44]=K,n[45]=Ne):Ne=n[45];let Ue;n[46]===Symbol.for("react.memo_cache_sentinel")?(Ue=(0,B.jsx)("span",{className:"select-none",children:"Hide output"}),n[46]=Ue):Ue=n[46];let ot;n[47]===Ne?ot=n[48]:(ot=(0,B.jsxs)("label",{className:"flex items-center gap-2",children:[Ne,Ue]}),n[47]=Ne,n[48]=ot);let ze;n[49]!==Z||n[50]!==ne||n[51]!==ot?(ze=(0,B.jsxs)("div",{className:"flex items-center gap-2 ml-auto",children:[Z,ne,ie,ot]}),n[49]=Z,n[50]=ne,n[51]=ot,n[52]=ze):ze=n[52];let He;n[53]!==fe||n[54]!==xe||n[55]!==ze?(He=(0,B.jsxs)("div",{className:"flex flex-1 gap-2 items-center",children:[fe,xe,ze]}),n[53]=fe,n[54]=xe,n[55]=ze,n[56]=He):He=n[56],v=He}if(p instanceof rd){_=!0;let M,H,W,U,I,G,me,N,q,V;if(n[57]!==C||n[58]!==i.state){let{quotePrefix:le}=i.state.field(ii);H=le,H===void 0&&(H="r",C({quotePrefix:H})),V=(K,Ne)=>{typeof Ne=="boolean"&&C({quotePrefix:FS({currentQuotePrefix:H,checked:Ne,prefix:K})})},W="flex flex-row w-full justify-end gap-1.5 items-center",N="flex items-center gap-1.5",n[69]===Symbol.for("react.memo_cache_sentinel")?(q=(0,B.jsx)("span",{children:"r"}),n[69]=q):q=n[69],M=Fl,I="Toggle raw string",G="w-3 h-3",me=H.includes("r"),U=K=>{V("r",K)},n[57]=C,n[58]=i.state,n[59]=M,n[60]=H,n[61]=W,n[62]=U,n[63]=I,n[64]=G,n[65]=me,n[66]=N,n[67]=q,n[68]=V}else M=n[59],H=n[60],W=n[61],U=n[62],I=n[63],G=n[64],me=n[65],N=n[66],q=n[67],V=n[68];let de;n[70]!==M||n[71]!==U||n[72]!==I||n[73]!==G||n[74]!==me?(de=(0,B.jsx)(M,{"aria-label":I,className:G,checked:me,onCheckedChange:U}),n[70]=M,n[71]=U,n[72]=I,n[73]=G,n[74]=me,n[75]=de):de=n[75];let fe;n[76]!==de||n[77]!==N||n[78]!==q?(fe=(0,B.jsxs)("div",{className:N,children:[q,de]}),n[76]=de,n[77]=N,n[78]=q,n[79]=fe):fe=n[79];let xe;n[80]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,B.jsx)("span",{children:"f"}),n[80]=xe):xe=n[80];let Z;n[81]===H?Z=n[82]:(Z=H.includes("f"),n[81]=H,n[82]=Z);let be;n[83]===V?be=n[84]:(be=le=>{V("f",le)},n[83]=V,n[84]=be);let Se;n[85]!==Z||n[86]!==be?(Se=(0,B.jsxs)("div",{className:"flex items-center gap-1.5",children:[xe,(0,B.jsx)(Fl,{"aria-label":"Toggle f-string",className:"w-3 h-3",checked:Z,onCheckedChange:be})]}),n[85]=Z,n[86]=be,n[87]=Se):Se=n[87];let ne;n[88]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,B.jsx)(hh,{content:(0,B.jsx)(BS,{}),children:(0,B.jsx)(Nu,{className:"w-3 h-3"})}),n[88]=ne):ne=n[88];let ie;n[89]!==W||n[90]!==fe||n[91]!==Se?(ie=(0,B.jsxs)("div",{className:W,children:[fe,Se,ne]}),n[89]=W,n[90]=fe,n[91]=Se,n[92]=ie):ie=n[92],v=ie}let E;n[93]===_?E=n[94]:(E=_&&(0,B.jsx)(Ry,{}),n[93]=_,n[94]=E);let R;return n[95]!==v||n[96]!==p.type||n[97]!==E?(R=(0,B.jsx)(n4,{children:(0,B.jsxs)("div",{className:"flex justify-between items-center gap-4 pl-2 pt-2",children:[v,E,p.type]})}),n[95]=v,n[96]=p.type,n[97]=E,n[98]=R):R=n[98],R};var nf=new mu;nd=no.define(),Tr=yu.define({create(){return fr.python},update(e,n){for(let i of n.effects)if(i.is(nd))return i.value;return e},provide:e=>ih.from(e,n=>n.type==="python"?null:i=>yx(i,pE))});function hE(){let e=PS(),n=(i,o)=>{let s=e[o%e.length];return s.isSupported(i)?s:n(i,o+1)};return[ro.of([{key:"F4",preventDefault:!0,run:i=>{let o=i.state.field(Tr),s=e.findIndex(d=>d.type===o.type),c=n(i.state.doc.toString(),s+1);return o===c?!1:(Dy({view:i,nextLanguage:c,opts:{keepCodeAsIs:!1}}),!0)}}])]}function Dy({view:e,nextLanguage:n,opts:i}){let o=e.state.field(Tr),s=e.state.doc.toString(),c=e.state.facet(zm),d=e.state.facet(Fm),p=e.state.facet(vd),m=e.state.facet(bd),v=e.state.facet(Bm),_=e.state.field(ii),w=e.state.selection.main.head,C;if(i.keepCodeAsIs)C=s,o.type!==n.type&&(_={...n.defaultMetadata});else{let[E,R]=o.transformOut(s,_),[M,H,W]=n.transformIn(E);w+=R,w-=H,w=oh(w,0,M.length),C=M,_=W}e.dispatch({effects:[nd.of(n),ju.of(_),nf.reconfigure(n.getExtension(m,c,d,p,v)),Ju.reconfigure([]),vs.of(!0)],changes:i.keepCodeAsIs?void 0:{from:0,to:e.state.doc.length,insert:C},selection:i.keepCodeAsIs?void 0:fn.cursor(w)}),e.dispatch({effects:[Ju.reconfigure([pR()])]}),n.type==="sql"&&kS(e)}F_=function(e){let{placeholderType:n,completionConfig:i,hotkeys:o,cellId:s,lspConfig:c}=e;return[hE(),nf.of(fr.python.getExtension(s,i,o,n,c)),Tr,ii]},Q_=function(e){return mE(ai({state:e}).trim())};function mE(e){return e?fr.markdown.isSupported(e)?fr.markdown:fr.sql.isSupported(e)?fr.sql:fr.python:fr.python}Uh=function(e,n){e.state.field(Tr).type!==n.language&&Dy({view:e,nextLanguage:fr[n.language],opts:{keepCodeAsIs:n.keepCodeAsIs??!1}})},I_=function(e,{completionConfig:n,hotkeysProvider:i,lspConfig:o}){let s=e.state.field(Tr),c=e.state.facet(vd),d=e.state.facet(bd);return nf.reconfigure(s.getExtension(d,n,i,c,o))},ai=function(e,n,i){let o=e.state.field(Tr),s=e.state.field(ii),c=e.state.doc.toString();return n===void 0?o.transformOut(c,s)[0]:o.transformOut(c.slice(n,i),s)[0]},ps=function(e,n){let[i]=e.state.field(Tr).transformIn(n);return Hu(e,i),i};function gE(e){let n=e.state.selection.main.head,i=e.state.doc.toString(),o=i.length>0&&i[n-1]===`
`,s=i.length>0&&i[n]===`
`,c=o?n-1:n,d=s?n+1:n;return{beforeCursorCode:ai(e,0,c),afterCursorCode:ai(e,d)}}var yE=["marimo-carousel","marimo-tabs","marimo-accordion"];function vE(e){if(typeof DOMParser>"u")return null;let n=[],i=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3");for(let o of Array.from(i)){let s=o.textContent;if(yE.some(d=>o.closest(d))||!s)continue;let c=Number.parseInt(o.tagName[1],10);n.push({name:s,level:c,by:Zh(o)})}return{items:n}}Zh=function(e){let n=e.id;if(n)return{id:n};let i=e.textContent;return{path:`//${e.tagName}[contains(., "${i}")]`}};function bE(e){return{items:e.filter(Boolean).flatMap(n=>n.items)}}rm=function(e){if(e==null||e.mimetype!=="text/html"&&e.mimetype!=="text/markdown"||e.data==null)return null;try{return Ln(typeof e.data=="string","expected string"),vE(e.data)}catch{return Oe.error("Failed to parse outline"),null}},J_=function(e){return e==null?!1:e.items.some(n=>n.level<=3)};function Oy(e,n){let i=d=>d.items.length===0?7:Math.min(...d.items.map(p=>p.level)),o=n[e];if(o==null||o.items.length===0)return Oe.warn("Failed to find a starting outline"),null;let s=i(o),c=e+1;for(;c<n.length;){let d=n[c];if(d&&i(d)<=s)return[e,c-1];c++}return[e,n.length-1]}Wu=function(e){return e==="application/vnd.marimo+error"||e==="application/vnd.marimo+traceback"};function _E(e,n){if(typeof window>"u")return;let i=`__marimo__${n}`;window[i]&&Oe.warn(`Overwriting existing debug object ${i}`),window[i]=e}var wE={markdown:!0,wasm_layouts:!1,rtc_v2:!1,performant_table_charts:!1,chat_modes:!1,cache_panel:!1,external_agents:!1};ku=function(e){var n,i;return((i=(n=rh())==null?void 0:n.experimental)==null?void 0:i[e])??wE[e]};function xE(e,n){let i=rh();i.experimental=i.experimental??{},i.experimental[e]=n,Di().saveUserConfig({config:i})}Z2=({feature:e,children:n})=>ku(e)?n:null,_E(xE,"setFeatureFlag"),c_=Iu("marimo:rtc:username","",qu),Ah=zh(()=>ku("rtc_v2"));let rf,Py,af,_s;jh=class ad{static fromMilliseconds(n){return n==null?null:new ad(n)}static fromSeconds(n){return n==null?null:new ad(n*1e3)}static now(){return new ad(Date.now())}constructor(n){this.ms=n}toMilliseconds(){return this.ms}toSeconds(){return this.ms/1e3}},rf=(Sa=class{constructor(){Te(this,"lines",[""]);Te(this,"cursor",{row:0,col:0})}ensureLine(n){for(;this.lines.length<=n;)this.lines.push("")}moveCursor(n,i){let o=this.cursor.row;this.cursor.row=Math.max(0,this.cursor.row+n),this.cursor.col=Math.max(0,this.cursor.col+i),this.ensureLine(this.cursor.row),n<0&&this.cursor.row<o&&this.lines.splice(this.cursor.row+1)}setCursor(n,i){this.cursor.row=Math.max(0,n),this.cursor.col=Math.max(0,i),this.ensureLine(this.cursor.row)}writeChar(n){this.ensureLine(this.cursor.row);let i=this.lines[this.cursor.row].padEnd(this.cursor.col," ");this.lines[this.cursor.row]=i.slice(0,this.cursor.col)+n+i.slice(this.cursor.col+1),this.cursor.col++}writeString(n){if(n.length===0)return;this.ensureLine(this.cursor.row);let i=this.lines[this.cursor.row].padEnd(this.cursor.col," ");this.lines[this.cursor.row]=i.slice(0,this.cursor.col)+n+i.slice(this.cursor.col+n.length),this.cursor.col+=n.length}control(n){switch(n){case`
`:this.cursor.row++,this.cursor.col=0,this.ensureLine(this.cursor.row);break;case"\r":this.cursor.col=0;break;case"	":this.writeChar("	");break}}handleEscape(n){let i=Sa.ESCAPE_REGEX.exec(n);if(!i)return;let o=i[1].split(";").map(s=>s===""?1:Number.parseInt(s,10));switch(i[2]){case"A":this.moveCursor(-o[0],0);break;case"B":this.moveCursor(o[0],0);break;case"C":this.moveCursor(0,o[0]);break;case"D":this.moveCursor(0,-o[0]);break;case"H":this.setCursor(o[0]-1||0,o[1]-1||0);break;case"J":o[0]===2&&(this.lines=[""],this.setCursor(0,0));break;case"K":switch(this.ensureLine(this.cursor.row),o[0]){case 0:this.lines[this.cursor.row]=this.lines[this.cursor.row].slice(0,this.cursor.col);break;case 1:{let s=this.lines[this.cursor.row].length;this.lines[this.cursor.row]=" ".repeat(this.cursor.col)+this.lines[this.cursor.row].slice(this.cursor.col,s);break}case 2:this.lines[this.cursor.row]="";break}break}}render(){return this.lines.join(`
`)}},Te(Sa,"ESCAPE_REGEX",/\u001B\[([0-9;]*)([A-DJKH])/u),Sa),Py=class{constructor(){Te(this,"ESC_REGEX",/\u001B\[[0-9;]*[A-Za-z]/gu)}parse(e){let n=[],i=0;for(let o of e.matchAll(this.ESC_REGEX)){let s=o.index??0;s>i&&n.push({type:"text",value:e.slice(i,s)}),n.push({type:"escape",value:o[0]}),i=s+o[0].length}return i<e.length&&n.push({type:"text",value:e.slice(i)}),n}},af=class{constructor(){Te(this,"parser",new Py);Te(this,"buffer",new rf)}reduce(e){return this.reset(),this.append(e),this.render()}append(e){let n=this.parser.parse(e);if(n.length===1&&n[0].type==="text"){let i=n[0].value;if(!this.hasControlChars(i)){this.buffer.writeString(i);return}}for(let i of n)i.type==="text"?this.processText(i.value):this.buffer.handleEscape(i.value)}reset(){this.buffer=new rf}render(){return this.buffer.render()}hasControlChars(e){for(let n of e)if(n<" ")return!0;return!1}processText(e){let n=0,i=e.length;for(let o=0;o<i;o++){let s=e[o];if(s===`
`||s==="\r"||s==="	"){if(o>n){let c=e.slice(n,o),d=this.filterControlChars(c);d.length>0&&this.buffer.writeString(d)}this.buffer.control(s),n=o+1}else if(s<" "){if(o>n){let c=e.slice(n,o);c.length>0&&this.buffer.writeString(c)}n=o+1}}if(n<i){let o=e.slice(n),s=this.filterControlChars(o);s.length>0&&this.buffer.writeString(s)}}filterControlChars(e){let n=!1;for(let o of e)if(o<" "){n=!0;break}if(!n)return e;let i="";for(let o of e)o>=" "&&(i+=o);return i}},_s=class lm{constructor(n,i,o,s){Te(this,"ansiReducer",new af);this.mimetype=n,this.channel=i,this.timestamp=o,this.ansiReducer=s,this._data=this.ansiReducer.render()}get data(){return this._data}static create(n){let i=new af;return i.append(n.data),new lm(n.mimetype,n.channel,n.timestamp,i)}appendData(n){return this.ansiReducer.append(n),new lm(this.mimetype,this.channel,this.timestamp,this.ansiReducer)}toJSON(){return{mimetype:this.mimetype,channel:this.channel,timestamp:this.timestamp,data:this.data}}};function kE(e,n=5e3){let i=[...e];if(i.length<2)return Ly(i.map(SE),n);let o=i[i.length-1],s=i[i.length-2];return CE(o,s)&&(Ny(o),Ny(s),i[i.length-2]=EE(s,o),i.pop()),Ly(i,n)}function CE(e,n){let i=e.mimetype==="text/plain"&&n.mimetype==="text/plain";if(!i)return!1;let o=e.channel===n.channel,s=e.channel!=="stdin";return i&&o&&s}function SE(e){return e instanceof _s?e:typeof e.data=="string"?_s.create(e):e}function EE(e,n){return e instanceof _s?e.appendData(n.data):_s.create(e).appendData(n.data)}function Ny(e){Ln(typeof e.data=="string","expected string output")}function Ly(e,n){let i=0,o;for(o=e.length-1;o>=0&&i<n;o--){let p=e[o];p.mimetype==="text/plain"?(Ln(typeof p.data=="string","expected string"),i+=p.data.split(`
`).length):i++}if(i<n)return e;let s=o+1,c={channel:"stderr",mimetype:"text/html",data:`<pre>Streaming output truncated to last ${n} lines.
</pre>`,timestamp:-1},d=e[s];if(d.mimetype==="text/plain"){Ln(typeof d.data=="string","expected string");let p=d.data.split(`
`),m=n-(i-p.length);return[c,{...d,data:p.slice(-m).join(`
`)},...e.slice(s+1)]}return[c,...e.slice(s+1)]}function TE(e,n){let i={...e};switch(n.status){case"queued":i.interrupted=!1,i.errored=!1,i.runElapsedTimeMs=null,i.debuggerActive=!1;break;case"running":i.interrupted=!1,e.stopped&&(i.output=null),i.status==="queued"&&(i.consoleOutputs=[]),i.stopped=!1,i.runStartTimestamp=n.timestamp,i.lastRunStartTimestamp=n.timestamp;break;case"idle":e.runStartTimestamp&&(i.runElapsedTimeMs=jh.fromSeconds((n.timestamp??0)-e.runStartTimestamp).toMilliseconds(),i.runStartTimestamp=null,i.staleInputs=!1),!e.lastRunStartTimestamp&&n.timestamp&&(i.lastRunStartTimestamp=n.timestamp),i.debuggerActive=!1;break;case null:break;case"disabled-transitively":break;case void 0:break;default:as(n.status)}i.output=n.output??i.output,i.staleInputs=n.stale_inputs??i.staleInputs,i.status=n.status??i.status,i.serialization=n.serialization;let o=!1;n.output!=null&&n.output.mimetype==="application/vnd.marimo+error"&&((i.status==="queued"||i.status==="running")&&(i.status="idle"),Ln(Array.isArray(n.output.data),"Expected error output data to be an array"),n.output.data.some(p=>p.type==="interruption")?(i.interrupted=!0,o=!0):n.output.data.some(p=>p.type.includes("ancestor"))?i.stopped=!0:i.errored=!0);let s=e.consoleOutputs;o&&(i.debuggerActive=!1,s=s.map(p=>p.channel==="stdin"?{...p,response:p.response??""}:p));let c=n.console;c!=null&&(s=kE(Array.isArray(c)?c:[...s,c])),i.consoleOutputs=s,i.outline=rm(i.output);let d=[n.console].flat().filter(Boolean).filter(p=>p.channel==="pdb");return d.length>0&&d.some(p=>p.data==="start")&&(i.debuggerActive=!0),i}function RE(e){let n={...e};return e.status!=="disabled-transitively"&&(n.status="queued"),n.interrupted=!1,n.errored=!1,n.runElapsedTimeMs=null,n.debuggerActive=!1,n}nm=function(e){return e==="running"||e==="queued"},F2=function(e,n){let{status:i,output:o,runStartTimestamp:s,interrupted:c,staleInputs:d}=e;if(c)return!1;if(n)return!0;let p=nm(i),m=i==="running"&&o!==null&&s!==null&&(o.timestamp??0)>s;return p&&!m?!0:d};function DE(e,n){return VR(e*1e3,n==null?void 0:n.in)}var of=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},Mt;(function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"})(Mt||(Mt={})),kh=class{constructor(){this.VERSION="6.0.6",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_allowlist={http:1,https:1},this._escape_html=!0,this.boldStyle="font-weight:bold",this.faintStyle="opacity:0.7",this.italicStyle="font-style:italic",this.underlineStyle="text-decoration:underline"}set use_classes(e){this._use_classes=e}get use_classes(){return this._use_classes}set url_allowlist(e){this._url_allowlist=e}get url_allowlist(){return this._url_allowlist}set escape_html(e){this._escape_html=e}get escape_html(){return this._escape_html}set boldStyle(e){this._boldStyle=e}get boldStyle(){return this._boldStyle}set faintStyle(e){this._faintStyle=e}get faintStyle(){return this._faintStyle}set italicStyle(e){this._italicStyle=e}get italicStyle(){return this._italicStyle}set underlineStyle(e){this._underlineStyle=e}get underlineStyle(){return this._underlineStyle}setup_palettes(){this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(i=>{i.forEach(o=>{this.palette_256.push(o)})});let e=[0,95,135,175,215,255];for(let i=0;i<6;++i)for(let o=0;o<6;++o)for(let s=0;s<6;++s){let c={rgb:[e[i],e[o],e[s]],class_name:"truecolor"};this.palette_256.push(c)}let n=8;for(let i=0;i<24;++i,n+=10){let o={rgb:[n,n,n],class_name:"truecolor"};this.palette_256.push(o)}}escape_txt_for_html(e){return this._escape_html?e.replace(/[&<>"']/gm,n=>{if(n==="&")return"&amp;";if(n==="<")return"&lt;";if(n===">")return"&gt;";if(n==='"')return"&quot;";if(n==="'")return"&#x27;"}):e}append_buffer(e){this._buffer+=e}get_next_packet(){var e={kind:Mt.EOS,text:"",url:""},n=this._buffer.length;if(n==0)return e;var i=this._buffer.indexOf("\x1B");if(i==-1)return e.kind=Mt.Text,e.text=this._buffer,this._buffer="",e;if(i>0)return e.kind=Mt.Text,e.text=this._buffer.slice(0,i),this._buffer=this._buffer.slice(i),e;if(i==0){if(n<3)return e.kind=Mt.Incomplete,e;var o=this._buffer.charAt(1);if(o!="["&&o!="]"&&o!="(")return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;if(o=="["){this._csi_regex||(this._csi_regex=My(PE||(PE=of([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `]))));let c=this._buffer.match(this._csi_regex);if(c===null)return e.kind=Mt.Incomplete,e;if(c[4])return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;c[1]!=""||c[3]!="m"?e.kind=Mt.Unknown:e.kind=Mt.SGR,e.text=c[2];var s=c[0].length;return this._buffer=this._buffer.slice(s),e}else if(o=="]"){if(n<4)return e.kind=Mt.Incomplete,e;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;this._osc_st||(this._osc_st=OE(NE||(NE=of([`
                        (?:                         # legal sequence
                          (\x1B)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `])))),this._osc_st.lastIndex=0;{let p=this._osc_st.exec(this._buffer);if(p===null)return e.kind=Mt.Incomplete,e;if(p[3])return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e}{let p=this._osc_st.exec(this._buffer);if(p===null)return e.kind=Mt.Incomplete,e;if(p[3])return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e}this._osc_regex||(this._osc_regex=My(LE||(LE=of([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `]))));let c=this._buffer.match(this._osc_regex);if(c===null)return e.kind=Mt.ESC,e.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),e;e.kind=Mt.OSCURL,e.url=c[1],e.text=c[2];var s=c[0].length;return this._buffer=this._buffer.slice(s),e}else if(o=="(")return e.kind=Mt.Unknown,this._buffer=this._buffer.slice(3),e}}ansi_to_html(e){this.append_buffer(e);for(var n=[];;){var i=this.get_next_packet();if(i.kind==Mt.EOS||i.kind==Mt.Incomplete)break;i.kind==Mt.ESC||i.kind==Mt.Unknown||(i.kind==Mt.Text?n.push(this.transform_to_html(this.with_state(i))):i.kind==Mt.SGR?this.process_ansi(i):i.kind==Mt.OSCURL&&n.push(this.process_hyperlink(i)))}return n.join("")}with_state(e){return{bold:this.bold,faint:this.faint,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:e.text}}process_ansi(e){let n=e.text.split(";");for(;n.length>0;){let i=n.shift(),o=parseInt(i,10);if(isNaN(o)||o===0)this.fg=null,this.bg=null,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1;else if(o===1)this.bold=!0;else if(o===2)this.faint=!0;else if(o===3)this.italic=!0;else if(o===4)this.underline=!0;else if(o===21)this.bold=!1;else if(o===22)this.faint=!1,this.bold=!1;else if(o===23)this.italic=!1;else if(o===24)this.underline=!1;else if(o===39)this.fg=null;else if(o===49)this.bg=null;else if(o>=30&&o<38)this.fg=this.ansi_colors[0][o-30];else if(o>=40&&o<48)this.bg=this.ansi_colors[0][o-40];else if(o>=90&&o<98)this.fg=this.ansi_colors[1][o-90];else if(o>=100&&o<108)this.bg=this.ansi_colors[1][o-100];else if((o===38||o===48)&&n.length>0){let s=o===38,c=n.shift();if(c==="5"&&n.length>0){let d=parseInt(n.shift(),10);d>=0&&d<=255&&(s?this.fg=this.palette_256[d]:this.bg=this.palette_256[d])}if(c==="2"&&n.length>2){let d=parseInt(n.shift(),10),p=parseInt(n.shift(),10),m=parseInt(n.shift(),10);if(d>=0&&d<=255&&p>=0&&p<=255&&m>=0&&m<=255){let v={rgb:[d,p,m],class_name:"truecolor"};s?this.fg=v:this.bg=v}}}}}transform_to_html(e){let n=e.text;if(n.length===0||(n=this.escape_txt_for_html(n),!e.bold&&!e.italic&&!e.faint&&!e.underline&&e.fg===null&&e.bg===null))return n;let i=[],o=[],s=e.fg,c=e.bg;e.bold&&i.push(this._boldStyle),e.faint&&i.push(this._faintStyle),e.italic&&i.push(this._italicStyle),e.underline&&i.push(this._underlineStyle),this._use_classes?(s&&(s.class_name==="truecolor"?i.push(`color:rgb(${s.rgb.join(",")})`):o.push(`${s.class_name}-fg`)),c&&(c.class_name==="truecolor"?i.push(`background-color:rgb(${c.rgb.join(",")})`):o.push(`${c.class_name}-bg`))):(s&&i.push(`color:rgb(${s.rgb.join(",")})`),c&&i.push(`background-color:rgb(${c.rgb})`));let d="",p="";return o.length&&(d=` class="${o.join(" ")}"`),i.length&&(p=` style="${i.join(";")}"`),`<span${p}${d}>${n}</span>`}process_hyperlink(e){let n=e.url.split(":");return n.length<1||!this._url_allowlist[n[0]]?"":`<a href="${this.escape_txt_for_html(e.url)}">${this.escape_txt_for_html(e.text)}</a>`}};function My(e,...n){let i=e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(i)}function OE(e,...n){let i=e.raw[0].replace(/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,"");return new RegExp(i,"g")}var PE,NE,LE,ME=new kh;Du=function(e){try{let n=document.createElement("div");return n.innerHTML=e,(n.textContent||n.innerText||"").split(`
`).map(i=>i.trimEnd()).join(`
`)}catch(n){return Oe.error("Error parsing HTML content:",n),e}},o_=function(e){if(!e)return"";try{return Du(ME.ansi_to_html(e))}catch(n){return Oe.error("Error converting ANSI to plain text:",n),e}},Oh={startCase:e=>{if(!e)return"";if(typeof e!="string")throw Oe.error(e),TypeError(`Expected string, got ${typeof e}`);return/[A-Za-z]/.test(e)?FT(e):e},htmlEscape:e=>e&&e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;").replaceAll(`
`," "),withTrailingSlash(e){return e.endsWith("/")?e:`${e}/`},withoutTrailingSlash(e){return e.endsWith("/")?e.slice(0,-1):e},withoutLeadingSlash(e){return e.startsWith("/")?e.slice(1):e},asString:e=>{if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}};var Iy=!1;function IE(e){var o;let n=[],i=[e.console].filter(Boolean).flat();for(let s of i){let c=s.mimetype==="text/plain",d=s.mimetype==="text/html"||s.mimetype==="application/vnd.marimo+traceback";if(c||d){let p=s.channel==="stderr"||s.channel==="marimo-error";switch(s.channel){case"stdout":case"stderr":case"marimo-error":{let m=Oh.asString(s.data),v=d?Du(m):m;n.push({timestamp:s.timestamp||Date.now(),level:p?"stderr":"stdout",message:v,cellId:e.cell_id});break}default:break}}}if(n.forEach(Ay.log),i.length===0&&Wu((o=e.output)==null?void 0:o.mimetype)&&Array.isArray(e.output.data)){e.output.data.forEach(c=>{Ay.log({level:"stderr",cellId:e.cell_id,timestamp:e.timestamp??0,message:JSON.stringify(c)})});let s=e.output.data.some(c=>c.type==="internal");!Iy&&s&&(Iy=!0,xu({title:"An internal error occurred",description:"See console for details.",className:"text-xs text-background bg-(--red-10) py-2 pl-3 *:flex *:gap-3"}))}return n}var Ay={log:e=>{let n=e.level==="stdout"?"gray":e.level==="stderr"?"red":"orange",i=e.level.toUpperCase();console.log(`%c[${i}]`,`color:${n}; padding:2px 0; border-radius:2px; font-weight:bold`,`[${_h(e.timestamp)}]`,`(${e.cellId}) ${e.message}`)}};_h=function(e){try{return DE(e).toLocaleTimeString(void 0,{hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"})}catch{return""}},O2=function(e,n){var o,s;let i=(s=(o=e.get(ht).cellHandles[n])==null?void 0:o.current)==null?void 0:s.editorView;i?i.focus():Oe.warn(`[CellFocusManager] focusCellEditor: element not found: ${n}`)},uw=function(e){let n=document.getElementById(dr.create(e));n?sf(n):Oe.warn(`[CellFocusManager] focusCell: element not found: ${e}`)},Lh=function(){return document.activeElement instanceof HTMLElement&&document.activeElement.classList.contains("marimo-cell")};function sf(e){try{e.focus()}catch{Oe.warn("[CellFocusManager] element may not be focusable",e)}}Th=function(e,n){let{retries:i,delay:o,initialDelay:s=0}=n,c=0,d=()=>{if(c<i){try{if(e())return}catch(p){Oe.error(`Error executing function on attempt ${c+1}, retrying`,{error:p})}c++,setTimeout(d,o)}};s>0?setTimeout(d,s):d()};function ws({cellId:e,cell:n,isCodeHidden:i,codeFocus:o,variableName:s}){var d;if(!n)return;let c=document.getElementById(dr.create(e));if(!c){Oe.warn("scrollCellIntoView: element not found");return}if(Lh()){sf(c);return}if(i)sf(c);else{let p=(d=n.current)==null?void 0:d.editorView;if(!p){Oe.warn("scrollCellIntoView: editor not found",e);return}if(p.hasFocus)return;if(Th(()=>(p.focus(),p.hasFocus),{retries:5,delay:20}),o==="top")p.dispatch({selection:{anchor:0,head:0}});else if(o==="bottom"){let m=p.state.doc.line(p.state.doc.lines);p.dispatch({selection:{anchor:m.from,head:m.from}})}else s&&td(p,s)}c.scrollIntoView({behavior:"smooth",block:"nearest"})}V2=function(e){let n=document.getElementById(dr.create(e));if(!n){Oe.warn("scrollCellIntoView: element not found");return}n.classList.add("focus-outline"),setTimeout(()=>{n.classList.remove("focus-outline")},2e3),n.scrollIntoView({behavior:"smooth",block:"center"})};function AE(){let e=document.getElementById("App");e==null||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}function qE(){var e;(e=document.getElementById("App"))==null||e.scrollTo({top:0,behavior:"smooth"})}Sr=function({id:e,name:n="_",code:i="",lastCodeRun:o=null,lastExecutionTime:s=null,edited:c=!1,config:d,serializedEditorState:p=null}){return{id:e,config:d||{hide_code:!1,disabled:!1,column:null},name:n,code:i,edited:c,lastCodeRun:o,lastExecutionTime:s,serializedEditorState:p}};function jE(e){return{hide_code:!1,disabled:!1,column:null,...e}}Er=function(e){return{outline:null,output:null,consoleOutputs:[],status:"idle",staleInputs:!1,interrupted:!1,errored:!1,stopped:!1,runElapsedTimeMs:null,runStartTimestamp:null,lastRunStartTimestamp:null,debuggerActive:!1,...e}};var lf=Qt(Fr(),1);function qy(e){let n={column:0,hide_code:!1,disabled:!1};return{...e,cellData:{[cs]:Sr({id:cs,config:n}),...e.cellData},cellRuntime:{[cs]:Er(),...e.cellRuntime},cellHandles:{[cs]:(0,At.createRef)(),...e.cellHandles}}}function zE(){return qy({cellIds:Nl.from([]),cellData:{},cellRuntime:{},cellHandles:{},history:[],scrollKey:null,cellLogs:[],untouchedNewCells:new Set})}let FE,BE,jy;({reducer:FE,createActions:BE,useActions:jy,valueAtom:ht}=Ol(zE,{createNewCell:(e,n)=>{var R;let{cellId:i,before:o,code:s,lastCodeRun:c=null,lastExecutionTime:d=null,autoFocus:p=!0,skipIfCodeExists:m=!1,hideCode:v=!1}=n,_,w;if(m){for(let M of e.cellIds.inOrderIds)if(((R=e.cellData[M])==null?void 0:R.code)===s)return e}if(i==="__end__"){let M=e.cellIds.atOrThrow(0);_=M.id,w=M.length}else if(typeof i=="string"){let M=e.cellIds.findWithId(i);_=M.id,w=M.topLevelIds.indexOf(i)}else if(i.type==="__end__"){let M=e.cellIds.get(i.columnId)||e.cellIds.atOrThrow(0);_=M.id,w=M.length}else throw Error("Invalid cellId");let C=n.newCellId||ga.create(),E=o?w:w+1;return{...e,cellIds:e.cellIds.insertId(C,_,E),cellData:{...e.cellData,[C]:Sr({id:C,code:s,lastCodeRun:c,config:jE({hide_code:v}),lastExecutionTime:d,edited:!!s&&s!==c})},cellRuntime:{...e.cellRuntime,[C]:Er()},cellHandles:{...e.cellHandles,[C]:(0,At.createRef)()},scrollKey:p?C:null,untouchedNewCells:v?new Set([...e.untouchedNewCells,C]):e.untouchedNewCells}},moveCell:(e,n)=>{let{cellId:i,before:o,direction:s}=n;if(o!==void 0&&s!==void 0&&Oe.warn("Both before and direction specified for moveCell. Ignoring one."),s){let p=e.cellIds.findWithId(i),m=e.cellIds.indexOf(p),v=s==="left"?m-1:m+1,_=e.cellIds.at(v);return _?{...e,cellIds:e.cellIds.moveAcrossColumns(p.id,i,_.id,void 0),scrollKey:i}:e}let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i);return o&&d===0?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,0),scrollKey:i}:!o&&d===c.length-1?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,c.length-1),scrollKey:i}:o?{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d-1),scrollKey:i}:{...e,cellIds:e.cellIds.moveWithinColumn(c.id,d,d+1),scrollKey:i}},dropCellOverCell:(e,n)=>{let{cellId:i,overCellId:o}=n,s=e.cellIds.findWithId(i),c=e.cellIds.findWithId(o),d=s.indexOfOrThrow(i),p=c.indexOfOrThrow(o);return s.id===c.id?d===p?e:{...e,cellIds:e.cellIds.moveWithinColumn(s.id,d,p),scrollKey:null}:{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,c.id,o),scrollKey:null}},dropCellOverColumn:(e,n)=>{let{cellId:i,columnId:o}=n,s=e.cellIds.findWithId(i);return{...e,cellIds:e.cellIds.moveAcrossColumns(s.id,i,o,void 0)}},dropOverNewColumn:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.moveToNewColumn(i)}},moveColumn:(e,n)=>n.column===n.overColumn?e:{...e,cellIds:e.cellIds.moveColumn(n.column,n.overColumn)},focusCell:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,where:s}=n,c=i.indexOfOrThrow(o),d;d=s==="before"?oh(c-1,0,i.length-1):s==="after"?oh(c+1,0,i.length-1):c;let p=i.atOrThrow(d);return ws({cellId:p,cell:e.cellHandles[p],isCodeHidden:xs(e,p),codeFocus:s==="after"?"top":"bottom",variableName:void 0}),e},focusTopCell:e=>{let n=e.cellIds.getColumns().at(0);if(n===void 0||n.length===0)return e;let i=n.first();return ws({cellId:i,cell:e.cellHandles[i],isCodeHidden:xs(e,i),codeFocus:void 0,variableName:void 0}),qE(),e},focusBottomCell:e=>{let n=e.cellIds.getColumns().at(-1);if(n===void 0||n.length===0)return e;let i=n.last();return ws({cellId:i,cell:e.cellHandles[i],isCodeHidden:xs(e,i),codeFocus:void 0,variableName:void 0}),AE(),e},sendToTop:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o);return c===0?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,0),scrollKey:s?o:null}},sendToBottom:(e,n)=>{let i=e.cellIds.findWithId(n.cellId);if(i.length===0)return e;let{cellId:o,scroll:s=!0}=n,c=i.indexOfOrThrow(o),d=i.length-1;return c===d?e:{...e,cellIds:e.cellIds.moveWithinColumn(i.id,c,d),scrollKey:s?o:null}},addColumn:(e,n)=>{let i=ga.create();return{...e,cellIds:e.cellIds.addColumn(n.columnId,[i]),cellData:{...e.cellData,[i]:Sr({id:i})},cellRuntime:{...e.cellRuntime,[i]:Er()},cellHandles:{...e.cellHandles,[i]:(0,At.createRef)()},scrollKey:i}},addColumnBreakpoint:(e,n)=>{let{cellId:i}=n;return e.cellIds.getColumns()[0].inOrderIds[0]===i?e:{...e,cellIds:e.cellIds.insertBreakpoint(i)}},deleteColumn:(e,n)=>{let{columnId:i}=n;return{...e,cellIds:e.cellIds.delete(i)}},mergeAllColumns:e=>({...e,cellIds:e.cellIds.mergeAllColumns()}),compactColumns:e=>({...e,cellIds:e.cellIds.compact()}),deleteCell:(e,n)=>{var m,v;let i=n.cellId;if(e.cellIds.hasOnlyOneId())return e;let o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=s===0?1:s-1,d=null;o.length>1&&(d=o.atOrThrow(c));let p=(v=(m=e.cellHandles[i].current)==null?void 0:m.editorView)==null?void 0:v.state.toJSON({history:lR});return p.doc=e.cellData[i].code,$E(i),{...e,cellIds:e.cellIds.deleteById(i),history:[...e.history,{name:e.cellData[i].name,serializedEditorState:p,column:o.id,index:s,isSetupCell:i===ur}],scrollKey:d}},undoDeleteCell:e=>{if(e.history.length===0)return e;let{name:n,serializedEditorState:i={doc:""},column:o,index:s,isSetupCell:c}=e.history[e.history.length-1],d=c?ur:ga.create(),p=Sr({id:d,name:n,code:i.doc,edited:i.doc.trim().length>0,serializedEditorState:i});return{...e,cellIds:e.cellIds.insertId(d,o,s),cellData:{...e.cellData,[d]:p},cellRuntime:{...e.cellRuntime,[d]:Er()},cellHandles:{...e.cellHandles,[d]:(0,At.createRef)()},history:e.history.slice(0,-1)}},clearSerializedEditorState:(e,n)=>{let{cellId:i}=n;return Cs({state:e,cellId:i,cellReducer:o=>({...o,serializedEditorState:null})})},updateCellCode:(e,n)=>{let{cellId:i,code:o,formattingChange:s}=n;return e.cellData[i]?Cs({state:e,cellId:i,cellReducer:c=>s?{...c,code:o,lastCodeRun:c.edited?c.lastCodeRun:o}:{...c,code:o,edited:o.trim()!==c.lastCodeRun}}):e},updateCellName:(e,n)=>{let{cellId:i,name:o}=n;return Cs({state:e,cellId:i,cellReducer:s=>({...s,name:o})})},updateCellConfig:(e,n)=>{let{cellId:i,config:o}=n;return Cs({state:e,cellId:i,cellReducer:s=>({...s,config:{...s.config,...o}})})},prepareForRun:(e,n)=>Cs({state:ks({state:e,cellId:n.cellId,cellReducer:i=>RE(i)}),cellId:n.cellId,cellReducer:i=>({...i,edited:!1,lastCodeRun:i.code.trim()})}),handleCellMessage:(e,n)=>{let i=n.cell_id,o=ks({state:e,cellId:i,cellReducer:s=>TE(s,n)});return{...o,cellLogs:[...o.cellLogs,...IE(n)]}},setCellIds:(e,n)=>{if(ST(e.cellIds.inOrderIds,n.cellIds))return e;let i={...e.cellData},o={...e.cellRuntime},s={...e.cellHandles};for(let c of n.cellIds)c in e.cellData||(i[c]=Sr({id:c})),c in e.cellRuntime||(o[c]=Er()),c in e.cellHandles||(s[c]=(0,At.createRef)());return{...e,cellIds:Nl.fromWithPreviousShape(n.cellIds,e.cellIds),cellData:i,cellRuntime:o,cellHandles:s}},setCellCodes:(e,n)=>{Ln(n.codes.length===n.ids.length,"Expected codes and ids to have the same length");let i={...e},o=({cell:s,code:c,cellId:d})=>{if(!s)return Sr({id:d,code:c,lastCodeRun:n.codeIsStale?null:c,edited:n.codeIsStale&&c.trim().length>0});let p=n.codeIsStale?s.lastCodeRun:c,m=p?p.trim()!==c.trim():!!c;if(s.code.trim()===c.trim())return{...s,code:c,edited:m,lastCodeRun:p};if(!Ah()){let v=i.cellHandles[d].current;v!=null&&v.editorViewOrNull&&ps(v.editorViewOrNull,c)}return{...s,code:c,edited:m,lastCodeRun:p}};for(let[s,c]of xw(n.ids,n.codes))s===void 0||c===void 0||(i={...i,cellData:{...i.cellData,[s]:o({cell:i.cellData[s],code:c,cellId:s})}});return i},setStdinResponse:(e,n)=>{let{cellId:i,response:o,outputIndex:s}=n;return ks({state:e,cellId:i,cellReducer:c=>{let d=[...c.consoleOutputs],p=d[s];return p.channel==="stdin"?(d[s]={channel:"stdin",mimetype:p.mimetype,data:p.data,timestamp:p.timestamp,response:o},{...c,interrupted:!1,consoleOutputs:d}):(Oe.warn("Expected stdin output"),c)}})},setCells:(e,n)=>{let i=Object.fromEntries(n.map(s=>[s.id,s])),o=Object.fromEntries(n.map(s=>[s.id,Er()]));return qy({...e,cellIds:Nl.fromIdsAndColumns(n.map(s=>[s.id,s.config.column])),cellData:i,cellRuntime:o,cellHandles:Object.fromEntries(n.map(s=>[s.id,(0,At.createRef)()]))})},moveToNextCell:(e,n)=>{let{cellId:i,before:o,noCreate:s=!1}=n;if(i==="__scratch__")return e;let c=e.cellIds.findWithId(i),d=c.indexOfOrThrow(i),p=o?d-1:d+1,m=p===c.length,v=p===-1;if(m&&!s){let _=ga.create();return{...e,cellIds:e.cellIds.insertId(_,c.id,p),cellData:{...e.cellData,[_]:Sr({id:_})},cellRuntime:{...e.cellRuntime,[_]:Er()},cellHandles:{...e.cellHandles,[_]:(0,At.createRef)()},scrollKey:_}}if(v&&!s){let _=ga.create();return{...e,cellIds:e.cellIds.insertId(_,c.id,0),cellData:{...e.cellData,[_]:Sr({id:_})},cellRuntime:{...e.cellRuntime,[_]:Er()},cellHandles:{...e.cellHandles,[_]:(0,At.createRef)()},scrollKey:_}}if((m||v)&&s)return e;if(p>=0&&p<c.length){let _=c.atOrThrow(p);ws({cellId:_,cell:e.cellHandles[_],isCodeHidden:xs(e,_),codeFocus:o?"bottom":"top",variableName:void 0})}return e},markTouched:(e,n)=>{let{cellId:i}=n;if(e.untouchedNewCells.has(i)){let o=new Set(e.untouchedNewCells);return o.delete(i),{...e,untouchedNewCells:o}}return e},scrollToTarget:e=>{let n=e.scrollKey;if(n===null)return e;let i=e.cellIds.findWithId(n),o=i.indexOfOrThrow(n),s=o===i.length-1?i.last():i.atOrThrow(o);return ws({cellId:s,cell:e.cellHandles[s],isCodeHidden:xs(e,s),codeFocus:void 0,variableName:void 0}),{...e,scrollKey:null}},foldAll:e=>(zw(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),unfoldAll:e=>(Fw(Object.values(e.cellHandles).map(n=>{var i;return(i=n.current)==null?void 0:i.editorView})),e),clearLogs:e=>({...e,cellLogs:[]}),collapseCell:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.topLevelIds.map(p=>e.cellRuntime[p].outline),c=Oy(o.indexOfOrThrow(i),s);if(!c)return e;let d=o.atOrThrow(c[1]);return{...e,cellIds:e.cellIds.transformWithCellId(i,p=>p.collapse(i,d)),scrollKey:i}},expandCell:(e,n)=>{let{cellId:i}=n;return{...e,cellIds:e.cellIds.transformWithCellId(i,o=>o.expand(i)),scrollKey:i}},collapseAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>{let i=n.topLevelIds.map(m=>e.cellRuntime[m].outline),o=[...n.nodes],s=[],c=[],d=o.length-1;for(;d>=0;){let m=Oy(d,i);if(m){let v=d,_=m[1],w=s.find(R=>R.start<=_&&R.end===_);w&&(_=w.start),s.push({start:v,end:_});let C=n.atOrThrow(v),E=n.atOrThrow(_);c.push({id:C,until:E})}else c.push(null);d--}let p=c.reverse();return n.collapseAll(p)})}),expandAllCells:e=>({...e,cellIds:e.cellIds.transformAll(n=>n.expandAll())}),showCellIfHidden:(e,n)=>{let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o,c=o.findAndExpandDeep(i);return c.equals(s)?e:{...e,cellIds:e.cellIds.transformWithCellId(i,()=>c)}},splitCell:(e,n)=>{var _;let{cellId:i}=n,o=e.cellIds.findWithId(i),s=o.indexOfOrThrow(i),c=e.cellData[i],d=e.cellHandles[i].current;if((d==null?void 0:d.editorView)==null)return e;let{beforeCursorCode:p,afterCursorCode:m}=gE(d.editorView);ps(d.editorView,p);let v=ga.create();return{...e,cellIds:e.cellIds.insertId(v,o.id,s+1),cellData:{...e.cellData,[i]:{...c,code:p,edited:!!p&&p.trim()!==((_=c.lastCodeRun)==null?void 0:_.trim())},[v]:Sr({id:v,code:m,edited:!!m})},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]},[v]:Er()},cellHandles:{...e.cellHandles,[v]:(0,At.createRef)()},scrollKey:v}},undoSplitCell:(e,n)=>{var d;let{cellId:i,snapshot:o}=n,s=e.cellData[i],c=e.cellHandles[i].current;return(c==null?void 0:c.editorView)==null?e:(ps(c.editorView,o),{...e,cellIds:e.cellIds.transformWithCellId(i,p=>{let m=p.indexOfOrThrow(i)+1;return p.deleteAtIndex(m)}),cellData:{...e.cellData,[i]:{...s,code:o,edited:!!o&&(o==null?void 0:o.trim())!==((d=s.lastCodeRun)==null?void 0:d.trim())}},cellRuntime:{...e.cellRuntime,[i]:{...e.cellRuntime[i],output:null,consoleOutputs:[]}},cellHandles:{...e.cellHandles}})},clearCellOutput:(e,n)=>{let{cellId:i}=n;return ks({state:e,cellId:i,cellReducer:o=>({...o,output:null,consoleOutputs:[]})})},clearCellConsoleOutput:(e,n)=>{let{cellId:i}=n;return ks({state:e,cellId:i,cellReducer:o=>({...o,consoleOutputs:o.consoleOutputs.filter(s=>s.channel==="stdin"&&s.response==null)})})},clearAllCellOutputs:e=>{let n={...e.cellRuntime};for(let i of e.cellIds.inOrderIds)n[i]={...n[i],output:null,consoleOutputs:[]};return{...e,cellRuntime:n}},addSetupCellIfDoesntExist:(e,n)=>{let{code:i}=n;return i??(i="# Initialization code that runs before all other cells"),e.cellIds.setupCellExists()?{...e,scrollKey:ur}:{...e,cellIds:e.cellIds.insertId(ur,e.cellIds.atOrThrow(0).id,0),cellData:{...e.cellData,[ur]:Sr({id:ur,name:ur,code:i,edited:!!i})},cellRuntime:{...e.cellRuntime,[ur]:Er()},cellHandles:{...e.cellHandles,[ur]:(0,At.createRef)()},scrollKey:ur}}}));function xs(e,n){return!!e.cellData[n].config.hide_code&&!e.untouchedNewCells.has(n)}function ks({state:e,cellId:n,cellReducer:i}){return n in e.cellRuntime?{...e,cellRuntime:{...e.cellRuntime,[n]:i(e.cellRuntime[n])}}:(Oe.warn(`Cell ${n} not found in state`),e)}function Cs({state:e,cellId:n,cellReducer:i}){return n in e.cellData?{...e,cellData:{...e.cellData,[n]:i(e.cellData[n])}}:(Oe.warn(`Cell ${n} not found in state`),e)}X_=function(e){let n=e.cellData,i={column:null};return e.cellIds.getColumns().length>1?e.cellIds.getColumns().flatMap((o,s)=>o.inOrderIds.map((c,d)=>{let p={...i};return d===0&&(p.column=s),{...n[c].config,...p}})):e.cellIds.getColumns().flatMap(o=>o.inOrderIds.map(s=>({...n[s].config,...i})))};let zy;Vu=Be(e=>e(ht).cellIds),f_=Be(e=>e(Vu).hasOnlyOneId()),S_=Be(e=>$h(e(ht)).length>0),k_=Be(e=>Xh(e(ht)).length>0),G_=Be(e=>Ww(e(ht))),ew=Be(e=>Vw(e(ht))),Qu=Be(e=>{let{cellIds:n,cellRuntime:i,cellData:o}=e(ht);return n.inOrderIds.map(s=>{var p;let c=i[s],{name:d}=o[s];if(Wu((p=c.output)==null?void 0:p.mimetype)){Ln(Array.isArray(c.output.data),"Expected array data");let m=c.output.data.filter(v=>!v.type.includes("ancestor"));if(m.length>0)return{output:{...c.output,data:m},cellId:s,cellName:d}}return null}).filter(Boolean)}),ow=Be(e=>{let{cellIds:n,cellRuntime:i}=e(ht);return bE(n.inOrderIds.map(o=>i[o].outline))}),$_=Be(e=>e(Qu).length),zy=ET(Be(e=>{let{cellIds:n,cellData:i}=e(ht);return ti.fromEntries(n.inOrderIds.map(o=>{var s;return[o,(s=i[o])==null?void 0:s.name]}))}));var HE=Be(e=>e(ht).scrollKey);Q2=()=>Kn(ht),P_=()=>Kn(Vu),D_=()=>Kn(zy),M2=()=>Kn(Qu),D2=()=>Kn(ht).cellLogs,Y2=()=>Kn(HE),Yu=()=>ut.get(ht),w_=()=>{let{cellIds:e,cellData:n}=ut.get(ht);return e.inOrderIds.map(i=>{var o;return(o=n[i])==null?void 0:o.name}).filter(Boolean)};var VE=Nw(Tw(ht,e=>e.cellIds.inOrderIds.map(n=>e.cellData[n])));A2=()=>Xb(VE),h_=Be(e=>Bw(e(ht))),n_=Be(e=>Hw(e(ht))),N2=Be(e=>e(ht).cellIds.colLength),A_=Be(e=>e(ht).cellIds.idLength>0),z_=Be(e=>e(ht).cellIds.getColumnIds()),Xu=sd(e=>Be(n=>n(ht).cellData[e]));var cf=sd(e=>Be(n=>n(ht).cellRuntime[e]));const Fy=sd(e=>Be(n=>n(ht).cellHandles[e]));function $E(e){Xu.remove(e),cf.remove(e),Fy.remove(e)}r_=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=Xu(e),n[0]=e,n[1]=i),Kn(i)},W2=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=cf(e),n[0]=e,n[1]=i),Kn(i)},J2=e=>{let n=(0,lf.c)(2),i;return n[0]===e?i=n[1]:(i=Fy(e),n[0]=e,n[1]=i),Kn(i)},Jh=()=>{let{cellIds:e,cellHandles:n}=ut.get(ht);return e.inOrderIds.map(i=>{var o,s;return(s=(o=n[i])==null?void 0:o.current)==null?void 0:s.editorViewOrNull}).filter(Boolean)},y_=e=>{var i;let{cellHandles:n}=ut.get(ht);return(i=n[e].current)==null?void 0:i.editorView},m_=function(e){let{cellIds:n,cellData:i,cellRuntime:o}=e;return n.getColumns().flatMap(s=>s.topLevelIds.map(c=>({...i[c],...o[c]})))},K_=function(e){return Be(n=>n(ht).untouchedNewCells.has(e))};function WE(e){let n=cf(e);return Be(i=>{let o=i(n);if(!o||o.status==="queued"||o.status==="running")return;let s=[],c=o.consoleOutputs;if(c&&c.length>0){let p=c.find(m=>m.mimetype==="application/vnd.marimo+traceback");if(p){let m=p.data;s.push(...am(m))}}let d=o.output;if((d==null?void 0:d.mimetype)==="application/vnd.marimo+error"){let p=d.data;if(Array.isArray(p))for(let m of p)m.type==="syntax"&&m.lineno!=null&&s.push({kind:"cell",cellId:e,lineNumber:m.lineno}),m.type==="import-star"&&m.lineno!=null&&s.push({kind:"cell",cellId:e,lineNumber:m.lineno})}return s.length>0?s:void 0})}rw=function(){return jy()}})();export{ku as $,T2 as $n,R2 as $t,D2 as A,Cu as An,ls as Ar,Su as At,O2 as B,mh as Bn,P2 as Br,ii as Bt,N2 as C,gh as Cn,Nl as Cr,L2 as Ct,M2 as D,I2 as Dn,Eu as Dr,yh as Dt,A2 as E,Tu as En,q2 as Er,vh as Et,Sr as F,oo as Fn,Ru as Fr,Ll as Ft,Du as G,Ou as Gn,j2 as Gr,bh as Gt,_h as H,wh as Hn,cs as Hr,Pu as Ht,Er as I,Nu as In,z2 as Ir,Lu as It,F2 as J,B2 as Jn,xh as Jr,H2 as Jt,kh as K,so as Kn,Ch as Kr,Ml as Kt,V2 as L,Mu as Ln,$2 as Lr,Il as Lt,W2 as M,Al as Mn,U2 as Mr,K2 as Mt,Q2 as N,lo as Nn,Iu as Nr,G2 as Nt,J2 as O,fa as On,us as Or,X2 as Ot,Y2 as P,Sh as Pn,ql as Pr,Eh as Pt,Z2 as Q,e_ as Qn,t_ as Qt,Th as R,ds as Rn,Rh as Rr,pa as Rt,n_ as S,Au as Sn,ha as Sr,qu as St,r_ as T,i_ as Tn,Dh as Tr,a_ as Tt,Oh as U,Ph as Un,ur as Ur,Nh as Ut,Lh as V,Mh as Vn,dr as Vr,ju as Vt,o_ as W,s_ as Wn,zu as Wr,Ih as Wt,Ah as X,Fu as Xn,Bu as Xr,qh as Xt,jh as Y,l_ as Yn,zh as Yr,Fh as Yt,c_ as Z,u_ as Zn,d_ as Zt,f_ as _,i4 as __tla,p_ as _n,Hu as _r,Bh as _t,Vu as a,Hh as an,fs as ar,ps as at,h_ as b,ma as bn,Vh as br,$u as bt,m_ as c,g_ as cn,$h as cr,Tr as ct,y_ as d,v_ as dn,Wh as dr,Uh as dt,b_ as en,__ as er,Wu as et,w_ as f,Uu as fn,x_ as fr,Kh as ft,k_ as g,C_ as gn,co as gr,Qh as gt,S_ as h,Ku as hn,E_ as hr,T_ as ht,Qu as i,R_ as in,Oi as ir,ai as it,D_ as j,O_ as jn,Fn as jr,Gh as jt,P_ as k,N_ as kn,L_ as kr,M_ as kt,Jh as l,Gu as ln,Xh as lr,I_ as lt,A_ as m,Yh as mn,Ju as mr,q_ as mt,Xu as n,jl as nn,j_ as nr,Zh as nt,z_ as o,em as on,Dt as or,F_ as ot,Yu as p,Zu as pn,tm as pr,B_ as pt,nm as q,H_ as qn,V_ as qr,ed as qt,$_ as r,W_ as rn,U_ as rr,rm as rt,K_ as s,td as sn,uo as sr,Q_ as st,G_ as t,Pi as tn,zl as tr,J_ as tt,X_ as u,Y_ as un,Z_ as ur,nd as ut,ew as v,tw as vn,nw as vr,Fl as vt,rw as w,Bl as wn,iw as wr,aw as wt,ow as x,sw as xn,im as xr,lw as xt,ht as y,cw as yn,am as yr,fr as yt,uw as z,om as zn,ga as zr,rd as zt};
